(function(){var e=this,t=e._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,a=Date.now||function(){return(new Date).getTime()},o=n.push,l=n.slice,u=n.concat,c=r.toString,f=r.hasOwnProperty,h=n.forEach,d=n.map,p=n.reduce,g=n.reduceRight,m=n.filter,v=n.every,y=n.some,b=n.indexOf,w=n.lastIndexOf,_=Array.isArray,x=Object.keys,k=s.bind,C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.5.2";var M=C.each=C.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else for(var a=C.keys(e),r=0,s=a.length;r<s;r++)if(t.call(n,e[a[r]],a[r],e)===i)return};C.map=C.collect=function(e,t,i){var n=[];return null==e?n:d&&e.map===d?e.map(t,i):(M(e,(function(e,r,s){n.push(t.call(i,e,r,s))})),n)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=C.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(M(e,(function(e,s,a){r?i=t.call(n,i,e,s,a):(i=e,r=!0)})),!r)throw new TypeError(T);return i},C.reduceRight=C.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return n&&(t=C.bind(t,n)),r?e.reduceRight(t,i):e.reduceRight(t);var s=e.length;if(s!==+s){var a=C.keys(e);s=a.length}if(M(e,(function(o,l,u){l=a?a[--s]:--s,r?i=t.call(n,i,e[l],l,u):(i=e[l],r=!0)})),!r)throw new TypeError(T);return i},C.find=C.detect=function(e,t,i){var n;return D(e,(function(e,r,s){if(t.call(i,e,r,s))return n=e,!0})),n},C.filter=C.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(M(e,(function(e,r,s){t.call(i,e,r,s)&&n.push(e)})),n)},C.reject=function(e,t,i){return C.filter(e,(function(e,n,r){return!t.call(i,e,n,r)}),i)},C.every=C.all=function(e,t,n){t||(t=C.identity);var r=!0;return null==e?r:v&&e.every===v?e.every(t,n):(M(e,(function(e,s,a){if(!(r=r&&t.call(n,e,s,a)))return i})),!!r)};var D=C.some=C.any=function(e,t,n){t||(t=C.identity);var r=!1;return null==e?r:y&&e.some===y?e.some(t,n):(M(e,(function(e,s,a){if(r||(r=t.call(n,e,s,a)))return i})),!!r)};C.contains=C.include=function(e,t){return null!=e&&(b&&e.indexOf===b?-1!=e.indexOf(t):D(e,(function(e){return e===t})))},C.invoke=function(e,t){var i=l.call(arguments,2),n=C.isFunction(t);return C.map(e,(function(e){return(n?t:e[t]).apply(e,i)}))},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t,i){return C[i?"find":"filter"](e,(function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0}))},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,i){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return M(e,(function(e,r,s){var a=t?t.call(i,e,r,s):e;a>n.computed&&(n={value:e,computed:a})})),n.value},C.min=function(e,t,i){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return M(e,(function(e,r,s){var a=t?t.call(i,e,r,s):e;a<n.computed&&(n={value:e,computed:a})})),n.value},C.shuffle=function(e){var t,i=0,n=[];return M(e,(function(e){t=C.random(i++),n[i-1]=n[t],n[t]=e})),n},C.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t))};var S=function(e){return null==e?C.identity:C.isFunction(e)?e:C.property(e)};C.sortBy=function(e,t,i){return t=S(t),C.pluck(C.map(e,(function(e,n,r){return{value:e,index:n,criteria:t.call(i,e,n,r)}})).sort((function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index})),"value")};var E=function(e){return function(t,i,n){var r={};return i=S(i),M(t,(function(s,a){var o=i.call(n,s,a,t);e(r,o,s)})),r}};C.groupBy=E((function(e,t,i){C.has(e,t)?e[t].push(i):e[t]=[i]})),C.indexBy=E((function(e,t,i){e[t]=i})),C.countBy=E((function(e,t){C.has(e,t)?e[t]++:e[t]=1})),C.sortedIndex=function(e,t,i,n){for(var r=(i=S(i)).call(n,t),s=0,a=e.length;s<a;){var o=s+a>>>1;i.call(n,e[o])<r?s=o+1:a=o}return s},C.toArray=function(e){return e?C.isArray(e)?l.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,i){if(null!=e)return null==t||i?e[0]:t<0?[]:l.call(e,0,t)},C.initial=function(e,t,i){return l.call(e,0,e.length-(null==t||i?1:t))},C.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var A=function(e,t,i){return t&&C.every(e,C.isArray)?u.apply(i,e):(M(e,(function(e){C.isArray(e)||C.isArguments(e)?t?o.apply(i,e):A(e,t,i):i.push(e)})),i)};C.flatten=function(e,t){return A(e,t,[])},C.without=function(e){return C.difference(e,l.call(arguments,1))},C.uniq=C.unique=function(e,t,i,n){C.isFunction(t)&&(n=i,i=t,t=!1);var r=i?C.map(e,i,n):e,s=[],a=[];return M(r,(function(i,n){(t?n&&a[a.length-1]===i:C.contains(a,i))||(a.push(i),s.push(e[n]))})),s},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(e){var t=l.call(arguments,1);return C.filter(C.uniq(e),(function(e){return C.every(t,(function(t){return C.indexOf(t,e)>=0}))}))},C.difference=function(e){var t=u.apply(n,l.call(arguments,1));return C.filter(e,(function(e){return!C.contains(t,e)}))},C.zip=function(){for(var e=C.max(C.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;i<e;i++)t[i]=C.pluck(arguments,""+i);return t},C.object=function(e,t){if(null==e)return{};for(var i={},n=0,r=e.length;n<r;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},C.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if("number"!=typeof i)return e[n=C.sortedIndex(e,t)]===t?n:-1;n=i<0?Math.max(0,r+i):i}if(b&&e.indexOf===b)return e.indexOf(t,i);for(;n<r;n++)if(e[n]===t)return n;return-1},C.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(w&&e.lastIndexOf===w)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},C.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,s=new Array(n);r<n;)s[r++]=e,e+=i;return s};var I=function(){};C.bind=function(e,t){var i,n;if(k&&e.bind===k)return k.apply(e,l.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return i=l.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(l.call(arguments)));I.prototype=e.prototype;var r=new I;I.prototype=null;var s=e.apply(r,i.concat(l.call(arguments)));return Object(s)===s?s:r}},C.partial=function(e){var t=l.call(arguments,1);return function(){var i=l.call(t);return C.each(arguments,(function(e){var t=i.indexOf(C);i[t>=0?t:i.length]=e})),e.apply(this,C.map(i,(function(e){return e===C?void 0:e})))}},C.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return M(t,(function(t){e[t]=C.bind(e[t],e)})),e},C.memoize=function(e,t){var i={};return t||(t=C.identity),function(){var n=t.apply(this,arguments);return C.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},C.delay=function(e,t){var i=l.call(arguments,2);return setTimeout((function(){return e.apply(null,i)}),t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(l.call(arguments,1)))},C.throttle=function(e,t,i){var n,r,s,o=null,l=0;i||(i={});var u=function(){l=!1===i.leading?0:a(),o=null,s=e.apply(n,r),n=r=null};return function(){var c=a();l||!1!==i.leading||(l=c);var f=t-(c-l);return n=this,r=arguments,f<=0?(clearTimeout(o),o=null,l=c,s=e.apply(n,r),n=r=null):o||!1===i.trailing||(o=setTimeout(u,f)),s}},C.debounce=function(e,t,i){var n,r,s,o,l;return function(){s=this,r=arguments,o=a();var u=function(){var c=a()-o;c<t?n=setTimeout(u,t-c):(n=null,i||(l=e.apply(s,r),s=r=null))},c=i&&!n;return n||(n=setTimeout(u,t)),c&&(l=e.apply(s,r),s=r=null),l}},C.once=function(e){var t=!1,i;return function(){return t?i:(t=!0,i=e.apply(this,arguments),e=null,i)}},C.wrap=function(e,t){return C.partial(t,e)},C.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},C.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},C.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)C.has(e,i)&&t.push(i);return t},C.values=function(e){for(var t=C.keys(e),i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},C.pairs=function(e){for(var t=C.keys(e),i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},C.invert=function(e){for(var t={},i=C.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},C.functions=C.methods=function(e){var t=[];for(var i in e)C.isFunction(e[i])&&t.push(i);return t.sort()},C.extend=function(e){return M(l.call(arguments,1),(function(t){if(t)for(var i in t)e[i]=t[i]})),e},C.pick=function(e){var t={},i=u.apply(n,l.call(arguments,1));return M(i,(function(i){i in e&&(t[i]=e[i])})),t},C.omit=function(e){var t={},i=u.apply(n,l.call(arguments,1));for(var r in e)C.contains(i,r)||(t[r]=e[r]);return t},C.defaults=function(e){return M(l.call(arguments,1),(function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])})),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var $=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]==e)return n[s]==t;var a=e.constructor,o=t.constructor;if(a!==o&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,u=!0;if("[object Array]"==r){if(u=(l=e.length)==t.length)for(;l--&&(u=$(e[l],t[l],i,n)););}else{for(var f in e)if(C.has(e,f)&&(l++,!(u=C.has(t,f)&&$(e[f],t[f],i,n))))break;if(u){for(f in t)if(C.has(t,f)&&!l--)break;u=!l}}return i.pop(),n.pop(),u};C.isEqual=function(e,t){return $(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=_||function(e){return"[object Array]"==c.call(e)},C.isObject=function(e){return e===Object(e)},M(["Arguments","Function","String","Number","Date","RegExp"],(function(e){C["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}})),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==c.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return f.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.property=function(e){return function(t){return t[e]}},C.times=function(e,t,i){for(var n=Array(Math.max(0,e)),r=0;r<e;r++)n[r]=t.call(i,r);return n},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=C.invert(P.escape);var z={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],(function(e){C[e]=function(t){return null==t?"":(""+t).replace(z[e],(function(t){return P[e][t]}))}})),C.result=function(e,t){if(null!=e){var i=e[t];return C.isFunction(i)?i.call(e):i}},C.mixin=function(e){M(C.functions(e),(function(t){var i=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,i.apply(C,e))}}))};var N=0;C.uniqueId=function(e){var t=++N+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,i){var n;i=C.defaults({},i,C.templateSettings);var r=new RegExp([(i.escape||H).source,(i.interpolate||H).source,(i.evaluate||H).source].join("|")+"|$","g"),s=0,a="__p+='";e.replace(r,(function(t,i,n,r,o){return a+=e.slice(s,o).replace(L,(function(e){return"\\"+O[e]})),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+t.length,t})),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(e){throw e.source=a,e}if(t)return n(t,C);var o=function(e){return n.call(this,e,C)};return o.source="function("+(i.variable||"obj")+"){\n"+a+"}",o},C.chain=function(e){return C(e).chain()};var j=function(e){return this._chain?C(e).chain():e};C.mixin(C),M(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];C.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],j.call(this,i)}})),M(["concat","join","slice"],(function(e){var t=n[e];C.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}})),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],(function(){return C}))}).call(this),function(e,t){var i=0,n=/^ui-id-\d+$/;function r(t,i){var n,r,a,o=t.nodeName.toLowerCase();return"area"===o?(r=(n=t.parentNode).name,!(!t.href||!r||"map"!==n.nodeName.toLowerCase())&&(!!(a=e("img[usemap=#"+r+"]")[0])&&s(a))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o&&t.href||i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),n&&n.call(t)}),i)})):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n=e(this[0]),r,s;n.length&&n[0]!==document;){if(("absolute"===(r=n.css("position"))||"relative"===r||"fixed"===r)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))},removeUniqueId:function(){return this.each((function(){n.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&r(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(i,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function o(t,i,n,s){return e.each(r,(function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)})),i}e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each((function(){e(this).css(s,o(this,i)+"px")}))},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each((function(){e(this).css(s,o(this,t,!0,i)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var r,s=e.ui[t].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(e,t,i){var n,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i=0,n;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,i,n){var r,s,a,o,l={},u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},s=e[u][t],a=e[u][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(o=new i).options=e.widget.extend({},o.options),e.each(n,(function(t,n){e.isFunction(n)?l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t=this._super,i=this._superApply,s;return this._super=e,this._superApply=r,s=n.apply(this,arguments),this._super=t,this._superApply=i,s}}():l[t]=n})),a.prototype=e.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:r}),s?(e.each(s._childConstructors,(function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)})),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(i){for(var r=n.call(arguments,1),s=0,a=r.length,o,l;s<a;s++)for(o in r[s])l=r[s][o],r[s].hasOwnProperty(o)&&l!==t&&(e.isPlainObject(l)?i[o]=e.isPlainObject(i[o])?e.widget.extend({},i[o],l):e.widget.extend({},l):i[o]=l);return i},e.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;e.fn[i]=function(a){var o="string"==typeof a,l=n.call(arguments,1),u=this;return a=!o&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,o?this.each((function(){var n,r=e.data(this,s);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(n=r[a].apply(r,l))!==r&&n!==t?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")})):this.each((function(){var t=e.data(this,s);t?t.option(a||{})._init():e.data(this,s,new r(a,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r=i,s,a,o;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(a=r[i]=e.widget.extend({},this.options[i]),o=0;o<s.length-1;o++)a[s[o]]=a[s[o]]||{},a=a[s[o]];if(i=s.pop(),1===arguments.length)return a[i]===t?null:a[i];a[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var r,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,(function(n,a){function o(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?s[a]:a).apply(s,arguments)}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?r.delegate(c,u,o):i.bind(u,o)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,s,a=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(n,r,s){"string"==typeof r&&(r={effect:r});var a,o=r?!0===r||"number"==typeof r?i:r.effect||i:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),a&&e.effects&&e.effects.effect[o]?n[t](r):o!==t&&n[o]?n[o](r.duration,r.easing,s):n.queue((function(i){e(this)[t](),s&&s.call(n[0]),i()}))}}))}(jQuery),function(e,t){var i=!1;e(document).mouseup((function(){i=!1})),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!s&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){e.ui=e.ui||{};var i,n=Math.max,r=Math.abs,s=Math.round,a=/left|center|right/,o=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,f=e.fn.position;function h(e,t,i){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?i/100:1)]}function d(t,i){return parseInt(e.css(t,i),10)||0}function p(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(i!==t)return i;var n,r,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),n=a.offsetWidth,s.css("overflow","scroll"),n===(r=a.offsetWidth)&&(r=s[0].clientWidth),s.remove(),i=n-r},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r;return{element:i,isWindow:n,isDocument:!!i[0]&&9===i[0].nodeType,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var i,c,g,m,v,y,b=e(t.of),w=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(w),x=(t.collision||"flip").split(" "),k={};return y=p(b),b[0].preventDefault&&(t.at="left top"),c=y.width,g=y.height,m=y.offset,v=e.extend({},m),e.each(["my","at"],(function(){var e=(t[this]||"").split(" "),i,n;1===e.length&&(e=a.test(e[0])?e.concat(["center"]):o.test(e[0])?["center"].concat(e):["center","center"]),e[0]=a.test(e[0])?e[0]:"center",e[1]=o.test(e[1])?e[1]:"center",i=l.exec(e[0]),n=l.exec(e[1]),k[this]=[i?i[0]:0,n?n[0]:0],t[this]=[u.exec(e[0])[0],u.exec(e[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=c:"center"===t.at[0]&&(v.left+=c/2),"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2),i=h(k.at,c,g),v.left+=i[0],v.top+=i[1],this.each((function(){var a,o,l=e(this),u=l.outerWidth(),f=l.outerHeight(),p=d(this,"marginLeft"),y=d(this,"marginTop"),C=u+p+d(this,"marginRight")+_.width,M=f+y+d(this,"marginBottom")+_.height,T=e.extend({},v),D=h(k.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?T.left-=u:"center"===t.my[0]&&(T.left-=u/2),"bottom"===t.my[1]?T.top-=f:"center"===t.my[1]&&(T.top-=f/2),T.left+=D[0],T.top+=D[1],e.support.offsetFractions||(T.left=s(T.left),T.top=s(T.top)),a={marginLeft:p,marginTop:y},e.each(["left","top"],(function(n,r){e.ui.position[x[n]]&&e.ui.position[x[n]][r](T,{targetWidth:c,targetHeight:g,elemWidth:u,elemHeight:f,collisionPosition:a,collisionWidth:C,collisionHeight:M,offset:[i[0]+D[0],i[1]+D[1]],my:t.my,at:t.at,within:w,elem:l})})),t.using&&(o=function(e){var i=m.left-T.left,s=i+c-u,a=m.top-T.top,o=a+g-f,h={target:{element:b,left:m.left,top:m.top,width:c,height:g},element:{element:l,left:T.left,top:T.top,width:u,height:f},horizontal:s<0?"left":i>0?"right":"center",vertical:o<0?"top":a>0?"bottom":"middle"};c<u&&r(i+s)<c&&(h.horizontal="center"),g<f&&r(a+o)<g&&(h.vertical="middle"),n(r(i),r(s))>n(r(a),r(o))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),l.offset(e.extend(T,{using:o}))}))},e.ui.position={fit:{left:function(e,t){var i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,o=r-a,l=a+t.collisionWidth-s-r,u;t.collisionWidth>s?o>0&&l<=0?(u=e.left+o+t.collisionWidth-s-r,e.left+=o-u):e.left=l>0&&o<=0?r:o>l?r+s-t.collisionWidth:r:o>0?e.left+=o:l>0?e.left-=l:e.left=n(e.left-a,e.left)},top:function(e,t){var i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,o=r-a,l=a+t.collisionHeight-s-r,u;t.collisionHeight>s?o>0&&l<=0?(u=e.top+o+t.collisionHeight-s-r,e.top+=o-u):e.top=l>0&&o<=0?r:o>l?r+s-t.collisionHeight:r:o>0?e.top+=o:l>0?e.top-=l:e.top=n(e.top-a,e.top)}},flip:{left:function(e,t){var i=t.within,n=i.offset.left+i.scrollLeft,s=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,o=e.left-t.collisionPosition.marginLeft,l=o-a,u=o+t.collisionWidth-s-a,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0],d,p;l<0?((d=e.left+c+f+h+t.collisionWidth-s-n)<0||d<r(l))&&(e.left+=c+f+h):u>0&&((p=e.left-t.collisionPosition.marginLeft+c+f+h-a)>0||r(p)<u)&&(e.left+=c+f+h)},top:function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,s=i.height,a=i.isWindow?i.scrollTop:i.offset.top,o=e.top-t.collisionPosition.marginTop,l=o-a,u=o+t.collisionHeight-s-a,c,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,d=-2*t.offset[1],p,g;l<0?(g=e.top+f+h+d+t.collisionHeight-s-n,e.top+f+h+d>l&&(g<0||g<r(l))&&(e.top+=f+h+d)):u>0&&(p=e.top-t.collisionPosition.marginTop+f+h+d-a,e.top+f+h+d>u&&(p>0||r(p)<u)&&(e.top+=f+h+d))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,s,a=document.getElementsByTagName("body")[0],o=document.createElement("div");for(s in t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[s]=n[s];t.appendChild(o),(i=a||document.documentElement).insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",r=e(o).offset().left,e.support.offsetFractions=r>10&&r<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===i.iframeFix?"iframe":i.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),!0))},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",t)&&i._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(n=(i=e(r.containment))[0])&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i)):this.containment=r.containment:this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,r,s,a=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,u=t.pageY;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),r=n.options,s=e.extend({},i,{item:n.element});n.sortables=[],e(r.connectToSortable).each((function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,s))}))},stop:function(t,i){var n=e(this).data("ui-draggable"),r=e.extend({},i,{item:n.element});e.each(n.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))}))},drag:function(t,i){var n=e(this).data("ui-draggable"),r=this;e.each(n.sortables,(function(){var s=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(n.sortables,(function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s}))),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each((function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,i){var n,r,s,a,o,l,u,c,f,h,d=e(this).data("ui-draggable"),p=d.options,g=p.snapTolerance,m=i.offset.left,v=m+d.helperProportions.width,y=i.offset.top,b=y+d.helperProportions.height;for(f=d.snapElements.length-1;f>=0;f--)l=(o=d.snapElements[f].left)+d.snapElements[f].width,c=(u=d.snapElements[f].top)+d.snapElements[f].height,v<o-g||m>l+g||b<u-g||y>c+g||!e.contains(d.snapElements[f].item.ownerDocument,d.snapElements[f].item)?(d.snapElements[f].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[f].item})),d.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(u-b)<=g,r=Math.abs(c-y)<=g,s=Math.abs(o-v)<=g,a=Math.abs(l-m)<=g,n&&(i.position.top=d._convertPositionTo("relative",{top:u-d.helperProportions.height,left:0}).top-d.margins.top),r&&(i.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),s&&(i.position.left=d._convertPositionTo("relative",{top:0,left:o-d.helperProportions.width}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),h=n||r||s||a,"outer"!==p.snapMode&&(n=Math.abs(u-y)<=g,r=Math.abs(c-b)<=g,s=Math.abs(o-m)<=g,a=Math.abs(l-v)<=g,n&&(i.position.top=d._convertPositionTo("relative",{top:u,left:0}).top-d.margins.top),r&&(i.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),s&&(i.position.left=d._convertPositionTo("relative",{top:0,left:o}).left-d.margins.left),a&&(i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[f].snapping&&(n||r||s||a||h)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[f].item})),d.snapElements[f].snapping=n||r||s||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each((function(i){e(this).css("zIndex",t+i)})),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e,t){function i(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},e.ui.ddmanager.droppables[i.scope]=e.ui.ddmanager.droppables[i.scope]||[],e.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return r=!0,!1})),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,n){if(!t.offset)return!1;var r,s,a=(e.positionAbs||e.position.absolute).left,o=(e.positionAbs||e.position.absolute).top,l=a+e.helperProportions.width,u=o+e.helperProportions.height,c=t.offset.left,f=t.offset.top,h=c+t.proportions().width,d=f+t.proportions().height;switch(n){case"fit":return c<=a&&l<=h&&f<=o&&u<=d;case"intersect":return c<a+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&f<o+e.helperProportions.height/2&&u-e.helperProportions.height/2<d;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,i(s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,f,t.proportions().height)&&i(r,c,t.proportions().width);case"touch":return(o>=f&&o<=d||u>=f&&u<=d||o<f&&u>d)&&(a>=c&&a<=h||l>=c&&l<=h||a<c&&l>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,s=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(r=0;r<o.length;r++)if(o[r]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===a&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,s,a=e.ui.intersect(t,this,this.options.tolerance),o=!a&&this.isover?"isout":a&&!this.isover?"isover":null;o&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter((function(){return e.data(this,"ui-droppable").options.scope===r}))).length&&((n=e.data(s[0],"ui-droppable")).greedyChild="isover"===o)),n&&"isover"===o&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),n&&"isout"===o&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}}))},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e,t){function i(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,r,s,a=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),(r=e("<div class='ui-resizable-handle "+(s="ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,s;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,s),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")})),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())})).mouseleave((function(){o.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)((n=e(this.handles[i])[0])===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,r,s,a=this.options,o=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),n=i(this.helper.css("left")),r=i(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,r+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n=this.helper,r={},s=this.originalMousePosition,a=this.axis,o=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,f=t.pageX-s.left||0,h=t.pageY-s.top||0,d=this._change[a];return!!d&&(i=d.apply(this,[t,f,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==o&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==u&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,r,s,a,o,l,u=this.options,c=this;return this._helper&&(r=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&e.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,s=n?0:c.sizeDiff.width,a={width:c.helper.width()-s,height:c.helper.height()-r},o=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(a,{top:l,left:o})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,r,s,a,o=this.options;a={minWidth:n(o.minWidth)?o.minWidth:0,maxWidth:n(o.maxWidth)?o.maxWidth:1/0,minHeight:n(o.minHeight)?o.minHeight:0,maxHeight:n(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),r>a.minHeight&&(a.minHeight=r),i<a.maxWidth&&(a.maxWidth=i),s<a.maxHeight&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=n(e.width)&&t.minWidth&&t.minWidth>e.width,o=n(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(i),f=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&c&&(e.left=l-t.minWidth),r&&c&&(e.left=l-t.maxWidth),o&&f&&(e.top=u-t.minHeight),s&&f&&(e.top=u-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,r,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);r.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,s=r.length&&/textarea/i.test(r[0].nodeName),a=s&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,o=s?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-a},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,s,a,o,l,u=e(this).data("ui-resizable"),c=u.options,f=u.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?f.parent().get(0):h;d&&(u.containerElement=e(d),/document/.test(h)||h===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){n[e]=i(t.css("padding"+r))})),u.containerOffset=t.offset(),u.containerPosition=t.position(),u.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=u.containerOffset,s=u.containerSize.height,a=u.containerSize.width,o=e.ui.hasScroll(d,"left")?d.scrollWidth:a,l=e.ui.hasScroll(d)?d.scrollHeight:s,u.parentData={element:d,left:r.left,top:r.top,width:o,height:l}))},resize:function(t){var i,n,r,s,a=e(this).data("ui-resizable"),o=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,f={top:0,left:0},h=a.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(f=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-f.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=o.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper,a.offset.left-f.left+a.sizeDiff.width)),n=Math.abs((a._helper?a.offset.top-f.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),r&&s&&(i-=Math.abs(a.parentData.left)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,r=t.containerPosition,s=t.containerElement,a=e(t.helper),o=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:o.left-r.left-n.left,width:l,height:u}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:o.left-r.left-n.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t,i=e(this).data("ui-resizable").options,n=function(t){e(t).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,(function(e){n(e)}))},resize:function(t,i){var n=e(this).data("ui-resizable"),r=n.options,s=n.originalSize,a=n.originalPosition,o={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),s={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,(function(e,t){var i=(r[t]||0)+(o[t]||0);i&&i>=0&&(s[t]=i||null)})),t.css(s)}))};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,(function(e,t){l(e,t)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,r=t.originalSize,s=t.originalPosition,a=t.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=o[0]||1,u=o[1]||1,c=Math.round((n.width-r.width)/l)*l,f=Math.round((n.height-r.height)/u)*u,h=r.width+c,d=r.height+f,p=i.maxWidth&&i.maxWidth<h,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>d;i.grid=o,m&&(h+=l),v&&(d+=u),p&&(h-=l),g&&(d-=u),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=d):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=d,t.position.top=s.top-f):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=d,t.position.left=s.left-c):(d-u>0?(t.size.height=d,t.position.top=s.top-f):(t.size.height=u,t.position.top=s.top+r.height-u),h-l>0?(t.size.width=h,t.position.left=s.left-c):(t.size.width=l,t.position.left=s.left+r.width-l))}})}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))})),e(t.target).parents().addBack().each((function(){var n,r=e.data(this,"selectable-item");if(r)return n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],a=this.opos[1],o=t.pageX,l=t.pageY;return s>o&&(i=o,o=s,s=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:s,top:a,width:o-s,height:l-a}),this.selectees.each((function(){var i=e.data(this,"selectable-item"),u=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?u=!(i.left>o||i.right<s||i.top>l||i.bottom<a):"fit"===r.tolerance&&(u=i.left>s&&i.right<o&&i.top>a&&i.bottom<l),u?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))})),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})})),e(".ui-selecting",this.element[0]).each((function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})})),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){function i(e,t,i){return e>t&&e<t+i}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||n(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,r=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,s.widgetName+"-item")===s)return n=e(this),!1})),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each((function(){this===t.target&&(r=!0)})),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var r,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,s,a=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),!1!==o&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(r=(n=this.items[i]).item[0],(s=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))})),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each((function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")})),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=e.left,a=s+e.width,o=e.top,l=o+e.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||n+u>o&&n+u<l,h="y"===this.options.axis||t+c>s&&t+c<a,d=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&o<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!r&&(this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(e){var t=i(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=i(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,s,a=[],o=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(r=e(l[i])).length-1;n>=0;n--)(s=e.data(r[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&o.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function u(){a.push(this)}for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=o.length-1;i>=0;i--)o[i][0].each(u);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,s,a,o,l,u,c=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(n=(r=e(h[i])).length-1;n>=0;n--)(s=e.data(r[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&(f.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=f.length-1;i>=0;i--)for(a=f[i][1],n=0,u=(o=f[i][0]).length;n<u;n++)(l=e(o[n])).data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,r,s;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each((function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)})):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){i&&!n.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var r,s,a,o,l,u,c,f,h,d,p=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(p&&e.contains(this.containers[r].element[0],p.element[0]))continue;p=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,o=null,l=(d=p.floating||n(this.currentItem))?"left":"top",u=d?"width":"height",c=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)e.contains(this.containers[g].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(d&&!i(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height)||(f=this.items[s].item.offset()[l],h=!1,Math.abs(f-c)>Math.abs(f+this.items[s][u]-c)&&(h=!0,f+=this.items[s][u]),Math.abs(f-c)<a&&(a=Math.abs(f-c),o=this.items[s],this.direction=h?"up":"down")));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[g].element,!0),this._trigger("change",t,this._uiHash()),this.containers[g]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",t,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,s=t.pageX,a=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger("remove",e,this._uiHash())})),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(r("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(r("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i=0,n={},r={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each((function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")})),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)):this._activate(t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,n=this.options,r=n.heightStyle,s=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each((function(t){var i=e(this),n=i.attr("id"),r=i.next(),s=r.attr("id");n||(n=a+"-header-"+t,i.attr("id",n)),s||(s=a+"-panel-"+t,r.attr("id",s)),i.attr("aria-controls",s),r.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(t=s.height(),this.element.siblings(":visible").each((function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each((function(){t=Math.max(t,e(this).css("height","").height())})).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),s=r[0]===n[0],a=s&&i.collapsible,o=a?e():r.next(),l=n.next(),u={oldHeader:n,oldPanel:l,newHeader:a?e():r,newPanel:o};t.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",t,u)||(i.active=!a&&this.headers.index(r),this.active=s?e():r,this._toggle(u),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var s,a,o,l=this,u=0,c=e.length&&(!t.length||e.index()<t.index()),f=this.options.animate||{},h=c&&f.down||f,d=function(){l._toggleComplete(i)};return"number"==typeof h&&(o=h),"string"==typeof h&&(a=h),a=a||h.easing||f.easing,o=o||h.duration||f.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(n,{duration:o,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(r,{duration:o,easing:a,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?u+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-u),u=0)}})):t.animate(n,o,a,d):e.animate(r,o,a,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e,t){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,a="input"===r;this.isMultiLine=!!s||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[s||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case s.UP:t=!0,this._keyEvent("previous",r);break;case s.DOWN:t=!0,this._keyEvent("next",r);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()}))}))},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,(function(e,i){n._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,(function(e){return n.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var i,n="ui-button ui-widget ui-state-default ui-corner-all",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout((function(){t.find(":ui-button").button("refresh")}),1)},a=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter((function(){return!this.form}))),r};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,r=this.options,o="checkbox"===this.type||"radio"===this.type,l=o?"":"ui-state-active";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(n).attr("role","button").bind("mouseenter"+this.eventNamespace,(function(){r.disabled||this===i&&e(this).addClass("ui-state-active")})).bind("mouseleave"+this.eventNamespace,(function(){r.disabled||e(this).removeClass(l)})).bind("click"+this.eventNamespace,(function(e){r.disabled&&(e.preventDefault(),e.stopImmediatePropagation())})),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),o&&this.element.bind("change"+this.eventNamespace,(function(){t.refresh()})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(r.disabled)return!1})):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,(function(){if(r.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];a(i).not(i).map((function(){return e(this).button("widget")[0]})).removeClass("ui-state-active").attr("aria-pressed","false")})):(this.buttonElement.bind("mousedown"+this.eventNamespace,(function(){if(r.disabled)return!1;e(this).addClass("ui-state-active"),i=this,t.document.one("mouseup",(function(){i=null}))})).bind("mouseup"+this.eventNamespace,(function(){if(r.disabled)return!1;e(this).removeClass("ui-state-active")})).bind("keydown"+this.eventNamespace,(function(t){if(r.disabled)return!1;t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")})).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,(function(){e(this).removeClass("ui-state-active")})),this.buttonElement.is("a")&&this.buttonElement.keyup((function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()}))),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(n+" ui-state-active "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"));this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each((function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")})):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(r),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map((function(){return e(this).button("widget")[0]})).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var i="datepicker",n;function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(i,"mouseover",(function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}))}function a(t,i){for(var n in e.extend(t,i),i)null==i[n]&&(t[n]=i[n]);return t}e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,s;r="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(s=this._newInst(e(t),r)).settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):r&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var n;return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,i,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,s,a=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||t.focus(this._showDatepicker),"button"!==n&&"both"!==n||(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,s=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},s.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,i,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,s,o){var l,u,c,f,h,d=this._dialogInst;return d||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],i,d)),a(d.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+f,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],i,d),this},_destroyDatepicker:function(t){var n,r=e(t),s=e.data(t,i);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,i),"input"===n?(s.append.remove(),s.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,r,s=e(t),a=e.data(t,i);s.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((r=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,r,s=e(t),a=e.data(t,i);s.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((r=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,i)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,r){var s,o,l,u,c=this._getInst(i);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;s=n||{},"string"==typeof n&&((s={})[n]=r),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),u=this._getMinMaxDate(c,"max"),a(c.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(c.settings.minDate=this._formatDate(c,l)),null!==u&&s.dateFormat!==t&&s.maxDate===t&&(c.settings.maxDate=this._formatDate(c,u)),"disabled"in s&&(s.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,s=e.datepicker._getInst(t.target),a=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv))[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,r[0]),(i=e.datepicker._get(s,"onSelect"))?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{(i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(err){}return!0},_showDatepicker:function(t){var i,n,r,s,o,l,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(r=(n=e.datepicker._get(i,"beforeShow"))?n.apply(t,[t,i]):{})&&(a(i.settings,r),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i)))},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),s=r[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout((function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+s>u&&u>s?Math.abs(s+o):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var n,r,s,a,o=this._curInst;!o||t&&o!==e.data(t,i)||this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),r,s):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,s),n||s(),this._datepickerShowing=!1,(a=this._get(o,"onClose"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(t,i,n,r){var s,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((s=this._getInst(a[0])).selectedDay=s.currentDay=e("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),s=this._getInst(r[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),(n=this._get(s,"onSelect"))?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each((function(){e(this).val(r)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var r,s,a,o=0,l=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,f=(n?n.dayNames:null)||this._defaults.dayNames,h=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,d=(n?n.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,m=-1,v=-1,y=!1,b,w=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},_=function(e){var t=w(e),n,r=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),s=i.substring(o).match(r);if(!s)throw"Missing number at position "+o;return o+=s[0].length,parseInt(s[0],10)},x=function(t,n,r){var s=-1,a=e.map(w(t)?r:n,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var n=t[1];if(i.substr(o,n.length).toLowerCase()===n.toLowerCase())return s=t[0],o+=n.length,!1})),-1!==s)return s+1;throw"Unknown name at position "+o},k=function(){if(i.charAt(o)!==t.charAt(r))throw"Unexpected literal at position "+o;o++};for(r=0;r<t.length;r++)if(y)"'"!==t.charAt(r)||w("'")?k():y=!1;else switch(t.charAt(r)){case"d":m=_("d");break;case"D":x("D",c,f);break;case"o":v=_("o");break;case"m":g=_("m");break;case"M":g=x("M",h,d);break;case"y":p=_("y");break;case"@":p=(b=new Date(_("@"))).getFullYear(),g=b.getMonth()+1,m=b.getDate();break;case"!":p=(b=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),g=b.getMonth()+1,m=b.getDate();break;case"'":w("'")?k():y=!0;break;default:k()}if(o<i.length&&(a=i.substr(o),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=u?0:-100)),v>-1)for(g=1,m=v;;){if(m<=(s=this._getDaysInMonth(p,g-1)))break;g++,m-=s}if((b=this._daylightSavingAdjust(new Date(p,g-1,m))).getFullYear()!==p||b.getMonth()+1!==g||b.getDate()!==m)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},u=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return l(e)?n[t]:i[t]},f="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?f+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":f+=u("d",t.getDate(),2);break;case"D":f+=c("D",t.getDay(),r,s);break;case"o":f+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=u("m",t.getMonth()+1,2);break;case"M":f+=c("M",t.getMonth(),a,o);break;case"y":f+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":f+=t.getTime();break;case"!":f+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?f+="'":h=!0;break;default:f+=e.charAt(n)}return f},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),s=r,a=this._getFormatConfig(e);try{s=this.parseDate(i,n,a)||r}catch(event){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=n.getFullYear(),s=n.getMonth(),a=n.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,s))}l=o.exec(i)}return new Date(r,s,a)},a=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return(a=a&&"Invalid Date"===a.toString()?n:a)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t;return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,i,n,r,s,a,o,l,u,c,f,h,d,p,g,m,v,y,b,w,_,x,k,C,M,T,D,S,E,A,I,$,P,z,N,H,O,L,j,F=new Date,R=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),W=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),Q=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==U[0]||1!==U[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-Q,et=e.drawYear;if(J<0&&(J+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-U[0]*U[1]+1,Z.getDate())),t=K&&t<K?K:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)--J<0&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,i=this._get(e,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(et,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(et,J+G,1)),this._getFormatConfig(e)):r,s=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:R,a=B?this.formatDate(a,o,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,f=this._get(e,"showWeek"),h=this._get(e,"dayNames"),d=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(M=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),T=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(W?"right":"left");break;case U[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(W?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?W?s:n:"")+(/all|right/.test(T)&&0===x?W?n:s:"")+this._generateMonthYearHeader(e,J,et,K,Z,x>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)S+="<th"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E=(_+c)%7]+"'>"+d[E]+"</span></th>";for(D+=S+"</tr></thead><tbody>",A=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(et,J)-c+7)%7,$=Math.ceil((I+A)/7),P=X&&this.maxRows>$?this.maxRows:$,this.maxRows=P,z=this._daylightSavingAdjust(new Date(et,J,1-I)),N=0;N<P;N++){for(D+="<tr>",H=f?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",_=0;_<7;_++)O=m?m.apply(e.input?e.input[0]:null,[z]):[!0,""],j=(L=z.getMonth()!==J)&&!y||!O[0]||K&&z<K||Z&&z>Z,H+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(z.getTime()===M.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===M.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(z.getTime()===V.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===V.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);D+=H+"</tr>"}++J>11&&(J=0,et++),k+=D+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=k}return w+=u,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,r,s,a,o){var l,u,c,f,h,d,p,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,u=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+o[c]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(f=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=(d=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(f[0]),g=Math.max(p,d(f[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&t<i?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(t<0?t:r[0]*r[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=null,o=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(o+=n)),(!r||t.getTime()>=r.getTime())&&(!s||t.getTime()<=s.getTime())&&(!a||t.getFullYear()>=a)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(error){}this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",t)}))}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,(function(i,n){var r,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)})),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",i,n(r))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(r,s){i.position=[s.position.left-t.document.scrollLeft(),s.position.top-t.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",r,n(s))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,n){e(this).addClass("ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",i,a(n))},resize:function(e,i){t._trigger("resize",e,a(i))},stop:function(n,r){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",n,a(r))}}).css("position",r)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var r=this,s=!1,a={};e.each(t,(function(e,t){r._setOption(e,t),e in i&&(s=!0),e in n&&(a[e]=t)})),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay((function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",(function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())}))})),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t=this.options.position,i=[],n=[0,0],r;t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(i=t.split?t.split(" "):[t[0],t[1]]).length&&(i[1]=i[0]),e.each(["left","top"],(function(e,t){+i[e]===i[e]&&(n[e]=i[e],i[e]=t)})),t={my:i[0]+(n[0]<0?n[0]:"+"+n[0])+" "+i[1]+(n[1]<0?n[1]:"+"+n[1]),at:i.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(r=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),r||this.uiDialog.hide()}})}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy((function(e){this.options.disabled&&e.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,r,s,a,o=!0;function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",r=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),r===n?s=!0:r=n+r,a=new RegExp("^"+l(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())})),(i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(t.keyCode),a=new RegExp("^"+l(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())}))),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))})),(t=n.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each((function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")})),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,s,a,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),o=t.height(),r<0?this.activeMenu.scrollTop(s+r):r+o>a&&this.activeMenu.scrollTop(s+r-a+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n-r<0})),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,r;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n+r>0})),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===t)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e,t){var i=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;t<i;t++)a.push(s);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,s,a,o,l,u,c=this,f=this.options;return!f.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var i=Math.abs(n-c.values(t));(r>i||r===i&&(t===c._lastChangedValue||c.values(t)===f.min))&&(r=i,s=e(this),a=t)})),!1!==(o=this._start(t,a))&&(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&((r=this.values())[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),!1!==s&&this.values(t,i))):i!==this.value()&&!1!==(s=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(r[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,r,s,a=this.options.range,o=this.options,l=this,u=!this._animateOff&&o.animate,c={};this.options.values&&this.options.values.length?this.handles.each((function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[u?"animate":"css"](c,o.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},o.animate),1===n&&l.range[u?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},o.animate),1===n&&l.range[u?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i})):(n=this.value(),r=this._valueMin(),s=this._valueMax(),i=s!==r?(n-r)/(s-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,o.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},o.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},o.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(t){var n,r,s,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===(n=this._start(t,o))))return}switch(a=this.options.step,r=s=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;s=this._trimAlignValue(r+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;s=this._trimAlignValue(r-a)}this._slide(t,o,s)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],(function(e,n){var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){var i;function n(){var e;this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i})))}i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,n.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,i)}),e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t((function(e){this._super(e),this._value(this.element.val())})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:t((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){var i=0,n=/#.*$/;function r(){return++i}function s(e){return(e=e.cloneNode(!1)).hash.length>1&&decodeURIComponent(e.href.replace(n,""))===decodeURIComponent(location.href.replace(n,""))}e.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each((function(i,r){if(e(r).attr("aria-controls")===n)return t=i,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",n)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){var n=this.tabs.length-1;function r(){return t>n&&(t=0),t<0&&(t=n),t}for(;-1!==e.inArray(r(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+r()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),(function(e){return i.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each((function(i,n){var r,a,o,l=e(n).uniqueId().attr("id"),u=e(n).closest("li"),c=u.attr("aria-controls");s(n)?(r=n.hash,a=t.element.find(t._sanitizeSelector(r))):(r="#"+(o=t._tabId(u)),(a=t.element.find(r)).length||(a=t._createPanel(o)).insertAfter(t.panels[i-1]||t.tablist),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":r.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)})),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,n;n=this.tabs[i];i++)!0===t||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each((function(){i=Math.max(i,e(this).height("").height())})).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r,s=e(t.currentTarget).closest("li"),a=s[0]===n[0],o=a&&i.collapsible,l=o?e():this._getPanelForTab(s),u=n.length?this._getPanelForTab(n):e(),c={oldTab:n,oldPanel:u,newTab:o?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!o&&this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,c))},_toggle:function(t,i){var n=this,r=i.newPanel,s=i.oldPanel;function a(){n.running=!1,n._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,a):(r.show(),a())}this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,(function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()})):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),o()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&s.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")})),this.tabs.each((function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;!1!==n&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,(function(e){return e!==i?e:null})):e.map(this.tabs,(function(e,t){return t!==i?t:null}))),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(!0!==n){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var n=this,r=this.tabs.eq(t),a=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),l={tab:r,panel:o};s(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success((function(e){setTimeout((function(){o.html(e),n._trigger("load",i,l)}),1)})).complete((function(e,t){setTimeout((function(){"abort"===t&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr}),1)}))))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,s){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(e){var t=0;function i(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function n(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,n);-1!==r&&n.splice(r,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}e.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;if("disabled"===t)return this[i?"_disable":"_enable"](),void(this.options[t]=i);this._super(t,i),"content"===t&&e.each(this.tooltips,(function(e,t){n._updateContent(t)}))},_disable:function(){var t=this;e.each(this.tooltips,(function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n[0],t.close(r,!0)})),this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")}))},_enable:function(){this.element.find(this.options.items).addBack().each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}))},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each((function(){var t=e(this),n;t.data("ui-tooltip-open")&&((n=e.Event("blur")).target=n.currentTarget=this,i.close(n,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))})),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,r=this,s=t?t.type:null;if("string"==typeof n)return this._open(t,e,n);(i=n.call(e[0],(function(i){e.data("ui-tooltip-open")&&r._delay((function(){t&&(t.type=s),this._open(t,e,i)}))})))&&this._open(t,e,i)},_open:function(t,n,r){var s,a,o,l=e.extend({},this.options.position);function u(e){l.of=e,s.is(":hidden")||s.position(l)}r&&((s=this._find(n)).length?s.find(".ui-tooltip-content").html(r):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),s=this._tooltip(n),i(n,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:u}),u(t)):s.position(e.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval((function(){s.is(":visible")&&(u(l.of),clearInterval(o))}),e.fx.interval)),this._trigger("open",t,{tooltip:s}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(s)}},t&&"mouseover"!==t.type||(a.mouseleave="close"),t&&"focusin"!==t.type||(a.focusout="close"),this._on(!0,n,a)))},close:function(t){var i=this,r=e(t?t.currentTarget:this.element),s=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),n(r),s.stop(!0),this._hide(s,this.options.hide,(function(){i._removeTooltip(e(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]})),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(i){var n="ui-tooltip-"+t++,r=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[n]=i,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,(function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n[0],t.close(r,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}))}})}(jQuery),function(e,t){var i="ui-effects-";e.effects={effect:{}},function(e,t){var i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",n=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},o={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=s.support={},u=e("<p>")[0],c,f=e.each;function h(e,t,i){var n=o[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function d(t){var i=s(),n=i._rgba=[];return t=t.toLowerCase(),f(r,(function(e,r){var s,o=r.re.exec(t),l=o&&r.parse(o),u=r.space||"rgba";if(l)return s=i[u](l),i[a[u].cache]=s[a[u].cache],n=i._rgba=s._rgba,!1})),n.length?("0,0,0,0"===n.join()&&e.extend(n,c.transparent),i):c[t]}function p(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,f(a,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),s.fn=e.extend(s.prototype,{parse:function(i,n,r,o){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(n),n=t);var l=this,u=e.type(i),p=this._rgba=[];return n!==t&&(i=[i,n,r,o],u="array"),"string"===u?this.parse(d(i)||c._default):"array"===u?(f(a.rgba.props,(function(e,t){p[t.idx]=h(i[t.idx],t)})),this):"object"===u?(f(a,i instanceof s?function(e,t){i[t.cache]&&(l[t.cache]=i[t.cache].slice())}:function(t,n){var r=n.cache;f(n.props,(function(e,t){if(!l[r]&&n.to){if("alpha"===e||null==i[e])return;l[r]=n.to(l._rgba)}l[r][t.idx]=h(i[e],t,!0)})),l[r]&&e.inArray(null,l[r].slice(0,3))<0&&(l[r][3]=1,n.from&&(l._rgba=n.from(l[r])))}),this):void 0},is:function(e){var t=s(e),i=!0,n=this;return f(a,(function(e,r){var s,a=t[r.cache];return a&&(s=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,(function(e,t){if(null!=a[t.idx])return i=a[t.idx]===s[t.idx]}))),i})),i},_space:function(){var e=[],t=this;return f(a,(function(i,n){t[n.cache]&&e.push(i)})),e.pop()},transition:function(e,t){var i=s(e),n=i._space(),r=a[n],l=0===this.alpha()?s("transparent"):this,u=l[r.cache]||r.to(l._rgba),c=u.slice();return i=i[r.cache],f(r.props,(function(e,n){var r=n.idx,s=u[r],a=i[r],l=o[n.type]||{};null!==a&&(null===s?c[r]=a:(l.mod&&(a-s>l.mod/2?s+=l.mod:s-a>l.mod/2&&(s-=l.mod)),c[r]=h((a-s)*t+s,n)))})),this[n](c)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=s(t)._rgba;return s(e.map(i,(function(e,t){return(1-n)*r[t]+n*e})))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,a.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,n=e[2]/255,r=e[3],s=Math.max(t,i,n),a=Math.min(t,i,n),o=s-a,l=s+a,u=.5*l,c,f;return c=a===s?0:t===s?60*(i-n)/o+360:i===s?60*(n-t)/o+120:60*(t-i)/o+240,f=0===o?0:u<=.5?o/l:o/(2-l),[Math.round(c)%360,f,u,null==r?1:r]},a.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*p(a,s,t+1/3)),Math.round(255*p(a,s,t)),Math.round(255*p(a,s,t-1/3)),r]},f(a,(function(i,r){var a=r.props,o=r.cache,l=r.to,u=r.from;s.fn[i]=function(i){if(l&&!this[o]&&(this[o]=l(this._rgba)),i===t)return this[o].slice();var n,r=e.type(i),c="array"===r||"object"===r?i:arguments,d=this[o].slice();return f(a,(function(e,t){var i=c["object"===r?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=h(i,t)})),u?((n=s(u(d)))[o]=d,n):s(d)},f(a,(function(t,r){s.fn[t]||(s.fn[t]=function(s){var a=e.type(s),o="alpha"===t?this._hsla?"hsla":"rgba":i,l=this[o](),u=l[r.idx],c;return"undefined"===a?u:("function"===a&&(s=s.call(this,u),a=e.type(s)),null==s&&r.empty?this:("string"===a&&(c=n.exec(s))&&(s=u+parseFloat(c[2])*("+"===c[1]?1:-1)),l[r.idx]=s,this[o](l)))})}))})),s.hook=function(t){var i=t.split(" ");f(i,(function(t,i){e.cssHooks[i]={set:function(t,n){var r,a,o="";if("transparent"!==n&&("string"!==e.type(n)||(r=d(n)))){if(n=s(r||n),!l.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&a&&a.style;)try{o=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}n=n.blend(o&&"transparent"!==o?o:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=s(t.elem,i),t.end=s(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}}))},s.hook(i),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],(function(i,n){t["border"+n+"Color"]=e})),t}},c=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){var i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)"string"==typeof r[i=r[n]]&&(s[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function s(t,i){var r={},s,a;for(s in i)a=i[s],t[s]!==a&&(n[s]||!e.fx.step[s]&&isNaN(parseFloat(a))||(r[s]=a));return r}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,n,a,o){var l=e.speed(n,a,o);return this.queue((function(){var n=e(this),a=n.attr("class")||"",o,u=l.children?n.find("*").addBack():n;u=u.map((function(){var t;return{el:e(this),start:r(this)}})),(o=function(){e.each(i,(function(e,i){t[i]&&n[i+"Class"](t[i])}))})(),u=u.map((function(){return this.end=r(this.el[0]),this.diff=s(this.start,this.end),this})),n.attr("class",a),u=u.map((function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()})),e.when.apply(e,u.get()).done((function(){o(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(n[0])}))}))},e.fn.extend({addClass:function(t){return function(i,n,r,s){return n?e.effects.animateClass.call(this,{add:i},n,r,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(n,r,s,a,o){return"boolean"==typeof r||r===t?s?e.effects.animateClass.call(this,r?{add:n}:{remove:n},s,a,o):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,s,a)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,s)}})}(),function(){function n(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var r,s;for(s=0;s<n.length;s++)null!==n[s]&&((r=e.data(i+n[s]))===t&&(r=""),e.css(n[s],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,(function(e,i){var s=t.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])})),r}}),e.fn.extend({effect:function(){var t=n.apply(this,arguments),i=t.mode,r=t.queue,s=e.effects.effect[t.effect];if(e.fx.off||!s)return i?this[i](t.duration,t.complete):this.each((function(){t.complete&&t.complete.call(this)}));function a(i){var n=e(this),r=t.complete,a=t.mode;function o(){e.isFunction(r)&&r.call(n[0]),e.isFunction(i)&&i()}(n.is(":hidden")?"hide"===a:"show"===a)?(n[a](),o()):s.call(n[0],t,o)}return!1===r?this.each(a):this.queue(r||"fx",a)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],(function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])})),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,i){t[i]=function(t){return Math.pow(t,e+2)}})),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,(function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}))}()}(jQuery),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,r){var s=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(s,t.mode||"hide"),l=t.direction||"up",u=i.test(l),c=u?"height":"width",f=u?"top":"left",h=n.test(l),d={},p="show"===o,g,m,v;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),a):e.effects.save(s,a),s.show(),m=(g=e.effects.createWrapper(s).css({overflow:"hidden"}))[c](),v=parseFloat(g.css(f))||0,d[c]=p?m:0,h||(s.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),d[f]=p?v:m+v),p&&(g.css(c,0),h||g.css(f,v+m)),g.animate(d,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===o&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),r()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var n=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(n,t.mode||"effect"),a="hide"===s,o="show"===s,l=t.direction||"up",u=t.distance,c=t.times||5,f=2*c+(o||a?1:0),h=t.duration/f,d=t.easing,p="up"===l||"down"===l?"top":"left",g="up"===l||"left"===l,m,v,y,b=n.queue(),w=b.length;for((o||a)&&r.push("opacity"),e.effects.save(n,r),n.show(),e.effects.createWrapper(n),u||(u=n["top"===p?"outerHeight":"outerWidth"]()/3),o&&((y={opacity:1})[p]=0,n.css("opacity",0).css(p,g?2*-u:2*u).animate(y,h,d)),a&&(u/=Math.pow(2,c-1)),(y={})[p]=0,m=0;m<c;m++)(v={})[p]=(g?"-=":"+=")+u,n.animate(v,h,d).animate(y,h,d),u=a?2*u:u/2;a&&((v={opacity:0})[p]=(g?"-=":"+=")+u,n.animate(v,h,d)),n.queue((function(){a&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()})),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var n=e(this),r=["position","top","bottom","left","right","height","width"],s,a="show"===e.effects.setMode(n,t.mode||"hide"),o,l="vertical"===(t.direction||"vertical"),u=l?"height":"width",c=l?"top":"left",f={},h,d,p;e.effects.save(n,r),n.show(),h=e.effects.createWrapper(n).css({overflow:"hidden"}),p=(d="IMG"===n[0].tagName?h:n)[u](),a&&(d.css(u,0),d.css(c,p/2)),f[u]=a?p:0,f[c]=a?0:p/2,d.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var n=e(this),r=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(n,t.mode||"hide"),a="show"===s,o=t.direction||"left",l="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o?"pos":"neg",c={opacity:a?1:0},f;e.effects.save(n,r),n.show(),e.effects.createWrapper(n),f=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,a&&n.css("opacity",0).css(l,"pos"===u?-f:f),c[l]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+f,n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){var n=t.pieces?Math.round(Math.sqrt(t.pieces)):3,r=n,s=e(this),a,o="show"===e.effects.setMode(s,t.mode||"hide"),l=s.show().css("visibility","hidden").offset(),u=Math.ceil(s.outerWidth()/r),c=Math.ceil(s.outerHeight()/n),f=[],h,d,p,g,m,v;function y(){f.push(this),f.length===n*r&&b()}for(h=0;h<n;h++)for(g=l.top+h*c,v=h-(n-1)/2,d=0;d<r;d++)p=l.left+d*u,m=d-(r-1)/2,s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-d*u,top:-h*c}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:u,height:c,left:p+(o?m*u:0),top:g+(o?v*c:0),opacity:o?0:1}).animate({left:p+(o?0:m*u),top:g+(o?0:v*c),opacity:o?1:0},t.duration||500,t.easing,y);function b(){s.css({visibility:"visible"}),e(f).remove(),o||s.hide(),i()}}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var n=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(n,t.mode||"hide"),a="show"===s,o="hide"===s,l=t.size||15,u=/([0-9]+)%/.exec(l),c=!!t.horizFirst,f=a!==c,h=f?["width","height"]:["height","width"],d=t.duration/2,p,g,m={},v={};e.effects.save(n,r),n.show(),p=e.effects.createWrapper(n).css({overflow:"hidden"}),g=f?[p.width(),p.height()]:[p.height(),p.width()],u&&(l=parseInt(u[1],10)/100*g[o?0:1]),a&&p.css(c?{height:0,width:l}:{height:l,width:0}),m[h[0]]=a?g[0]:l,v[h[1]]=a?g[1]:0,p.animate(m,d,t.easing).animate(v,d,t.easing,(function(){o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()}))}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===s&&(a.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,r),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"show"),s="show"===r,a="hide"===r,o=s||"hide"===r,l=2*(t.times||5)+(o?1:0),u=t.duration/l,c=0,f=n.queue(),h=f.length,d;for(!s&&n.is(":visible")||(n.css("opacity",0).show(),c=1),d=1;d<l;d++)n.animate({opacity:c},u,t.easing),c=1-c;n.animate({opacity:c},u,t.easing),n.queue((function(){a&&n.hide(),i()})),h>1&&f.splice.apply(f,[1,0].concat(f.splice(h,l+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),s="hide"===r,a=parseInt(t.percent,10)||150,o=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:s?a:100,from:s?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),o=t.direction||"both",l=t.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c_y="horizontal"!==o?a/100:1,c_x="vertical"!==o?a/100:1;r.effect="size",r.queue=!1,r.complete=i,"effect"!==s&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c_y,width:u.width*c_x,outerHeight:u.outerHeight*c_y,outerWidth:u.outerWidth*c_x},r.fade&&("show"===s&&(r.from.opacity=0,r.to.opacity=1),"hide"===s&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.size=function(t,i){var n,r,s,a=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==d,g=t.scale||"both",m=t.origin||["middle","center"],v=a.css("position"),y=p?o:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===d?(a.from=t.to||b,a.to=t.from||n):(a.from=t.from||("show"===d?b:n),a.to=t.to||("hide"===d?b:n)),s={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},"box"!==g&&"both"!==g||(s.from.y!==s.to.y&&(y=y.concat(f),a.from=e.effects.setTransition(a,f,s.from.y,a.from),a.to=e.effects.setTransition(a,f,s.to.y,a.to)),s.from.x!==s.to.x&&(y=y.concat(h),a.from=e.effects.setTransition(a,h,s.from.x,a.from),a.to=e.effects.setTransition(a,h,s.to.x,a.to))),"content"!==g&&"both"!==g||s.from.y!==s.to.y&&(y=y.concat(c).concat(u),a.from=e.effects.setTransition(a,c,s.from.y,a.from),a.to=e.effects.setTransition(a,c,s.to.y,a.to)),e.effects.save(a,y),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(r=e.effects.getBaseline(m,n),a.from.top=(n.outerHeight-a.outerHeight())*r.y,a.from.left=(n.outerWidth-a.outerWidth())*r.x,a.to.top=(n.outerHeight-a.to.outerHeight)*r.y,a.to.left=(n.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),"content"!==g&&"both"!==g||(f=f.concat(["marginTop","marginBottom"]).concat(c),h=h.concat(["marginLeft","marginRight"]),u=o.concat(f).concat(h),a.find("*[width]").each((function(){var i=e(this),n_height=i.height(),n_width=i.width(),n_outerHeight=i.outerHeight(),n_outerWidth=i.outerWidth();p&&e.effects.save(i,u),i.from={height:n_height*s.from.y,width:n_width*s.from.x,outerHeight:n_outerHeight*s.from.y,outerWidth:n_outerWidth*s.from.x},i.to={height:n_height*s.to.y,width:n_width*s.to.x,outerHeight:n_height*s.to.y,outerWidth:n_width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,f,s.from.y,i.from),i.to=e.effects.setTransition(i,f,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,h,s.from.x,i.from),i.to=e.effects.setTransition(i,h,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,(function(){p&&e.effects.restore(i,u)}))}))),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),e.effects.restore(a,y),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],(function(e,t){a.css(t,(function(t,i){var n=parseInt(i,10),r=e?a.to.left:a.to.top;return"auto"===i?r+"px":n+r+"px"}))}))),e.effects.removeWrapper(a),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var n=e(this),r=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(n,t.mode||"effect"),a=t.direction||"left",o=t.distance||20,l=t.times||3,u=2*l+1,c=Math.round(t.duration/u),f="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,d={},p={},g={},m,v=n.queue(),y=v.length;for(e.effects.save(n,r),n.show(),e.effects.createWrapper(n),d[f]=(h?"-=":"+=")+o,p[f]=(h?"+=":"-=")+2*o,g[f]=(h?"-=":"+=")+2*o,n.animate(d,c,t.easing),m=1;m<l;m++)n.animate(p,c,t.easing).animate(g,c,t.easing);n.animate(p,c,t.easing).animate(d,c/2,t.easing).queue((function(){"hide"===s&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()})),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var n=e(this),r=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(n,t.mode||"show"),a="show"===s,o=t.direction||"left",l="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,c,f={};e.effects.save(n,r),n.show(),c=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),a&&n.css(l,u?isNaN(c)?"-"+c:-c:c),f[l]=(a?u?"+=":"-=":u?"-=":"+=")+c,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),s="fixed"===r.css("position"),a=e("body"),o=s?a.scrollTop():0,l=s?a.scrollLeft():0,u=r.offset(),c={top:u.top-o,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},f=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:f.top-o,left:f.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(c,t.duration,t.easing,(function(){h.remove(),i()}))}}(jQuery),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,(function(e,t,i,n){"use strict";var r=n&&n.URI;function s(e,t){return this instanceof s?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new s(e,t)}var a=s.prototype,o=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===u(e)}function f(e,t){var i={},n,r;if(c(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++)void 0!==i[e[n]]&&(e.splice(n,1),r--,n--);return e}function h(e,t){var i,n;if(c(t)){for(i=0,n=t.length;i<n;i++)if(!h(e,t[i]))return!1;return!0}var r=u(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function d(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function p(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}s._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:s.duplicateQueryParameters,escapeQuerySpace:s.escapeQuerySpace}},s.duplicateQueryParameters=!1,s.escapeQuerySpace=!0,s.protocol_expression=/^[a-z][a-z0-9-+-]*$/i,s.idn_expression=/[^a-z0-9\.-]/i,s.punycode_expression=/(xn--)/i,s.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,s.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},s.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,s.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},s.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return s.domAttributes[t]}},s.encode=g,s.decode=decodeURIComponent,s.iso8859=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=g,s.decode=decodeURIComponent},s.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},s.encodeQuery=function(e,t){var i=s.encode(e+"");return t?i.replace(/%20/g,"+"):i},s.decodeQuery=function(e,t){e+="";try{return s.decode(t?e.replace(/\+/g,"%20"):e)}catch(e){return e}},s.recodePath=function(e){for(var t=(e+"").split("/"),i=0,n=t.length;i<n;i++)t[i]=s.encodePathSegment(s.decode(t[i]));return t.join("/")},s.decodePath=function(e){for(var t=(e+"").split("/"),i=0,n=t.length;i<n;i++)t[i]=s.decodePathSegment(t[i]);return t.join("/")};var m={encode:"encode",decode:"decode"},v,y=function(e,t){return function(i){return s[t](i+"").replace(s.characters[e][t].expression,(function(i){return s.characters[e][t].map[i]}))}};for(v in m)s[v+"PathSegment"]=y("pathname",m[v]);for(v in s.encodeReserved=y("reserved","encode"),s.parse=function(e,t){var i;return t||(t={}),(i=e.indexOf("#"))>-1&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),(i=e.indexOf("?"))>-1&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=s.parseAuthority(e,t)):(i=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(s.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=s.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},s.parseHost=function(e,t){var i=e.indexOf("/"),n,r;return-1===i&&(i=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null),t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},s.parseAuthority=function(e,t){return e=s.parseUserinfo(e,t),s.parseHost(e,t)},s.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=i>-1?e.lastIndexOf("@",i):e.indexOf("@"),r;return n>-1&&(-1===i||n<i)?(r=e.substring(0,n).split(":"),t.username=r[0]?s.decode(r[0]):null,r.shift(),t.password=r[0]?s.decode(r.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},s.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i={},n=e.split("&"),r=n.length,a,o,l,u=0;u<r;u++)a=n[u].split("="),o=s.decodeQuery(a.shift(),t),l=a.length?s.decodeQuery(a.join("="),t):null,i[o]?("string"==typeof i[o]&&(i[o]=[i[o]]),i[o].push(l)):i[o]=l;return i},s.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=s.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},s.buildHost=function(e){var t="";return e.hostname?(s.ip6_expression.test(e.hostname)?e.port?t+="["+e.hostname+"]:"+e.port:t+=e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},s.buildAuthority=function(e){return s.buildUserinfo(e)+s.buildHost(e)},s.buildUserinfo=function(e){var t="";return e.username&&(t+=s.encode(e.username),e.password&&(t+=":"+s.encode(e.password)),t+="@"),t},s.buildQuery=function(e,t,i){var n="",r,a,l,u;for(a in e)if(o.call(e,a)&&a)if(c(e[a]))for(r={},l=0,u=e[a].length;l<u;l++)void 0!==e[a][l]&&void 0===r[e[a][l]+""]&&(n+="&"+s.buildQueryParameter(a,e[a][l],i),!0!==t&&(r[e[a][l]+""]=!0));else void 0!==e[a]&&(n+="&"+s.buildQueryParameter(a,e[a],i));return n.substring(1)},s.buildQueryParameter=function(e,t,i){return s.encodeQuery(e,i)+(null!==t?"="+s.encodeQuery(t,i):"")},s.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)o.call(t,n)&&s.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=i);"string"==typeof e[t]&&(e[t]=[e[t]]),c(i)||(i=[i]),e[t]=e[t].concat(i)}},s.removeQuery=function(e,t,i){var n,r,a;if(c(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("object"==typeof t)for(a in t)o.call(t,a)&&s.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==i?e[t]===i?e[t]=void 0:c(e[t])&&(e[t]=f(e[t],i)):e[t]=void 0}},s.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var r in t)if(o.call(t,r)&&!s.hasQuery(e,r,t[r]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(u(i)){case"Undefined":return t in e;case"Boolean":var a;return i===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!i(e[t],t,e);case"Array":return!!c(e[t])&&(n?h:d)(e[t],i);var l;case"RegExp":return c(e[t])?!!n&&h(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return c(e[t])?!!n&&h(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.commonPath=function(e,t){var i=Math.min(e.length,t.length),n;for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},s.withinString=function(e,t){return e.replace(s.find_uri_expression,t)},s.ensureValidHostname=function(t){if(t.match(s.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(s.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},s.noConflict=function(e){if(e){var i={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(i.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(i.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(i.SecondLevelDomains=SecondLevelDomains.noConflict()),i}return n.URI===this&&(n.URI=r),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=s.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new s(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},y=function(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}},m={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"})a[v]=y(m[v]);for(v in y=function(e,t){return function(i,n){return void 0===i?this._parts[e]||"":(null!==i&&(i+="").charAt(0)===t&&(i=i.substring(1)),this._parts[e]=i,this.build(!n),this)}},m={query:"?",fragment:"#"})a[v]=y(v,m[v]);for(v in y=function(e,t){return function(i,n){var r=this[e](i,n);return"string"==typeof r&&r.length?t+r:r}},m={search:["?","query"],hash:["#","fragment"]})a[v]=y(m[v][1],m[v][0]);a.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?s.decodePath(i):i}return this._parts.path=e?s.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=s._parts();var n=e instanceof s,r="object"==typeof e&&(e.hostname||e.path||e.pathname),a;e.nodeName&&(e=e[s.getDomAttribute(e)]||"",r=!1);if(!n&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=s.parse(e,this._parts);else{if(!n&&!r)throw new TypeError("invalid input");var l=n?e._parts:e;for(i in l)o.call(this._parts,i)&&(this._parts[i]=l[i])}return this.build(!t),this},a.is=function(e){var t=!1,n=!1,r=!1,a=!1,o=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,n=s.ip4_expression.test(this._parts.hostname),r=s.ip6_expression.test(this._parts.hostname),o=(a=!(t=n||r))&&i&&i.has(this._parts.hostname),l=a&&s.idn_expression.test(this._parts.hostname),u=a&&s.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return r;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=a.protocol,w=a.port,_=a.hostname;a.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,"")).match(/[^a-zA-z0-9\.+-]/))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-]");return b.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return w.call(this,e,t)},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};s.parseHost(e,i),e=i.hostname}return _.call(this,e,t)},a.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?s.buildHost(this._parts):"":(s.parseHost(e,this._parts),this.build(!t),this)},a.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?s.buildAuthority(this._parts):"":(s.parseAuthority(e,this._parts),this.build(!t),this)},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var i=s.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==e[e.length-1]&&(e+="@"),s.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=s.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var n=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,n),a=new RegExp("^"+l(r));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&s.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(s.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(n+1);return!0!==t&&i&&i.list[r.toLowerCase()]&&i.get(this._parts.hostname)||r}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");s=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?s.decodePath(n):n}var r=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,r),o=new RegExp("^"+l(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=s.recodePath(e),this._parts.path=this._parts.path.replace(o,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(i+1);return e?s.decodePathSegment(n):n}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var a=new RegExp(l(this.filename())+"$");return e=s.recodePath(e),this._parts.path=this._parts.path.replace(a,e),r?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf("."),r,a;return-1===n?"":(r=i.substring(n+1),a=/^[a-z0-9%]+$/i.test(r)?r:"",e?s.decodePathSegment(a):a)}"."===e.charAt(0)&&(e=e.substring(1));var o=this.suffix(),u;if(o)u=e?new RegExp(l(o)+"$"):new RegExp(l("."+o)+"$");else{if(!e)return this;this._parts.path+="."+s.recodePath(e)}return u&&(e=s.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},a.segment=function(e,t,i){var n=this._parts.urn?":":"/",r=this.path(),s="/"===r.substring(0,1),a=r.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(s&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(c(t)){a=[];for(var o=0,l=t.length;o<l;o++)(t[o].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(t[o]))}else(t||"string"==typeof t)&&(""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t||"string"==typeof t&&t.length?a[e]=t:a.splice(e,1);return s&&a.unshift(""),this.path(a.join(n),i)},a.segmentCoded=function(e,t,i){var n,r,a;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(c(n=this.segment(e,t,i)))for(r=0,a=n.length;r<a;r++)n[r]=s.decode(n[r]);else n=void 0!==n?s.decode(n):void 0;return n}if(c(t))for(r=0,a=t.length;r<a;r++)t[r]=s.decode(t[r]);else t="string"==typeof t?s.encode(t):t;return this.segment(e,t,i)};var x=a.query;return a.query=function(e,t){if(!0===e)return s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=s.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=s.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},a.setQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var r in e)o.call(e,r)&&(n[r]=e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[e]=void 0!==t?t:null}return this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.addQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.addQuery(n,e,void 0===t?null:t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.removeQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.removeQuery(n,e,t),this._parts.query=s.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},a.hasQuery=function(e,t,i){var n=s.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return s.hasQuery(n,e,t,i)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===s.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,i=this._parts.path,n,r;for("/"!==i.charAt(0)&&(t=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");-1!==(n=i.indexOf("/../"));){if(0===n){i=i.substring(3);break}-1===(r=i.substring(0,n).lastIndexOf("/"))&&(r=n),i=i.substring(0,r)+i.substring(n+3)}return t&&this.is("relative")&&(i=i.substring(1)),i=s.recodePath(i),this._parts.path=i,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(s.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=s.encode,t=s.decode;return s.encode=escape,s.decode=decodeURIComponent,this.normalize(),s.encode=e,s.decode=t,this},a.unicode=function(){var e=s.encode,t=s.decode;return s.encode=g,s.decode=unescape,this.normalize(),s.encode=e,s.decode=t,this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(i+=e.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(i+="/"),i+=t.path(!0),t._parts.query){for(var n="",r=0,a=t._parts.query.split("&"),o=a.length;r<o;r++){var l=(a[r]||"").split("=");n+="&"+s.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+s.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=s.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t=this.clone(),i=["protocol","username","password","hostname","port"],n,r,a;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof s||(e=new s(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol),this._parts.hostname)return t;for(r=0;a=i[r];r++)t._parts[a]=e._parts[a];for(i=["query","path"],r=0;a=i[r];r++)!t._parts[a]&&e._parts[a]&&(t._parts[a]=e._parts[a]);return"/"!==t.path().charAt(0)&&(n=e.directory(),t._parts.path=(n?n+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},a.relativeTo=function(e){var t=this.clone().normalize(),i,n,r,a,o;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new s(e).normalize(),i=t._parts,n=e._parts,a=t.path(),o=e.path(),"/"!==a.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(i.protocol===n.protocol&&(i.protocol=null),i.username!==n.username||i.password!==n.password)return t.build();if(null!==i.protocol||null!==i.username||null!==i.password)return t.build();if(i.hostname!==n.hostname||i.port!==n.port)return t.build();if(i.hostname=null,i.port=null,a===o)return i.path="",t.build();if(!(r=s.commonPath(t.path(),e.path())))return t.build();var l=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return i.path=l+i.path.substring(r.length),t.build()},a.equals=function(e){var t=this.clone(),i=new s(e),n={},r={},a={},l,u,f;if(t.normalize(),i.normalize(),t.toString()===i.toString())return!0;if(l=t.query(),u=i.query(),t.query(""),i.query(""),t.toString()!==i.toString())return!1;if(l.length!==u.length)return!1;for(f in n=s.parseQuery(l,this._parts.escapeQuerySpace),r=s.parseQuery(u,this._parts.escapeQuerySpace),n)if(o.call(n,f)){if(c(n[f])){if(!d(n[f],r[f]))return!1}else if(n[f]!==r[f])return!1;a[f]=!0}for(f in r)if(o.call(r,f)&&!a[f])return!1;return!0},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},s})),function(e,t){"object"==typeof exports?module.exports=t(require("jquery","./URI")):"function"==typeof define&&define.amd?define(["jquery","./URI"],t):t(e.jQuery,e.URI)}(this,(function(e,t){"use strict";var i={},n={"=":function(e,t){return e===t},"^=":function(e,t,i){return!!(e+"").match(new RegExp("^"+r(t),"i"))},"$=":function(e,t,i){return!!(e+"").match(new RegExp(r(t)+"$","i"))},"*=":function(e,t,i){return"directory"==i&&(e+="/"),!!(e+"").match(new RegExp(r(t),"i"))},"equals:":function(e,t){return e.equals(t)},"is:":function(e,t){return e.is(t)}};function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){var i=e.nodeName.toLowerCase(),n=t.domAttributes[i];if("input"!==i||"image"===e.type)return n}function a(t){return{get:function(i){return e(i).uri()[t]()},set:function(i,n){return e(i).uri()[t](n),n}}}e.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "),(function(t,n){i[n]=!0,e.attrHooks["uri:"+n]=a(n)}));var o={get:function(t){return e(t).uri()},set:function(t,i){return e(t).uri().href(i).toString()}},l;e.each(["src","href","action","uri","cite"],(function(t,i){e.attrHooks[i]={set:o.set}})),e.attrHooks.uri.get=o.get,e.fn.uri=function(e){var i=this.first(),n=i.get(0),r=s(n);if(!r)throw new Error('Element "'+n.nodeName+'" does not have either property: href, src, action, cite');if(void 0!==e){var a=i.data("uri");if(a)return a.href(e);e instanceof t||(e=t(e||""))}else{if(e=i.data("uri"))return e;e=t(i.attr(r)||"")}return e._dom_element=n,e._dom_attribute=r,e.normalize(),i.data("uri",e),e},t.prototype.build=function(e){return this._dom_element?(this._string=t.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,this._string),this._dom_element[this._dom_attribute]=this._string):!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=t.build(this._parts),this._deferred_build=!1),this};var u=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;function c(t,r){var a,o,l;return!(!s(t)||!r)&&(!(!(a=r.match(u))||!a[5]&&":"!==a[2]&&!n[a[2]])&&(l=e(t).uri(),a[5]?l.is(a[5]):":"===a[2]?(o=a[1].toLowerCase()+":",!!n[o]&&n[o](l,a[4])):(o=a[1].toLowerCase(),!!i[o]&&n[a[2]](l[o](),a[4],o))))}return l=e.expr.createPseudo?e.expr.createPseudo((function(e){return function(t){return c(t,e)}})):function(e,t,i){return c(e,i[3])},e.expr[":"].uri=l,{}})),function(e,t){if(e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,!e.ui||!e.ui.widget){var i=e.cleanData;e.cleanData=function(t){for(var n=0,r;null!=(r=t[n]);n++)try{e(r).triggerHandler("remove")}catch(e){}i(t)}}var n=null,r=!1,s=e(window),a=0,o={},l={},u={},c={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(i)}},position:function(e,t,i){var n=this,r;if(t||i){r="maintain"===t&&"maintain"===i?e.$menu.position():{top:i,left:t};var a=s.scrollTop()+s.height(),o=s.scrollLeft()+s.width(),l=e.$menu.height(),u=e.$menu.width();r.top+l>a&&(r.top-=l),r.left+u>o&&(r.left-=u),e.$menu.css(r)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var i={top:0,left:this.outerWidth()};t.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},h=function(e){for(var t=0,i=e;t=Math.max(t,parseInt(i.css("z-index"),10)||0),(i=i.parent())&&i.length&&!("html body".indexOf(i.prop("nodeName").toLowerCase())>-1););return t},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var i=e(this);if(t.preventDefault(),t.stopImmediatePropagation(),!("right"!=t.data.trigger&&t.originalEvent||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled"))){if(n=i,t.data.build){var r=t.data.build(n,t);if(!1===r)return;if(t.data=e.extend(!0,{},c,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log)("No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,p.create(t.data)}p.show.call(i,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var i=e(this);n&&n.length&&!n.is(i)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2==t.button&&(n=i.data("contextMenuActive",!0))},mouseup:function(t){var i=e(this);i.data("contextMenuActive")&&n&&n.length&&n.is(i)&&!i.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=i,i.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(t){var i=e(this),r=e(t.relatedTarget),s=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||n&&n.length||(f.pageX=t.pageX,f.pageY=t.pageY,f.data=t.data,s.on("mousemove.contextMenuShow",d.mousemove),f.timer=setTimeout((function(){f.timer=null,s.off("mousemove.contextMenuShow"),n=i,i.trigger(e.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))}),t.data.delay))},mousemove:function(e){f.pageX=e.pageX,f.pageY=e.pageY},mouseleave:function(t){var i=e(t.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(f.timer)}catch(e){}f.timer=null}},layerClick:function(t){var i,n=e(this).data("contextMenuRoot"),r=!1,a=t.button,o=t.pageX,l=t.pageY,u,c,f;t.preventDefault(),t.stopImmediatePropagation(),setTimeout((function(){var i,r,f,h="left"==n.trigger&&0===a||"right"==n.trigger&&2===a;if(document.elementFromPoint&&(n.$layer.hide(),u=document.elementFromPoint(o-s.scrollLeft(),l-s.scrollTop()),n.$layer.show()),n.reposition&&h)if(document.elementFromPoint){if(n.$trigger.is(u)||n.$trigger.has(u).length)return void n.position.call(n.$trigger,n,o,l)}else if(c=n.$trigger.offset(),i=e(window),c.top+=i.scrollTop(),c.top<=t.pageY&&(c.left+=i.scrollLeft(),c.left<=t.pageX&&(c.bottom=c.top+n.$trigger.outerHeight(),c.bottom>=t.pageY&&(c.right=c.left+n.$trigger.outerWidth(),c.right>=t.pageX))))return void n.position.call(n.$trigger,n,o,l);u&&h&&n.$trigger.one("contextmenu:hidden",(function(){e(u).contextMenu({x:o,y:l})})),n.$menu.trigger("contextmenu:hide")}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t=n.data("contextMenu")||{};switch(e.keyCode){case 9:case 38:if(d.keyStop(e,t),t.isInput){if(9==e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("prevcommand");if(38==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!=e.keyCode||e.shiftKey)return void t.$menu.trigger("prevcommand");case 40:if(d.keyStop(e,t),!t.isInput)return void t.$menu.trigger("nextcommand");if(9==e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void t.$menu.trigger("nextcommand");if(40==e.keyCode&&"checkbox"==t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var i=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=i)}break;case 39:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var r=t.$selected.data("contextMenu")||{};if(r.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,r.$selected=null,void r.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(.disabled, .not-selectable)")[36==e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(d.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void d.keyStop(e,t);case 27:return d.keyStop(e,t),void t.$menu.trigger("contextmenu:hide");default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),t.$selected&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=n}for(var r=i.$menu.children(),s=i.$selected&&i.$selected.prev().length?i.$selected.prev():r.last(),a=s;s.hasClass("disabled")||s.hasClass("not-selectable");)if((s=s.prev().length?s.prev():r.last()).is(a))return;i.$selected&&d.itemMouseleave.call(i.$selected.get(0),t),d.itemMouseenter.call(s.get(0),t);var o=s.find("input, textarea, select");o.length&&o.focus()},nextItem:function(t){t.stopPropagation();var i=e(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;(i=i.$selected.parent().data("contextMenu")||{}).$selected=n}for(var r=i.$menu.children(),s=i.$selected&&i.$selected.next().length?i.$selected.next():r.first(),a=s;s.hasClass("disabled")||s.hasClass("not-selectable");)if((s=s.next().length?s.next():r.first()).is(a))return;i.$selected&&d.itemMouseleave.call(i.$selected.get(0),t),d.itemMouseenter.call(s.get(0),t);var o=s.find("input, textarea, select");o.length&&o.focus()},focusInput:function(t){var i=e(this).closest(".context-menu-item"),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot;s.$selected=r.$selected=i,s.isInput=r.isInput=!0},blurInput:function(t){var i,n=e(this).closest(".context-menu-item").data(),r=n.contextMenu,s;n.contextMenuRoot.isInput=r.isInput=!1},menuMouseenter:function(t){var i;e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var i=e(this).data().contextMenuRoot;i.$layer&&i.$layer.is(t.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(t){var i=e(this),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot;s.hovering=!0,t&&s.$layer&&s.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(r.$menu?r:s).$menu.children(".hover").trigger("contextmenu:blur"),i.hasClass("disabled")||i.hasClass("not-selectable")?r.$selected=null:i.trigger("contextmenu:focus")},itemMouseleave:function(t){var i=e(this),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot;if(s!==r&&s.$layer&&s.$layer.is(t.relatedTarget))return s.$selected&&s.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(s.$selected=r.$selected=r.$node);i.trigger("contextmenu:blur")},itemClick:function(t){var i=e(this),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot,a=n.contextMenuKey,o;if(r.items[a]&&!i.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(s.callbacks[a])&&Object.prototype.hasOwnProperty.call(s.callbacks,a))o=s.callbacks[a];else{if(!e.isFunction(s.callback))return;o=s.callback}!1!==o.call(s.$trigger,a,s)?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&p.update.call(s.$trigger,s)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,i){var n=e(this).data("contextMenuRoot");p.hide.call(n.$trigger,n,i&&i.force)},focusItem:function(t){t.stopPropagation();var i=e(this),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot;i.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),r.$selected=s.$selected=i,r.$node&&s.positionSubmenu.call(r.$node,r.$menu)},blurItem:function(t){t.stopPropagation();var i=e(this),n=i.data(),r=n.contextMenu,s=n.contextMenuRoot;i.removeClass("hover"),r.$selected=null}},p={show:function(t,i,r){var s=e(this),a,o={};e("#context-menu-layer").trigger("mousedown"),t.$trigger=s,!1!==t.events.show.call(s,t)?(p.update.call(s,t),t.position.call(s,t,i,r),t.zIndex&&(o.zIndex=h(s)+t.zIndex),p.layer.call(t.$menu,t,o.zIndex),t.$menu.find("ul").css("zIndex",o.zIndex+1),t.$menu.css(o)[t.animation.show](t.animation.duration,(function(){s.trigger("contextmenu:visible")})),s.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",(function(e){var i=s.offset();i.right=i.left+s.outerWidth(),i.bottom=i.top+s.outerHeight(),!t.$layer||t.hovering||e.pageX>=i.left&&e.pageX<=i.right&&e.pageY>=i.top&&e.pageY<=i.bottom||t.$menu.trigger("contextmenu:hide")}))):n=null},hide:function(i,r){var s=e(this);if(i||(i=s.data("contextMenu")||{}),r||!i.events||!1!==i.events.hide.call(s,i)){if(s.removeData("contextMenu").removeClass("context-menu-active"),i.$layer){setTimeout(function(e){return function(){e.remove()}}(i.$layer),10);try{delete i.$layer}catch(e){i.$layer=null}}n=null,i.$menu.find(".hover").trigger("contextmenu:blur"),i.$selected=null,e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),i.$menu&&i.$menu[i.animation.hide](i.animation.duration,(function(){i.build&&(i.$menu.remove(),e.each(i,(function(e,n){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:i[e]=t;try{delete i[e]}catch(e){}return!0}}))),setTimeout((function(){s.trigger("contextmenu:hidden")}),10)}))}},create:function(i,n){n===t&&(n=i),i.$menu=e('<ul class="context-menu-list"></ul>').addClass(i.className||"").data({contextMenu:i,contextMenuRoot:n}),e.each(["callbacks","commands","inputs"],(function(e,t){i[t]={},n[t]||(n[t]={})})),n.accesskeys||(n.accesskeys={}),e.each(i.items,(function(t,r){var s=e('<li class="context-menu-item"></li>').addClass(r.className||""),a=null,o=null;if(s.on("click",e.noop),r.$node=s.data({contextMenu:i,contextMenuRoot:n,contextMenuKey:t}),r.accesskey)for(var l=g(r.accesskey),c=0,f;f=l[c];c++)if(!n.accesskeys[f]){n.accesskeys[f]=r,r._name=r.name.replace(new RegExp("("+f+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof r)s.addClass("context-menu-separator not-selectable");else if(r.type&&u[r.type])u[r.type].call(s,r,i,n),e.each([i,n],(function(i,n){n.commands[t]=r,e.isFunction(r.callback)&&(n.callbacks[t]=r.callback)}));else{switch("html"==r.type?s.addClass("context-menu-html not-selectable"):r.type?(a=e("<label></label>").appendTo(s),e("<span></span>").html(r._name||r.name).appendTo(a),s.addClass("context-menu-input"),i.hasTypes=!0,e.each([i,n],(function(e,i){i.commands[t]=r,i.inputs[t]=r}))):r.items&&(r.type="sub"),r.type){case"text":o=e('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(r.value||"").appendTo(a);break;case"textarea":o=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+t).val(r.value||"").appendTo(a),r.height&&o.height(r.height);break;case"checkbox":o=e('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(r.value||"").prop("checked",!!r.selected).prependTo(a);break;case"radio":o=e('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+r.radio).val(r.value||"").prop("checked",!!r.selected).prependTo(a);break;case"select":o=e('<select name="">').attr("name","context-menu-input-"+t).appendTo(a),r.options&&(e.each(r.options,(function(t,i){e("<option></option>").val(t).text(i).appendTo(o)})),o.val(r.selected));break;case"sub":e("<span></span>").html(r._name||r.name).appendTo(s),r.appendTo=r.$node,p.create(r,n),s.data("contextMenu",r).addClass("context-menu-submenu"),r.callback=null;break;case"html":e(r.html).appendTo(s);break;default:e.each([i,n],(function(i,n){n.commands[t]=r,e.isFunction(r.callback)&&(n.callbacks[t]=r.callback)})),e("<span></span>").html(r._name||r.name||"").appendTo(s)}r.type&&"sub"!=r.type&&"html"!=r.type&&(o.on("focus",d.focusInput).on("blur",d.blurInput),r.events&&o.on(r.events,i)),r.icon&&s.addClass("mdi mdi-"+r.icon)}r.$input=o,r.$label=a,s.appendTo(i.$menu),!i.hasTypes&&e.support.eventSelectstart&&s.on("selectstart.disableTextSelect",d.abortevent)})),i.$node||i.$menu.css("display","none").addClass("context-menu-root"),i.$menu.appendTo(i.appendTo||document.body)},resize:function(t,i){t.css({position:"absolute",display:"block"}),t.data("width",Math.ceil(t.width())+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each((function(){p.resize(e(this),!0)})),i||t.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width((function(){return e(this).data("width")}))},update:function(i,n){var r=this;n===t&&(n=i,p.resize(i.$menu)),i.$menu.children().each((function(){var t=e(this),s=t.data("contextMenuKey"),a=i.items[s],o=e.isFunction(a.disabled)&&a.disabled.call(r,s,n)||!0===a.disabled;if(t[o?"addClass":"removeClass"]("disabled"),a.type)switch(t.find("input, select, textarea").prop("disabled",o),a.type){case"text":case"textarea":a.$input.val(a.value||"");break;case"checkbox":case"radio":a.$input.val(a.value||"").prop("checked",!!a.selected);break;case"select":a.$input.val(a.selected||"")}a.$menu&&p.update.call(r,a,n)}))},layer:function(t,i){var n=t.$layer=e('<div id="context-menu-layer" style="position:fixed; z-index:-1; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:s.height(),width:s.width(),display:"block"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return e.support.fixedPosition||n.css({position:"absolute",height:e(document).height()}),n}};function g(e){for(var t=e.split(/\s+/),i=[],n=0,r;r=t[n];n++)r=r[0].toUpperCase(),i.push(r);return i}function m(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function v(i,n,r){return r||(r=0),n.each((function(){var n=e(this),s=this,a=this.nodeName.toLowerCase(),o,l;switch("label"==a&&n.find("input, textarea, select").length&&(o=n.text(),a=(s=(n=n.children().first()).get(0)).nodeName.toLowerCase()),a){case"menu":l={name:n.attr("label"),items:{}},r=v(l.items,n.children(),r);break;case"a":case"button":l={name:n.text(),disabled:!!n.attr("disabled"),callback:function(){n.click()}};break;case"menuitem":case"command":switch(n.attr("type")){case t:case"command":case"menuitem":l={name:n.attr("label"),disabled:!!n.attr("disabled"),callback:function(){n.click()}};break;case"checkbox":l={type:"checkbox",disabled:!!n.attr("disabled"),name:n.attr("label"),selected:!!n.attr("checked")};break;case"radio":l={type:"radio",disabled:!!n.attr("disabled"),name:n.attr("label"),radio:n.attr("radiogroup"),value:n.attr("id"),selected:!!n.attr("checked")};break;default:l=t}break;case"hr":l="-------";break;case"input":switch(n.attr("type")){case"text":l={type:"text",name:o||m(s),disabled:!!n.attr("disabled"),value:n.val()};break;case"checkbox":l={type:"checkbox",name:o||m(s),disabled:!!n.attr("disabled"),selected:!!n.attr("checked")};break;case"radio":l={type:"radio",name:o||m(s),disabled:!!n.attr("disabled"),radio:!!n.attr("name"),value:n.val(),selected:!!n.attr("checked")};break;default:l=t}break;case"select":l={type:"select",name:o||m(s),disabled:!!n.attr("disabled"),selected:n.val(),options:{}},n.children().each((function(){l.options[this.value]=e(this).text()}));break;case"textarea":l={type:"textarea",name:o||m(s),disabled:!!n.attr("disabled"),value:n.val()};break;case"label":break;default:l={type:"html",html:n.clone(!0)}}l&&(r++,i["key"+r]=l)})),r}e.fn.contextMenu=function(i){if(i===t)this.first().trigger("contextmenu:show");else if(i.x&&i.y)this.first().trigger(e.Event("contextmenu:show",{pageX:i.x,pageY:i.y}));else if("hide"===i){var n=this.data("contextMenu").$menu;n&&n.trigger("contextmenu:hide")}else"destroy"===i?e.contextMenu("destroy",{context:this}):e.isPlainObject(i)?(i.context=this,e.contextMenu("create",i)):i?this.removeClass("context-menu-disabled"):i||this.addClass("context-menu-disabled");return this},e.contextMenu=function(i,n){"string"!=typeof i&&(n=i,i="create"),"string"==typeof n?n={selector:n}:n===t&&(n={});var s=e.extend(!0,{},c,n||{}),u=e(document),f=u,h=!1;switch(s.context&&s.context.length?(f=e(s.context).first(),s.context=f.get(0),h=s.context!==document):s.context=document,i){case"create":if(!s.selector)throw new Error("No selector specified");if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||e.isEmptyObject(s.items)))throw new Error("No Items specified");switch(a++,s.ns=".contextMenu"+a,h||(o[s.selector]=s.ns),l[s.ns]=s,s.trigger||(s.trigger="right"),r||(u.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on({"mouseup.contextMenu":d.itemClick,"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave},".context-menu-item"),r=!0),f.on("contextmenu:show"+s.ns,s.selector,s,d.contextmenu),h&&f.on("remove"+s.ns,(function(){e(this).contextMenu("destroy")})),s.trigger){case"hover":f.on("mouseenter"+s.ns,s.selector,s,d.mouseenter).on("mouseleave"+s.ns,s.selector,s,d.mouseleave);break;case"left":f.on("click"+s.ns,s.selector,s,d.click)}s.build||p.create(s);break;case"destroy":var g;if(h){var m=s.context;e.each(l,(function(t,i){if(i.context!==m)return!0;(g=e(".context-menu-list").filter(":visible")).length&&g.data().contextMenuRoot.$trigger.is(e(i.context).find(i.selector))&&g.trigger("contextmenu:hide",{force:!0});try{l[i.ns].$menu&&l[i.ns].$menu.remove(),delete l[i.ns]}catch(e){l[i.ns]=null}return e(i.context).off(i.ns),!0}))}else if(s.selector){if(o[s.selector]){(g=e(".context-menu-list").filter(":visible")).length&&g.data().contextMenuRoot.$trigger.is(s.selector)&&g.trigger("contextmenu:hide",{force:!0});try{l[o[s.selector]].$menu&&l[o[s.selector]].$menu.remove(),delete l[o[s.selector]]}catch(e){l[o[s.selector]]=null}u.off(o[s.selector])}}else u.off(".contextMenu .contextMenuAutoHide"),e.each(l,(function(t,i){e(i.context).off(i.ns)})),o={},l={},a=0,r=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each((function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+i+'"')}return this},e.contextMenu.setInputValues=function(i,n){n===t&&(n={}),e.each(i.inputs,(function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")==t.value;break;case"select":t.selected=n[e]||""}}))},e.contextMenu.getInputValues=function(i,n){return n===t&&(n={}),e.each(i.inputs,(function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}})),n},e.contextMenu.fromMenu=function(t){var i,n={};return v(n,e(t).children()),n},e.contextMenu.defaults=c,e.contextMenu.types=u,e.contextMenu.handle=d,e.contextMenu.op=p,e.contextMenu.menus=l}(jQuery),function(){var e=this,t=e.Backbone,i=[],n=i.push,r=i.slice,s=i.splice,a;(a="undefined"!=typeof exports?exports:e.Backbone={}).VERSION="1.1.0";var o=e._;o||"undefined"==typeof require||(o=require("underscore")),a.$=e.jQuery||e.Zepto||e.ender||e.$,a.noConflict=function(){return e.Backbone=t,this},a.emulateHTTP=!1,a.emulateJSON=!1;var l=a.Events={on:function(e,t,i){return c(this,"on",e,[t,i])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:i,ctx:i||this}),this):this;var n},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var n=this,r=o.once((function(){n.off(e,r),t.apply(this,arguments)}));return r._callback=t,this.on(e,r,i)},off:function(e,t,i){var n,r,s,a,l,u,f,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(l=0,u=(a=e?[e]:o.keys(this._events)).length;l<u;l++)if(e=a[l],s=this._events[e]){if(this._events[e]=n=[],t||i)for(f=0,h=s.length;f<h;f++)r=s[f],(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!c(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&f(i,t),n&&f(n,arguments),this},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var r=!t&&!i;for(var s in i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e),n)(e=n[s]).off(t,i,this),(r||o.isEmpty(e._events))&&delete this._listeningTo[s];return this}},u=/\s+/,c=function(e,t,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)e[t].apply(e,[r,i[r]].concat(n));return!1}if(u.test(i)){for(var s=i.split(u),a=0,o=s.length;a<o;a++)e[t].apply(e,[s[a]].concat(n));return!1}return!0},f=function(e,t){var i,n=-1,r=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++n<r;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,a);return;case 3:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,a,o);return;default:for(;++n<r;)(i=e[n]).callback.apply(i.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};o.each(h,(function(e,t){l[t]=function(t,i,n){var r,s;return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=o.uniqueId("l"))]=t,n||"object"!=typeof i||(n=this),t[e](i,n,this),this}})),l.bind=l.on,l.unbind=l.off,o.extend(a,l);var d=a.Model=function(e,t){var i=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=o.defaults({},i,o.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,r,s,a,l,u,c,f;if(null==e)return this;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;for(n in s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=o.clone(this.attributes),this.changed={}),f=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)t=r[n],o.isEqual(f[n],t)||a.push(n),o.isEqual(c[n],t)?delete this.changed[n]:this.changed[n]=t,s?delete f[n]:f[n]=t;if(!l){a.length&&(this._pending=!0);for(var h=0,d=a.length;h<d;h++)this.trigger("change:"+a[h],this,f[a[h]],i)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o.clone(this.changed);var t,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in e)o.isEqual(n[r],t=e[r])||((i||(i={}))[r]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?o.clone(e):{}).parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;i&&i(t,n,e),t.trigger("sync",t,n,e)},L(this,e),this.sync("read",this,e)},save:function(e,t,i){var n,r,s,a=this.attributes;if(null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=o.extend({validate:!0},i),n&&!i.wait){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=o.extend({},a,n)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(e){l.attributes=a;var t=l.parse(e,i);if(i.wait&&(t=o.extend(n||{},t)),o.isObject(t)&&!l.set(t,i))return!1;u&&u(l,e,i),l.trigger("sync",l,e,i)},L(this,i),"patch"===(r=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=n),s=this.sync(r,this,i),n&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?o.clone(e):{};var t=this,i=e.success,n=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&n(),i&&i(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;L(this,e);var r=this.sync("delete",this,e);return e.wait||n(),r},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||O();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,o.extend(t,{validationError:i})),!1)}});var p=["keys","values","pairs","invert","pick","omit"];o.each(p,(function(e){d.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}}));var g=a.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};o.extend(g.prototype,l,{model:d,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return a.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,v))},remove:function(e,t){var i=!o.isArray(e),n,r,s,a;for(t||(t={}),n=0,r=(e=i?[e]:o.clone(e)).length;n<r;n++)(a=e[n]=this.get(e[n]))&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a));return i?e[0]:e},set:function(e,t){(t=o.defaults({},t,m)).parse&&(e=this.parse(e,t));var i=!o.isArray(e),n,r,s,a,l,u,c;e=i?e?[e]:[]:o.clone(e);var f=t.at,h=this.model,p=this.comparator&&null==f&&!1!==t.sort,g=o.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,_=t.merge,x=t.remove,k=!(p||!w||!x)&&[];for(n=0,r=e.length;n<r;n++){if(s=(l=e[n])instanceof d?a=l:l[h.prototype.idAttribute],u=this.get(s))x&&(b[u.cid]=!0),_&&(l=l===a?a.attributes:l,t.parse&&(l=u.parse(l,t)),u.set(l,t),p&&!c&&u.hasChanged(g)&&(c=!0)),e[n]=u;else if(w){if(!(a=e[n]=this._prepareModel(l,t)))continue;v.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}k&&k.push(u||a)}if(x){for(n=0,r=this.length;n<r;++n)b[(a=this.models[n]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||k&&k.length)if(p&&(c=!0),this.length+=v.length,null!=f)for(n=0,r=v.length;n<r;n++)this.models.splice(f+n,0,v[n]);else{k&&(this.models.length=0);var C=k||v;for(n=0,r=C.length;n<r;n++)this.models.push(C[n])}if(c&&this.sort({silent:!0}),!t.silent){for(n=0,r=v.length;n<r;n++)(a=v[n]).trigger("add",a,this,t);(c||k&&k.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;i<n;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"]((function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0}))},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){void 0===(e=e?o.clone(e):{}).parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,n=t.success;return t.success=function(e,t,r){r.wait&&i.add(e,r),n&&n(e,t,r)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;(t=t?o.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(y,(function(e){g.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}}));var b=["groupBy","countBy","sortBy"];o.each(b,(function(e){g.prototype[e]=function(t,i){var n=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,n,i)}}));var w=a.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];o.extend(w.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a.$?e:a.$(e),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),i){var n=t.match(_),r=n[1],s=n[2];i=o.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e.class=o.result(this,"className"));var t=a.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}}}),a.sync=function(e,t,i){var n=C[e];o.defaults(i||(i={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var r={type:n,dataType:"json"};if(i.url||(r.url=o.result(t,"url")||O()),null!=i.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(i.attrs||t.toJSON(i))),i.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),i.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){r.type="POST",i.emulateJSON&&(r.data._method=n);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",n),s)return s.apply(this,arguments)}}"GET"===r.type||i.emulateJSON||(r.processData=!1),"PATCH"===r.type&&k&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=a.ajax(o.extend(r,i));return t.trigger("request",t,l,i),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var M=a.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,S=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(M.prototype,l,{initialize:function(){},route:function(e,t,i){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(t)&&(i=t,t=""),i||(i=this[t]);var n=this;return a.history.route(e,(function(r){var s=n._extractParameters(e,r);i&&i.apply(n,s),n.trigger.apply(n,["route:"+t].concat(s)),n.trigger("route",t,s),a.history.trigger("route",n,t,s)})),this},navigate:function(e,t){return a.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(T,"(?:$1)?").replace(D,(function(e,t){return t?e:"([^/]+)"})).replace(S,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return o.map(i,(function(e){return e?decodeURIComponent(e):null}))}});var A=a.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,P=/msie [\w.]+/,z=/\/$/,N=/[?#].*$/;A.started=!1,o.extend(A.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(z,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(I,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=o.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),i=document.documentMode,n=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace($,"/"),n&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var r=this.location,s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&r.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(N,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),a.history=new A;var H=function(e,t){var i=this,n;n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},o.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n};d.extend=g.extend=M.extend=w.extend=A.extend=H;var O=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var i=t.error;t.error=function(n){i&&i(e,n,t),e.trigger("error",e,n,t)}}}.call(this),function(){Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(error){var e=CSSStyleDeclaration.prototype,t=e.setProperty;e.setProperty=function(e,i,n){t.call(this,e,i+"",n)}}function i(e,t){try{for(var i in t)Object.defineProperty(e.prototype,i,{value:t[i],enumerable:!1})}catch(e){e.prototype=t}}d3={version:"2.9.6"};var n=s;function r(e){for(var t=-1,i=e.length,n=[];++t<i;)n.push(e[t]);return n}function s(e){return Array.prototype.slice.call(e)}try{n(document.documentElement.childNodes)[0].nodeType}catch(e){n=r}var a=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)e[i]=t[i]};function o(){}d3.map=function(e){var t=new o;for(var i in e)t.set(i,e[i]);return t},i(o,{has:function(e){return l+e in this},get:function(e){return this[l+e]},set:function(e,t){return this[l+e]=t},remove:function(e){return(e=l+e)in this&&delete this[e]},keys:function(){var e=[];return this.forEach((function(t){e.push(t)})),e},values:function(){var e=[];return this.forEach((function(t,i){e.push(i)})),e},entries:function(){var e=[];return this.forEach((function(t,i){e.push({key:t,value:i})})),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===u&&e.call(this,t.substring(1),this[t])}});var l="\0",u=l.charCodeAt(0);function c(e){return e}function f(){return this}function h(){return!0}function d(e){return"function"==typeof e?e:function(){return e}}function p(e,t,i){return function(){var n=i.apply(t,arguments);return arguments.length?e:n}}function g(e){return null!=e&&!isNaN(e)}function m(e){return e.length}d3.functor=d,d3.rebind=function(e,t){for(var i=1,n=arguments.length,r;++i<n;)e[r=arguments[i]]=p(e,t,t[r]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var i=e.length,n,r=0,s=-1,a=0;if(1===arguments.length)for(;++s<i;)g(n=e[s])&&(r+=(n-r)/++a);else for(;++s<i;)g(n=t.call(e,e[s],s))&&(r+=(n-r)/++a);return a?r:void 0},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),(e=e.filter(g)).length?d3.quantile(e.sort(d3.ascending),.5):void 0},d3.min=function(e,t){var i=-1,n=e.length,r,s;if(1===arguments.length){for(;++i<n&&(null==(r=e[i])||r!=r);)r=void 0;for(;++i<n;)null!=(s=e[i])&&r>s&&(r=s)}else{for(;++i<n&&(null==(r=t.call(e,e[i],i))||r!=r);)r=void 0;for(;++i<n;)null!=(s=t.call(e,e[i],i))&&r>s&&(r=s)}return r},d3.max=function(e,t){var i=-1,n=e.length,r,s;if(1===arguments.length){for(;++i<n&&(null==(r=e[i])||r!=r);)r=void 0;for(;++i<n;)null!=(s=e[i])&&s>r&&(r=s)}else{for(;++i<n&&(null==(r=t.call(e,e[i],i))||r!=r);)r=void 0;for(;++i<n;)null!=(s=t.call(e,e[i],i))&&s>r&&(r=s)}return r},d3.extent=function(e,t){var i=-1,n=e.length,r,s,a;if(1===arguments.length){for(;++i<n&&(null==(r=a=e[i])||r!=r);)r=a=void 0;for(;++i<n;)null!=(s=e[i])&&(r>s&&(r=s),a<s&&(a=s))}else{for(;++i<n&&(null==(r=a=t.call(e,e[i],i))||r!=r);)r=void 0;for(;++i<n;)null!=(s=t.call(e,e[i],i))&&(r>s&&(r=s),a<s&&(a=s))}return[r,a]},d3.random={normal:function(e,t){return arguments.length<2&&(t=1),arguments.length<1&&(e=0),function(){var i,n,r;do{r=(i=2*Math.random()-1)*i+(n=2*Math.random()-1)*n}while(!r||r>1);return e+t*i*Math.sqrt(-2*Math.log(r)/r)}}},d3.sum=function(e,t){var i=0,n=e.length,r,s=-1;if(1===arguments.length)for(;++s<n;)isNaN(r=+e[s])||(i+=r);else for(;++s<n;)isNaN(r=+t.call(e,e[s],s))||(i+=r);return i},d3.quantile=function(e,t){var i=(e.length-1)*t+1,n=Math.floor(i),r=e[n-1],s=i-n;return s?r+s*(e[n]-r):r},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=d3.min(arguments,m),i=new Array(t);++e<t;)for(var n=-1,r,s=i[e]=new Array(r);++n<r;)s[n]=arguments[n][e];return i},d3.bisector=function(e){return{left:function(t,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var s=n+r>>1;e.call(t,t[s],s)<i?n=s+1:r=s}return n},right:function(t,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var s=n+r>>1;i<e.call(t,t[s],s)?r=s:n=s+1}return n}}};var v=d3.bisector((function(e){return e}));function y(e){return null==e}function b(e){return e.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}function w(e){for(var t=1;e*t%1;)t*=10;return t}d3.bisectLeft=v.left,d3.bisect=d3.bisectRight=v.right,d3.first=function(e,t){var i=0,n=e.length,r=e[0],s;for(1===arguments.length&&(t=d3.ascending);++i<n;)t.call(e,r,s=e[i])>0&&(r=s);return r},d3.last=function(e,t){var i=0,n=e.length,r=e[0],s;for(1===arguments.length&&(t=d3.ascending);++i<n;)t.call(e,r,s=e[i])<=0&&(r=s);return r},d3.nest=function(){var e={},t=[],i=[],n,r;function s(i,a){if(a>=t.length)return r?r.call(e,i):n?i.sort(n):i;for(var l=-1,u=i.length,c=t[a++],f,h,d=new o,p,g={};++l<u;)(p=d.get(f=c(h=i[l])))?p.push(h):d.set(f,[h]);return d.forEach((function(e){g[e]=s(d.get(e),a)})),g}function a(e,n){if(n>=t.length)return e;var r=[],s=i[n++],o;for(o in e)r.push({key:o,values:a(e[o],n)});return s&&r.sort((function(e,t){return s(e.key,t.key)})),r}return e.map=function(e){return s(e,0)},e.entries=function(e){return a(s(e,0),0)},e.key=function(i){return t.push(i),e},e.sortKeys=function(n){return i[t.length-1]=n,e},e.sortValues=function(t){return n=t,e},e.rollup=function(t){return r=t,e},e},d3.keys=function(e){var t=[];for(var i in e)t.push(i);return t},d3.values=function(e){var t=[];for(var i in e)t.push(e[i]);return t},d3.entries=function(e){var t=[];for(var i in e)t.push({key:i,value:e[i]});return t},d3.permute=function(e,t){for(var i=[],n=-1,r=t.length;++n<r;)i[n]=e[t[n]];return i},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var i=[],n=[],r,s=-1,a=e.length;for(arguments.length<2&&(t=y);++s<a;)t.call(n,r=e[s],s)?n=[]:(n.length||i.push(n),n.push(r));return i},d3.range=function(e,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=e,e=0)),(t-e)/i==1/0)throw new Error("infinite range");var n=[],r=w(Math.abs(i)),s=-1,a;if(e*=r,t*=r,(i*=r)<0)for(;(a=e+i*++s)>t;)n.push(a/r);else for(;(a=e+i*++s)<t;)n.push(a/r);return n},d3.requote=function(e){return e.replace(_,"\\$&")};var _=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,i){var n=new XMLHttpRequest;arguments.length<3?(i=t,t=null):t&&n.overrideMimeType&&n.overrideMimeType(t),n.open("GET",e,!0),t&&n.setRequestHeader("Accept",t),n.onreadystatechange=function(){if(4===n.readyState){var e=n.status;i(!e&&n.response||e>=200&&e<300||304===e?n:null)}},n.send(null)},d3.text=function(e,t,i){function n(e){i(e&&e.responseText)}arguments.length<3&&(i=t,t=null),d3.xhr(e,t,n)},d3.json=function(e,t){d3.text(e,"application/json",(function(e){t(e?JSON.parse(e):null)}))},d3.html=function(e,t){d3.text(e,"text/html",(function(e){if(null!=e){var i=document.createRange();i.selectNode(document.body),e=i.createContextualFragment(e)}t(e)}))},d3.xml=function(e,t,i){function n(e){i(e&&e.responseXML)}arguments.length<3&&(i=t,t=null),d3.xhr(e,t,n)};var x={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function k(){}function C(e){var t=[],i=new o;function n(){for(var i=t,n=-1,r=i.length,s;++n<r;)(s=i[n].on)&&s.apply(this,arguments);return e}return n.on=function(n,r){var s=i.get(n),a;return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,a=t.indexOf(s)).concat(t.slice(a+1)),i.remove(n)),r&&t.push(i.set(n,{on:r})),e)},n}d3.ns={prefix:x,qualify:function(e){var t=e.indexOf(":"),i=e;return t>=0&&(i=e.substring(0,t),e=e.substring(t+1)),x.hasOwnProperty(i)?{space:x[i],local:e}:e}},d3.dispatch=function(){for(var e=new k,t=-1,i=arguments.length;++t<i;)e[arguments[t]]=C(e);return e},k.prototype.on=function(e,t){var i=e.indexOf("."),n="";return i>0&&(n=e.substring(i+1),e=e.substring(0,i)),arguments.length<2?this[e].on(n):this[e].on(n,t)},d3.format=function(e){var t=M.exec(e),i=t[1]||" ",n=t[3]||"",r=t[5],s=+t[6],a=t[7],o=t[8],l=t[9],u=1,c="",f=!1;switch(o&&(o=+o.substring(1)),r&&(i="0",a&&(s-=Math.floor((s-1)/4))),l){case"n":a=!0,l="g";break;case"%":u=100,c="%",l="f";break;case"p":u=100,c="%",l="r";break;case"d":f=!0,o=0;break;case"s":u=-1,l="r"}return"r"!=l||o||(l="g"),l=T.get(l)||S,function(e){if(f&&e%1)return"";var t=e<0&&(e=-e)?"":n,d,d;if(u<0){var h=d3.formatPrefix(e,o);e=h.scale(e),c=h.symbol}else e*=u;(e=l(e,o),r)?((d=e.length+t.length)<s&&(e=new Array(s-d+1).join(i)+e),a&&(e=E(e)),e=t+e):(a&&(e=E(e)),(d=(e=t+e).length)<s&&(e=new Array(s-d+1).join(i)+e));return e+c}};var M=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,T=d3.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=D(e,t)).toFixed(Math.max(0,Math.min(20,t)))}});function D(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function S(e){return e+""}function E(e){for(var t=e.lastIndexOf("."),i=t>=0?e.substring(t):(t=e.length,""),n=[];t>0;)n.push(e.substring(t-=3,t+3));return n.reverse().join(",")+i}var A=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(I);function I(e,t){var i=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/i}:function(e){return e*i},symbol:e}}d3.formatPrefix=function(e,t){var i=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,D(e,t))),i=1+Math.floor(1e-12+Math.log(e)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i<=0?i+1:i-1)/3)))),A[8+i/3]};var $=R(2),P=R(3),z=function(){return F},N=d3.map({linear:z,poly:R,quad:function(){return $},cubic:function(){return P},sin:function(){return W},exp:function(){return Y},circle:function(){return q},elastic:B,back:U,bounce:function(){return Q}}),H=d3.map({in:F,out:L,"in-out":j,"out-in":function(e){return j(L(e))}});function O(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function L(e){return function(t){return 1-e(1-t)}}function j(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function F(e){return e}function R(e){return function(t){return Math.pow(t,e)}}function W(e){return 1-Math.cos(e*Math.PI/2)}function Y(e){return Math.pow(2,10*(e-1))}function q(e){return 1-Math.sqrt(1-e*e)}function B(e,t){var i;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,i=t/4):i=t/(2*Math.PI)*Math.asin(1/e),function(n){return 1+e*Math.pow(2,10*-n)*Math.sin(2*(n-i)*Math.PI/t)}}function U(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Q(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function G(){d3.event.stopPropagation(),d3.event.preventDefault()}function X(){for(var e=d3.event,t;t=e.sourceEvent;)e=t;return e}function V(e){for(var t=new k,i=0,n=arguments.length;++i<n;)t[arguments[i]]=C(t);return t.of=function(i,n){return function(r){try{var s=r.sourceEvent=d3.event;r.target=e,d3.event=r,t[r.type].apply(i,n)}finally{d3.event=s}}},t}d3.ease=function(e){var t=e.indexOf("-"),i=t>=0?e.substring(0,t):e,n=t>=0?e.substring(t+1):"in";return i=N.get(i)||z,O((n=H.get(n)||F)(i.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(e,t){for(var i=d3.interpolators.length,n;--i>=0&&!(n=d3.interpolators[i](e,t)););return n},d3.interpolateNumber=function(e,t){return t-=e,function(i){return e+t*i}},d3.interpolateRound=function(e,t){return t-=e,function(i){return Math.round(e+t*i)}},d3.interpolateString=function(e,t){var i,n,r,s=0,a=0,o=[],l=[],u,c;for(K.lastIndex=0,n=0;i=K.exec(t);++n)i.index&&o.push(t.substring(s,a=i.index)),l.push({i:o.length,x:i[0]}),o.push(null),s=K.lastIndex;for(s<t.length&&o.push(t.substring(s)),n=0,u=l.length;(i=K.exec(e))&&n<u;++n)if((c=l[n]).x==i[0]){if(c.i)if(null==o[c.i+1])for(o[c.i-1]+=c.x,o.splice(c.i,1),r=n+1;r<u;++r)l[r].i--;else for(o[c.i-1]+=c.x+o[c.i+1],o.splice(c.i,2),r=n+1;r<u;++r)l[r].i-=2;else if(null==o[c.i+1])o[c.i]=c.x;else for(o[c.i]=c.x+o[c.i+1],o.splice(c.i+1,1),r=n+1;r<u;++r)l[r].i--;l.splice(n,1),u--,n--}else c.x=d3.interpolateNumber(parseFloat(i[0]),parseFloat(c.x));for(;n<u;)c=l.pop(),null==o[c.i+1]?o[c.i]=c.x:(o[c.i]=c.x+o[c.i+1],o.splice(c.i+1,1)),u--;return 1===o.length?null==o[0]?l[0].x:function(){return t}:function(e){for(n=0;n<u;++n)o[(c=l[n]).i]=c.x(e);return o.join("")}},d3.interpolateTransform=function(e,t){var i=[],n=[],r,s=d3.transform(e),a=d3.transform(t),o=s.translate,l=a.translate,u=s.rotate,c=a.rotate,f=s.skew,h=a.skew,d=s.scale,p=a.scale;return o[0]!=l[0]||o[1]!=l[1]?(i.push("translate(",null,",",null,")"),n.push({i:1,x:d3.interpolateNumber(o[0],l[0])},{i:3,x:d3.interpolateNumber(o[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),n.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),f!=h?n.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(f,h)}):h&&i.push(i.pop()+"skewX("+h+")"),d[0]!=p[0]||d[1]!=p[1]?(r=i.push(i.pop()+"scale(",null,",",null,")"),n.push({i:r-4,x:d3.interpolateNumber(d[0],p[0])},{i:r-2,x:d3.interpolateNumber(d[1],p[1])})):1==p[0]&&1==p[1]||i.push(i.pop()+"scale("+p+")"),r=n.length,function(e){for(var t=-1,s;++t<r;)i[(s=n[t]).i]=s.x(e);return i.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var i=e.r,n=e.g,r=e.b,s=t.r-i,a=t.g-n,o=t.b-r;return function(e){return"#"+nt(Math.round(i+s*e))+nt(Math.round(n+a*e))+nt(Math.round(r+o*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var i=e.h,n=e.s,r=e.l,s=t.h-i,a=t.s-n,o=t.l-r;return s>180?s-=360:s<-180&&(s+=360),function(e){return ct(i+s*e,n+a*e,r+o*e).toString()}},d3.interpolateArray=function(e,t){var i=[],n=[],r=e.length,s=t.length,a=Math.min(e.length,t.length),o;for(o=0;o<a;++o)i.push(d3.interpolate(e[o],t[o]));for(;o<r;++o)n[o]=e[o];for(;o<s;++o)n[o]=t[o];return function(e){for(o=0;o<a;++o)n[o]=i[o](e);return n}},d3.interpolateObject=function(e,t){var i={},n={},r;for(r in e)r in t?i[r]=Z(r)(e[r],t[r]):n[r]=e[r];for(r in t)r in e||(n[r]=t[r]);return function(e){for(r in i)n[r]=i[r](e);return n}};var K=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function Z(e){return"transform"==e?d3.interpolateTransform:d3.interpolate}function J(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return(i-e)*t}}function et(e,t){return t=t-(e=+e)?1/(t-e):0,function(i){return Math.max(0,Math.min(1,(i-e)*t))}}function tt(e,t,i){return new it(e,t,i)}function it(e,t,i){this.r=e,this.g=t,this.b=i}function nt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function rt(e,t,i){var n=0,r=0,s=0,a,o,l;if(a=/([a-z]+)\((.*)\)/i.exec(e))switch(o=a[2].split(","),a[1]){case"hsl":return i(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return t(at(o[0]),at(o[1]),at(o[2]))}return(l=ot.get(e))?t(l.r,l.g,l.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(n=e.charAt(1),n+=n,r=e.charAt(2),r+=r,s=e.charAt(3),s+=s):7===e.length&&(n=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7)),n=parseInt(n,16),r=parseInt(r,16),s=parseInt(s,16)),t(n,r,s))}function st(e,t,i){var n=Math.min(e/=255,t/=255,i/=255),r=Math.max(e,t,i),s=r-n,a,o,l=(r+n)/2;return s?(o=l<.5?s/(r+n):s/(2-r-n),a=e==r?(t-i)/s+(t<i?6:0):t==r?(i-e)/s+2:(e-t)/s+4,a*=60):o=a=0,lt(a,o,l)}function at(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return("string"==typeof e||"string"==typeof t)&&d3.interpolateString(e+"",t+"")},function(e,t){return("string"==typeof t?ot.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof it||t instanceof ut)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],d3.rgb=function(e,t,i){return 1===arguments.length?e instanceof it?tt(e.r,e.g,e.b):rt(""+e,tt,ct):tt(~~e,~~t,~~i)},it.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,i=this.g,n=this.b,r=30;return t||i||n?(t&&t<r&&(t=r),i&&i<r&&(i=r),n&&n<r&&(n=r),tt(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(i/e)),Math.min(255,Math.floor(n/e)))):tt(r,r,r)},it.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),tt(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},it.prototype.hsl=function(){return st(this.r,this.g,this.b)},it.prototype.toString=function(){return"#"+nt(this.r)+nt(this.g)+nt(this.b)};var ot=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});function lt(e,t,i){return new ut(e,t,i)}function ut(e,t,i){this.h=e,this.s=t,this.l=i}function ct(e,t,i){var n,r;function s(e){return e>360?e-=360:e<0&&(e+=360),e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n}function a(e){return Math.round(255*s(e))}return(e%=360)<0&&(e+=360),t=t<0?0:t>1?1:t,n=2*(i=i<0?0:i>1?1:i)-(r=i<=.5?i*(1+t):i+t-i*t),tt(a(e+120),a(e),a(e-120))}function ft(e){return a(e,vt),e}ot.forEach((function(e,t){ot.set(e,rt(t,tt,ct))})),d3.hsl=function(e,t,i){return 1===arguments.length?e instanceof ut?lt(e.h,e.s,e.l):rt(""+e,st,lt):lt(+e,+t,+i)},ut.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),lt(this.h,this.s,this.l/e)},ut.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),lt(this.h,this.s,e*this.l)},ut.prototype.rgb=function(){return ct(this.h,this.s,this.l)},ut.prototype.toString=function(){return this.rgb().toString()};var ht=function(e,t){return t.querySelector(e)},dt=function(e,t){return t.querySelectorAll(e)},pt=document.documentElement,gt=pt.matchesSelector||pt.webkitMatchesSelector||pt.mozMatchesSelector||pt.msMatchesSelector||pt.oMatchesSelector,mt=function(e,t){return gt.call(e,t)};"function"==typeof Sizzle&&(ht=function(e,t){return Sizzle(e,t)[0]||null},dt=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},mt=Sizzle.matchesSelector);var vt=[];function yt(e){return function(){return ht(e,this)}}function bt(e){return function(){return dt(e,this)}}function wt(e,t){var i=new RegExp("(^|\\s+)"+d3.requote(e)+"(\\s+|$)","g");if(arguments.length<2){var n=this.node();if(r=n.classList)return r.contains(e);var r=n.className;return i.lastIndex=0,i.test(null!=r.baseVal?r.baseVal:r)}function s(){if(t=this.classList)return t.add(e);var t=this.className,n=null!=t.baseVal,r=n?t.baseVal:t;i.lastIndex=0,i.test(r)||(r=b(r+" "+e),n?t.baseVal=r:this.className=r)}function a(){if(t=this.classList)return t.remove(e);var t=this.className,n=null!=t.baseVal,r=n?t.baseVal:t;r=b(r.replace(i," ")),n?t.baseVal=r:this.className=r}function o(){(t.apply(this,arguments)?s:a).call(this)}return this.each("function"==typeof t?o:t?s:a)}function _t(e){return{__data__:e}}function xt(e){return function(){return mt(this,e)}}function kt(e){return arguments.length||(e=d3.ascending),function(t,i){return e(t&&t.__data__,i&&i.__data__)}}function Ct(e,t){for(var i=0,n=e.length;i<n;i++)for(var r=e[i],s=0,a=r.length,o;s<a;s++)(o=r[s])&&t(o,s,i);return e}d3.selection=function(){return Mt},d3.selection.prototype=vt,vt.select=function(e){var t=[],i,n,r,s;"function"!=typeof e&&(e=yt(e));for(var a=-1,o=this.length;++a<o;){t.push(i=[]),i.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(s=r[l])?(i.push(n=e.call(s,s.__data__,l)),n&&"__data__"in s&&(n.__data__=s.__data__)):i.push(null)}return ft(t)},vt.selectAll=function(e){var t=[],i,r;"function"!=typeof e&&(e=bt(e));for(var s=-1,a=this.length;++s<a;)for(var o=this[s],l=-1,u=o.length;++l<u;)(r=o[l])&&(t.push(i=n(e.call(r,r.__data__,l))),i.parentNode=r);return ft(t)},vt.attr=function(e,t){if(e=d3.ns.qualify(e),arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function s(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var i=t.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}function l(){var i=t.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}return this.each(null==t?e.local?r:n:"function"==typeof t?e.local?l:o:e.local?a:s)},vt.classed=function(e,t){var i=b(e).split(" "),n=i.length,r=-1;if(arguments.length>1){for(;++r<n;)wt.call(this,i[r],t);return this}for(;++r<n;)if(!wt.call(this,i[r]))return!1;return!0},vt.style=function(e,t,i){if(arguments.length<3&&(i=""),arguments.length<2)return window.getComputedStyle(this.node(),null).getPropertyValue(e);function n(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,t,i)}function s(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,i)}return this.each(null==t?n:"function"==typeof t?s:r)},vt.property=function(e,t){if(arguments.length<2)return this.node()[e];function i(){delete this[e]}function n(){this[e]=t}function r(){var i=t.apply(this,arguments);null==i?delete this[e]:this[e]=i}return this.each(null==t?i:"function"==typeof t?r:n)},vt.text=function(e){return arguments.length<1?this.node().textContent:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e})},vt.html=function(e){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e})},vt.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function i(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?i:t)},vt.insert=function(e,t){function i(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),ht(t,this))}function n(){return this.insertBefore(document.createElementNS(e.space,e.local),ht(t,this))}return e=d3.ns.qualify(e),this.select(e.local?n:i)},vt.remove=function(){return this.each((function(){var e=this.parentNode;e&&e.removeChild(this)}))},vt.data=function(e,t){var i=-1,n=this.length,r,s;if(!arguments.length){for(e=new Array(n=(r=this[0]).length);++i<n;)(s=r[i])&&(e[i]=s.__data__);return e}function a(e,i){var n,r=e.length,s=i.length,a=Math.min(r,s),f=Math.max(r,s),h=[],d=[],p=[],g,m;if(t){var v=new o,y=[],b,w=i.length;for(n=-1;++n<r;)b=t.call(g=e[n],g.__data__,n),v.has(b)?p[w++]=g:v.set(b,g),y.push(b);for(n=-1;++n<s;)b=t.call(i,m=i[n],n),v.has(b)?(h[n]=g=v.get(b),g.__data__=m,d[n]=p[n]=null):(d[n]=_t(m),h[n]=p[n]=null),v.remove(b);for(n=-1;++n<r;)v.has(y[n])&&(p[n]=e[n])}else{for(n=-1;++n<a;)g=e[n],m=i[n],g?(g.__data__=m,h[n]=g,d[n]=p[n]=null):(d[n]=_t(m),h[n]=p[n]=null);for(;n<s;++n)d[n]=_t(i[n]),h[n]=p[n]=null;for(;n<f;++n)p[n]=e[n],d[n]=h[n]=null}d.update=h,d.parentNode=h.parentNode=p.parentNode=e.parentNode,l.push(d),u.push(h),c.push(p)}var l=Tt([]),u=ft([]),c=ft([]);if("function"==typeof e)for(;++i<n;)a(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<n;)a(r=this[i],e);return u.enter=function(){return l},u.exit=function(){return c},u},vt.datum=vt.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},vt.filter=function(e){var t=[],i,n,r;"function"!=typeof e&&(e=xt(e));for(var s=0,a=this.length;s<a;s++){t.push(i=[]),i.parentNode=(n=this[s]).parentNode;for(var o=0,l=n.length;o<l;o++)(r=n[o])&&e.call(r,r.__data__,o)&&i.push(r)}return ft(t)},vt.order=function(){for(var e=-1,t=this.length;++e<t;)for(var i=this[e],n=i.length-1,r=i[n],s;--n>=0;)(s=i[n])&&(r&&r!==s.nextSibling&&r.parentNode.insertBefore(s,r),r=s);return this},vt.sort=function(e){e=kt.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(e);return this.order()},vt.on=function(e,t,i){arguments.length<3&&(i=!1);var n="__on"+e,r=e.indexOf(".");return r>0&&(e=e.substring(0,r)),arguments.length<2?(r=this.node()[n])&&r._:this.each((function(r,s){var a=this,o=a[n];function l(e){var i=d3.event;d3.event=e;try{t.call(a,a.__data__,s)}finally{d3.event=i}}o&&(a.removeEventListener(e,o,o.$),delete a[n]),t&&(a.addEventListener(e,a[n]=l,l.$=i),l._=t)}))},vt.each=function(e){return Ct(this,(function(t,i,n){e.call(t,t.__data__,i,n)}))},vt.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},vt.empty=function(){return!this.node()},vt.node=function(e){for(var t=0,i=this.length;t<i;t++)for(var n=this[t],r=0,s=n.length;r<s;r++){var a=n[r];if(a)return a}return null},vt.transition=function(){for(var e=[],t,i,n=-1,r=this.length;++n<r;){e.push(t=[]);for(var s=this[n],a=-1,o=s.length;++a<o;)t.push((i=s[a])?{node:i,delay:Lt,duration:jt}:null)}return St(e,zt||++Pt,Date.now())};var Mt=ft([[document]]);function Tt(e){return a(e,Dt),e}Mt[0].parentNode=pt,d3.select=function(e){return"string"==typeof e?Mt.select(e):ft([[e]])},d3.selectAll=function(e){return"string"==typeof e?Mt.selectAll(e):ft([n(e)])};var Dt=[];function St(e,t,i){a(e,$t);var n=new o,r=d3.dispatch("start","end"),s=Ft;return e.id=t,e.time=i,e.tween=function(t,i){return arguments.length<2?n.get(t):(null==i?n.remove(t):n.set(t,i),e)},e.ease=function(t){return arguments.length?(s="function"==typeof t?t:d3.ease.apply(d3,arguments),e):s},e.each=function(t,i){return arguments.length<2?Rt.call(e,t):(r.on(t,i),e)},d3.timer((function(a){return Ct(e,(function(e,o,l){var u=[],c=e.delay,f=e.duration,h=(e=e.node).__transition__||(e.__transition__={active:0,count:0}),d=e.__data__;function p(s){return h.active>t?m():(h.active=t,n.forEach((function(t,i){(i=i.call(e,d,o))&&u.push(i)})),r.start.call(e,d,o),g(s)||d3.timer(g,0,i),1)}function g(i){if(h.active!==t)return m();for(var n=(i-c)/f,a=s(n),l=u.length;l>0;)u[--l].call(e,a);return n>=1?(m(),zt=t,r.end.call(e,d,o),zt=0,1):void 0}function m(){return--h.count||delete e.__transition__,1}++h.count,c<=a?p(a):d3.timer(p,c,i)}))}),0,i),e}d3.selection.enter=Tt,d3.selection.enter.prototype=Dt,Dt.append=vt.append,Dt.insert=vt.insert,Dt.empty=vt.empty,Dt.node=vt.node,Dt.select=function(e){for(var t=[],i,n,r,s,a,o=-1,l=this.length;++o<l;){r=(s=this[o]).update,t.push(i=[]),i.parentNode=s.parentNode;for(var u=-1,c=s.length;++u<c;)(a=s[u])?(i.push(r[u]=n=e.call(s.parentNode,a.__data__,u)),n.__data__=a.__data__):i.push(null)}return ft(t)};var Et={};function At(e,t,i){return""!=i&&Et}function It(e,t){var i=Z(e);function n(e,n,r){var s=t.call(this,e,n);return null==s?""!=r&&Et:r!=s&&i(r,s)}function r(e,n,r){return r!=t&&i(r,t)}return"function"==typeof t?n:null==t?At:(t+="",r)}var $t=[],Pt=0,zt=0,Nt=0,Ht=250,Ot=d3.ease("cubic-in-out"),Lt=0,jt=Ht,Ft=Ot;function Rt(e){var t=zt,i=Ft,n=Lt,r=jt;return zt=this.id,Ft=this.ease(),Ct(this,(function(t,i,n){Lt=t.delay,jt=t.duration,e.call(t=t.node,t.__data__,i,n)})),zt=t,Ft=i,Lt=n,jt=r,this}$t.call=vt.call,d3.transition=function(e){return arguments.length?zt?e.transition():e:Mt.transition()},d3.transition.prototype=$t,$t.select=function(e){var t=[],i,n,r;"function"!=typeof e&&(e=yt(e));for(var s=-1,a=this.length;++s<a;){t.push(i=[]);for(var o=this[s],l=-1,u=o.length;++l<u;)(r=o[l])&&(n=e.call(r.node,r.node.__data__,l))?("__data__"in r.node&&(n.__data__=r.node.__data__),i.push({node:n,delay:r.delay,duration:r.duration})):i.push(null)}return St(t,this.id,this.time).ease(this.ease())},$t.selectAll=function(e){var t=[],i,n,r;"function"!=typeof e&&(e=bt(e));for(var s=-1,a=this.length;++s<a;)for(var o=this[s],l=-1,u=o.length;++l<u;)if(r=o[l]){n=e.call(r.node,r.node.__data__,l),t.push(i=[]);for(var c=-1,f=n.length;++c<f;)i.push({node:n[c],delay:r.delay,duration:r.duration})}return St(t,this.id,this.time).ease(this.ease())},$t.attr=function(e,t){return this.attrTween(e,It(e,t))},$t.attrTween=function(e,t){var i=d3.ns.qualify(e);function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r===Et?(this.removeAttribute(i),null):r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r===Et?(this.removeAttributeNS(i.space,i.local),null):r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}return this.tween("attr."+e,i.local?r:n)},$t.style=function(e,t,i){return arguments.length<3&&(i=""),this.styleTween(e,It(e,t),i)},$t.styleTween=function(e,t,i){return arguments.length<3&&(i=""),this.tween("style."+e,(function(n,r){var s=t.call(this,n,r,window.getComputedStyle(this,null).getPropertyValue(e));return s===Et?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),i)}}))},$t.text=function(e){return this.tween("text",(function(t,i){this.textContent="function"==typeof e?e.call(this,t,i):e}))},$t.remove=function(){return this.each("end.transition",(function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)}))},$t.delay=function(e){return Ct(this,"function"==typeof e?function(t,i,n){t.delay=0|e.call(t=t.node,t.__data__,i,n)}:(e|=0,function(t){t.delay=e}))},$t.duration=function(e){return Ct(this,"function"==typeof e?function(t,i,n){t.duration=Math.max(1,0|e.call(t=t.node,t.__data__,i,n))}:(e=Math.max(1,0|e),function(t){t.duration=e}))},$t.transition=function(){return this.select(f)};var Wt=null,Yt,qt;function Bt(){for(var e,t=Date.now(),i=Wt;i;)(e=t-i.then)>=i.delay&&(i.flush=i.callback(e)),i=i.next;var n=Ut()-t;n>24?(isFinite(n)&&(clearTimeout(qt),qt=setTimeout(Bt,n)),Yt=0):(Yt=1,Qt(Bt))}function Ut(){for(var e=null,t=Wt,i=1/0;t;)t.flush?t=e?e.next=t.next:Wt=t.next:(i=Math.min(i,t.then+t.delay),t=(e=t).next);return i}d3.timer=function(e,t,i){var n=!1,r,s=Wt;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;i=Date.now()}for(;s;){if(s.callback===e){s.then=i,s.delay=t,n=!0;break}r=s,s=s.next}n||(Wt={callback:e,then:i,delay:t,next:Wt}),Yt||(qt=clearTimeout(qt),Yt=1,Qt(Bt))},d3.timer.flush=function(){for(var e,t=Date.now(),i=Wt;i;)e=t-i.then,i.delay||(i.flush=i.callback(e)),i=i.next;Ut()};var Qt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};function Gt(e){var t=[e.a,e.b],i=[e.c,e.d],n=Vt(t),r=Xt(t,i),s=Vt(Kt(i,t,-r))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,n*=-1,r*=-1),this.rotate=(n?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*Zt,this.translate=[e.e,e.f],this.scale=[n,s],this.skew=s?Math.atan2(r,s)*Zt:0}function Xt(e,t){return e[0]*t[0]+e[1]*t[1]}function Vt(e){var t=Math.sqrt(Xt(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Kt(e,t,i){return e[0]+=i*t[0],e[1]+=i*t[1],e}d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g"),i={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new Gt(n?n.matrix:i)})(e)},Gt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Zt=180/Math.PI;d3.mouse=function(e){return ei(e,X())};var Jt=/WebKit/.test(navigator.userAgent)?-1:0;function ei(e,t){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();if(Jt<0&&(window.scrollX||window.scrollY)){var r=(i=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0))[0][0].getScreenCTM();Jt=!(r.f||r.e),i.remove()}return Jt?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ti(){}function ii(e){var t=e[0],i=e[e.length-1];return t<i?[t,i]:[i,t]}function ni(e){return e.rangeExtent?e.rangeExtent():ii(e.range())}function ri(e,t){var i=0,n=e.length-1,r=e[i],s=e[n],a;return s<r&&(a=i,i=n,n=a,a=r,r=s,s=a),(a=s-r)&&(t=t(a),e[i]=t.floor(r),e[n]=t.ceil(s)),e}function si(){return Math}function ai(e,t,i,n){var r,s;function a(){var a=Math.min(e.length,t.length)>2?di:hi,l=n?et:J;return r=a(e,t,l,i),s=a(t,e,l,d3.interpolate),o}function o(e){return r(e)}return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},o.range=function(e){return arguments.length?(t=e,a()):t},o.rangeRound=function(e){return o.range(e).interpolate(d3.interpolateRound)},o.clamp=function(e){return arguments.length?(n=e,a()):n},o.interpolate=function(e){return arguments.length?(i=e,a()):i},o.ticks=function(t){return ci(e,t)},o.tickFormat=function(t){return fi(e,t)},o.nice=function(){return ri(e,li),a()},o.copy=function(){return ai(e,t,i,n)},a()}function oi(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function li(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function ui(e,t){var i=ii(e),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/t)/Math.LN10)),s=t/n*r;return s<=.15?r*=10:s<=.35?r*=5:s<=.75&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function ci(e,t){return d3.range.apply(d3,ui(e,t))}function fi(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(ui(e,t)[2])/Math.LN10+.01))+"f")}function hi(e,t,i,n){var r=i(e[0],e[1]),s=n(t[0],t[1]);return function(e){return s(r(e))}}function di(e,t,i,n){var r=[],s=[],a=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=o;)r.push(i(e[a-1],e[a])),s.push(n(t[a-1],t[a]));return function(t){var i=d3.bisect(e,t,1,o)-1;return s[i](r[i](t))}}function pi(e,t){var i=t.pow;function n(i){return e(t(i))}return n.invert=function(t){return i(e.invert(t))},n.domain=function(r){return arguments.length?(t=r[0]<0?vi:mi,i=t.pow,e.domain(r.map(t)),n):e.domain().map(i)},n.nice=function(){return e.domain(ri(e.domain(),si)),n},n.ticks=function(){var n=ii(e.domain()),r=[];if(n.every(isFinite)){var s=Math.floor(n[0]),a=Math.ceil(n[1]),o=i(n[0]),l=i(n[1]);if(t===vi)for(r.push(i(s));s++<a;)for(var u=9;u>0;u--)r.push(i(s)*u);else{for(;s<a;s++)for(var u=1;u<10;u++)r.push(i(s)*u);r.push(i(s))}for(s=0;r[s]<o;s++);for(a=r.length;r[a-1]>l;a--);r=r.slice(s,a)}return r},n.tickFormat=function(e,r){if(arguments.length<2&&(r=gi),arguments.length<1)return r;var s=Math.max(.1,e/n.ticks().length),a=t===vi?(o=-1e-12,Math.floor):(o=1e-12,Math.ceil),o;return function(e){return e/i(a(t(e)+o))<=s?r(e):""}},n.copy=function(){return pi(e.copy(),t)},oi(n,e)}d3.touches=function(e,t){return arguments.length<2&&(t=X().touches),t?n(t).map((function(t){var i=ei(e,t);return i.identifier=t.identifier,i})):[]},d3.scale={},d3.scale.linear=function(){return ai([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return pi(d3.scale.linear(),mi)};var gi=d3.format(".0e");function mi(e){return Math.log(e<0?0:e)/Math.LN10}function vi(e){return-Math.log(e>0?0:-e)/Math.LN10}function yi(e,t){var i=bi(t),n=bi(1/t);function r(t){return e(i(t))}return r.invert=function(t){return n(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t.map(i)),r):e.domain().map(n)},r.ticks=function(e){return ci(r.domain(),e)},r.tickFormat=function(e){return fi(r.domain(),e)},r.nice=function(){return r.domain(ri(r.domain(),li))},r.exponent=function(e){if(!arguments.length)return t;var s=r.domain();return i=bi(t=e),n=bi(1/t),r.domain(s)},r.copy=function(){return yi(e.copy(),t)},oi(r,e)}function bi(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wi(e,t){var i,n,r;function s(t){return n[((i.get(t)||i.set(t,e.push(t)))-1)%n.length]}function a(t,i){return d3.range(e.length).map((function(e){return t+i*e}))}return s.domain=function(n){if(!arguments.length)return e;e=[],i=new o;for(var r=-1,a=n.length,l;++r<a;)i.has(l=n[r])||i.set(l,e.push(l));return s[t.t](t.x,t.p)},s.range=function(e){return arguments.length?(n=e,r=0,t={t:"range",x:e},s):n},s.rangePoints=function(i,o){arguments.length<2&&(o=0);var l=i[0],u=i[1],c=(u-l)/(e.length-1+o);return n=a(e.length<2?(l+u)/2:l+c*o/2,c),r=0,t={t:"rangePoints",x:i,p:o},s},s.rangeBands=function(i,o){arguments.length<2&&(o=0);var l=i[1]<i[0],u=i[l-0],c=i[1-l],f=(c-u)/(e.length+o);return n=a(u+f*o,f),l&&n.reverse(),r=f*(1-o),t={t:"rangeBands",x:i,p:o},s},s.rangeRoundBands=function(i,o){arguments.length<2&&(o=0);var l=i[1]<i[0],u=i[l-0],c=i[1-l],f=Math.floor((c-u)/(e.length+o)),h=c-u-(e.length-o)*f;return n=a(u+Math.round(h/2),f),l&&n.reverse(),r=Math.round(f*(1-o)),t={t:"rangeRoundBands",x:i,p:o},s},s.rangeBand=function(){return r},s.rangeExtent=function(){return ii(t.x)},s.copy=function(){return wi(e,t)},s.domain(e)}mi.pow=function(e){return Math.pow(10,e)},vi.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return yi(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return wi([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(_i)},d3.scale.category20=function(){return d3.scale.ordinal().range(xi)},d3.scale.category20b=function(){return d3.scale.ordinal().range(ki)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Ci)};var _i=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],xi=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],ki=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Ci=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];function Mi(e,t){var i;function n(){var n=0,s=e.length,a=t.length;for(i=[];++n<a;)i[n-1]=d3.quantile(e,n/a);return r}function r(e){return isNaN(e=+e)?NaN:t[d3.bisect(i,e)]}return r.domain=function(t){return arguments.length?(e=t.filter((function(e){return!isNaN(e)})).sort(d3.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.copy=function(){return Mi(e,t)},n()}function Ti(e,t,i){var n,r;function s(t){return i[Math.max(0,Math.min(r,Math.floor(n*(t-e))))]}function a(){return n=i.length/(t-e),r=i.length-1,s}return s.domain=function(i){return arguments.length?(e=+i[0],t=+i[i.length-1],a()):[e,t]},s.range=function(e){return arguments.length?(i=e,a()):i},s.copy=function(){return Ti(e,t,i)},a()}function Di(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(e=i.map(t),t):e},t.ticks=function(t){return ci(e,t)},t.tickFormat=function(t){return fi(e,t)},t.copy=function(){return Di(e)},t}d3.scale.quantile=function(){return Mi([],[])},d3.scale.quantize=function(){return Ti(0,1,[0,1])},d3.scale.identity=function(){return Di([0,1])},d3.svg={},d3.svg.arc=function(){var e=Ai,t=Ii,i=$i,n=Pi;function r(){var r=e.apply(this,arguments),s=t.apply(this,arguments),a=i.apply(this,arguments)+Si,o=n.apply(this,arguments)+Si,l=(o<a&&(l=a,a=o,o=l),o-a),u=l<Math.PI?"0":"1",c=Math.cos(a),f=Math.sin(a),h=Math.cos(o),d=Math.sin(o);return l>=Ei?r?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+r+"A"+r+","+r+" 0 1,0 0,"+-r+"A"+r+","+r+" 0 1,0 0,"+r+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":r?"M"+s*c+","+s*f+"A"+s+","+s+" 0 "+u+",1 "+s*h+","+s*d+"L"+r*h+","+r*d+"A"+r+","+r+" 0 "+u+",0 "+r*c+","+r*f+"Z":"M"+s*c+","+s*f+"A"+s+","+s+" 0 "+u+",1 "+s*h+","+s*d+"L0,0Z"}return r.innerRadius=function(t){return arguments.length?(e=d(t),r):e},r.outerRadius=function(e){return arguments.length?(t=d(e),r):t},r.startAngle=function(e){return arguments.length?(i=d(e),r):i},r.endAngle=function(e){return arguments.length?(n=d(e),r):n},r.centroid=function(){var r=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(i.apply(this,arguments)+n.apply(this,arguments))/2+Si;return[Math.cos(s)*r,Math.sin(s)*r]},r};var Si=-Math.PI/2,Ei=2*Math.PI-1e-6;function Ai(e){return e.innerRadius}function Ii(e){return e.outerRadius}function $i(e){return e.startAngle}function Pi(e){return e.endAngle}function zi(e){var t=Ni,i=Hi,n=h,r=Oi,s=ji,a=.7;function o(r){var o=[],l=[],u=-1,c=r.length,f,h=d(t),p=d(i);function g(){o.push("M",s(e(l),a))}for(;++u<c;)n.call(this,f=r[u],u)?l.push([+h.call(this,f,u),+p.call(this,f,u)]):l.length&&(g(),l=[]);return l.length&&g(),o.length?o.join(""):null}return o.x=function(e){return arguments.length?(t=e,o):t},o.y=function(e){return arguments.length?(i=e,o):i},o.defined=function(e){return arguments.length?(n=e,o):n},o.interpolate=function(e){return arguments.length?(Li.has(e+="")||(e=Oi),s=Li.get(r=e),o):r},o.tension=function(e){return arguments.length?(a=e,o):a},o}function Ni(e){return e[0]}function Hi(e){return e[1]}d3.svg.line=function(){return zi(c)};var Oi="linear",Li=d3.map({linear:ji,"step-before":Fi,"step-after":Ri,basis:Qi,"basis-open":Gi,"basis-closed":Xi,bundle:Vi,cardinal:qi,"cardinal-open":Wi,"cardinal-closed":Yi,monotone:an});function ji(e){for(var t=0,i=e.length,n=e[0],r=[n[0],",",n[1]];++t<i;)r.push("L",(n=e[t])[0],",",n[1]);return r.join("")}function Fi(e){for(var t=0,i=e.length,n=e[0],r=[n[0],",",n[1]];++t<i;)r.push("V",(n=e[t])[1],"H",n[0]);return r.join("")}function Ri(e){for(var t=0,i=e.length,n=e[0],r=[n[0],",",n[1]];++t<i;)r.push("H",(n=e[t])[0],"V",n[1]);return r.join("")}function Wi(e,t){return e.length<4?ji(e):e[1]+Bi(e.slice(1,e.length-1),Ui(e,t))}function Yi(e,t){return e.length<3?ji(e):e[0]+Bi((e.push(e[0]),e),Ui([e[e.length-2]].concat(e,[e[1]]),t))}function qi(e,t,i){return e.length<3?ji(e):e[0]+Bi(e,Ui(e,t))}function Bi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ji(e);var i=e.length!=t.length,n="",r=e[0],s=e[1],a=t[0],o=a,l=1;if(i&&(n+="Q"+(s[0]-2*a[0]/3)+","+(s[1]-2*a[1]/3)+","+s[0]+","+s[1],r=e[1],l=2),t.length>1){o=t[1],s=e[l],l++,n+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(s[0]-o[0])+","+(s[1]-o[1])+","+s[0]+","+s[1];for(var u=2;u<t.length;u++,l++)s=e[l],o=t[u],n+="S"+(s[0]-o[0])+","+(s[1]-o[1])+","+s[0]+","+s[1]}if(i){var c=e[l];n+="Q"+(s[0]+2*o[0]/3)+","+(s[1]+2*o[1]/3)+","+c[0]+","+c[1]}return n}function Ui(e,t){for(var i=[],n=(1-t)/2,r,s=e[0],a=e[1],o=1,l=e.length;++o<l;)r=s,s=a,a=e[o],i.push([n*(a[0]-r[0]),n*(a[1]-r[1])]);return i}function Qi(e){if(e.length<3)return ji(e);var t=1,i=e.length,n=e[0],r=n[0],s=n[1],a=[r,r,r,(n=e[1])[0]],o=[s,s,s,n[1]],l=[r,",",s];for(tn(l,a,o);++t<i;)n=e[t],a.shift(),a.push(n[0]),o.shift(),o.push(n[1]),tn(l,a,o);for(t=-1;++t<2;)a.shift(),a.push(n[0]),o.shift(),o.push(n[1]),tn(l,a,o);return l.join("")}function Gi(e){if(e.length<4)return ji(e);for(var t=[],i=-1,n=e.length,r,s=[0],a=[0];++i<3;)r=e[i],s.push(r[0]),a.push(r[1]);for(t.push(Ki(en,s)+","+Ki(en,a)),--i;++i<n;)r=e[i],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),tn(t,s,a);return t.join("")}function Xi(e){for(var t,i=-1,n=e.length,r=n+4,s,a=[],o=[];++i<4;)s=e[i%n],a.push(s[0]),o.push(s[1]);for(t=[Ki(en,a),",",Ki(en,o)],--i;++i<r;)s=e[i%n],a.shift(),a.push(s[0]),o.shift(),o.push(s[1]),tn(t,a,o);return t.join("")}function Vi(e,t){var i=e.length-1;if(i)for(var n=e[0][0],r=e[0][1],s=e[i][0]-n,a=e[i][1]-r,o=-1,l,u;++o<=i;)u=o/i,(l=e[o])[0]=t*l[0]+(1-t)*(n+u*s),l[1]=t*l[1]+(1-t)*(r+u*a);return Qi(e)}function Ki(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}var Zi=[0,2/3,1/3,0],Ji=[0,1/3,2/3,0],en=[0,1/6,2/3,1/6];function tn(e,t,i){e.push("C",Ki(Zi,t),",",Ki(Zi,i),",",Ki(Ji,t),",",Ki(Ji,i),",",Ki(en,t),",",Ki(en,i))}function nn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function rn(e){for(var t=0,i=e.length-1,n=[],r=e[0],s=e[1],a=n[0]=nn(r,s);++t<i;)n[t]=a+(a=nn(r=s,s=e[t+1]));return n[t]=a,n}function sn(e){for(var t=[],i,n,r,s,a=rn(e),o=-1,l=e.length-1;++o<l;)i=nn(e[o],e[o+1]),Math.abs(i)<1e-6?a[o]=a[o+1]=0:(s=(n=a[o]/i)*n+(r=a[o+1]/i)*r)>9&&(s=3*i/Math.sqrt(s),a[o]=s*n,a[o+1]=s*r);for(o=-1;++o<=l;)s=(e[Math.min(l,o+1)][0]-e[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),t.push([s||0,a[o]*s||0]);return t}function an(e){return e.length<3?ji(e):e[0]+Bi(e,sn(e))}function on(e){for(var t,i=-1,n=e.length,r,s;++i<n;)r=(t=e[i])[0],s=t[1]+Si,t[0]=r*Math.cos(s),t[1]=r*Math.sin(s);return e}function ln(e){var t=Ni,i=Ni,n=0,r=Hi,s=h,a=Oi,o=ji,l=ji,u="L",c=.7;function f(a){var f=[],h=[],p=[],g=-1,m=a.length,v,y=d(t),b=d(n),w=t===i?function(){return x}:d(i),_=n===r?function(){return k}:d(r),x,k;function C(){f.push("M",o(e(p),c),u,l(e(h.reverse()),c),"Z")}for(;++g<m;)s.call(this,v=a[g],g)?(h.push([x=+y.call(this,v,g),k=+b.call(this,v,g)]),p.push([+w.call(this,v,g),+_.call(this,v,g)])):h.length&&(C(),h=[],p=[]);return h.length&&C(),f.length?f.join(""):null}return f.x=function(e){return arguments.length?(t=i=e,f):i},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(i=e,f):i},f.y=function(e){return arguments.length?(n=r=e,f):r},f.y0=function(e){return arguments.length?(n=e,f):n},f.y1=function(e){return arguments.length?(r=e,f):r},f.defined=function(e){return arguments.length?(s=e,f):s},f.interpolate=function(e){return arguments.length?(Li.has(e+="")||(e=Oi),o=Li.get(a=e),l=o.reverse||o,u=/-closed$/.test(e)?"M":"L",f):a},f.tension=function(e){return arguments.length?(c=e,f):c},f}function un(e){return e.source}function cn(e){return e.target}function fn(e){return e.radius}function hn(e){return e.startAngle}function dn(e){return e.endAngle}function pn(e){return[e.x,e.y]}function gn(e){return function(){var t=e.apply(this,arguments),i=t[0],n=t[1]+Si;return[i*Math.cos(n),i*Math.sin(n)]}}function mn(){return 64}function vn(){return"circle"}function yn(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}d3.svg.line.radial=function(){var e=zi(on);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Fi.reverse=Ri,Ri.reverse=Fi,d3.svg.area=function(){return ln(Object)},d3.svg.area.radial=function(){var e=ln(on);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){var e=un,t=cn,i=fn,n=$i,r=Pi;function s(i,n){var r=a(this,e,i,n),s=a(this,t,i,n);return"M"+r.p0+l(r.r,r.p1,r.a1-r.a0)+(o(r,s)?u(r.r,r.p1,r.r,r.p0):u(r.r,r.p1,s.r,s.p0)+l(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,r.r,r.p0))+"Z"}function a(e,t,s,a){var o=t.call(e,s,a),l=i.call(e,o,a),u=n.call(e,o,a)+Si,c=r.call(e,o,a)+Si;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function o(e,t){return e.a0==t.a0&&e.a1==t.a1}function l(e,t,i){return"A"+e+","+e+" 0 "+ +(i>Math.PI)+",1 "+t}function u(e,t,i,n){return"Q 0,0 "+n}return s.radius=function(e){return arguments.length?(i=d(e),s):i},s.source=function(t){return arguments.length?(e=d(t),s):e},s.target=function(e){return arguments.length?(t=d(e),s):t},s.startAngle=function(e){return arguments.length?(n=d(e),s):n},s.endAngle=function(e){return arguments.length?(r=d(e),s):r},s},d3.svg.diagonal=function(){var e=un,t=cn,i=pn;function n(n,r){var s=e.call(this,n,r),a=t.call(this,n,r),o=(s.y+a.y)/2,l=[s,{x:s.x,y:o},{x:a.x,y:o},a];return"M"+(l=l.map(i))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return n.source=function(t){return arguments.length?(e=d(t),n):e},n.target=function(e){return arguments.length?(t=d(e),n):t},n.projection=function(e){return arguments.length?(i=e,n):i},n},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=pn,i=e.projection;return e.projection=function(e){return arguments.length?i(gn(t=e)):t},e},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){var e=vn,t=mn;function i(i,n){return(bn.get(e.call(this,i,n))||yn)(t.call(this,i,n))}return i.type=function(t){return arguments.length?(e=d(t),i):e},i.size=function(e){return arguments.length?(t=d(e),i):t},i};var bn=d3.map({circle:yn,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*_n)),i=t*_n;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/wn),i=t*wn/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/wn),i=t*wn/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}});d3.svg.symbolTypes=bn.keys();var wn=Math.sqrt(3),_n=Math.tan(30*Math.PI/180);function xn(e,t){e.attr("transform",(function(e){return"translate("+t(e)+",0)"}))}function kn(e,t){e.attr("transform",(function(e){return"translate(0,"+t(e)+")"}))}function Cn(e,t,i){if(r=[],i&&t.length>1){for(var n=ii(e.domain()),r,s=-1,a=t.length,o=(t[1]-t[0])/++i,l,u;++s<a;)for(l=i;--l>0;)(u=+t[s]-l*o)>=n[0]&&r.push(u);for(--s,l=0;++l<i&&(u=+t[s]+l*o)<n[1];)r.push(u)}return r}d3.svg.axis=function(){var e=d3.scale.linear(),t="bottom",i=6,n=6,r=6,s=3,a=[10],o=null,l,u=0;function c(c){c.each((function(){var c=d3.select(this),f=null==o?e.ticks?e.ticks.apply(e,a):e.domain():o,h=null==l?e.tickFormat?e.tickFormat.apply(e,a):String:l,d=Cn(e,f,u),p=c.selectAll(".minor").data(d,String),g=p.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(p.exit()).style("opacity",1e-6).remove(),v=d3.transition(p).style("opacity",1),y=c.selectAll("g").data(f,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),_=d3.transition(y).style("opacity",1),x,k=ni(e),C=c.selectAll(".domain").data([0]),M=C.enter().append("path").attr("class","domain"),T=d3.transition(C),D=e.copy(),S=this.__chart__||D;this.__chart__=D,b.append("line").attr("class","tick"),b.append("text");var E=b.select("line"),A=_.select("line"),I=y.select("text").text(h),$=b.select("text"),P=_.select("text");switch(t){case"bottom":x=xn,g.attr("y2",n),v.attr("x2",0).attr("y2",n),E.attr("y2",i),$.attr("y",Math.max(i,0)+s),A.attr("x2",0).attr("y2",i),P.attr("x",0).attr("y",Math.max(i,0)+s),I.attr("dy",".71em").attr("text-anchor","middle"),T.attr("d","M"+k[0]+","+r+"V0H"+k[1]+"V"+r);break;case"top":x=xn,g.attr("y2",-n),v.attr("x2",0).attr("y2",-n),E.attr("y2",-i),$.attr("y",-(Math.max(i,0)+s)),A.attr("x2",0).attr("y2",-i),P.attr("x",0).attr("y",-(Math.max(i,0)+s)),I.attr("dy","0em").attr("text-anchor","middle"),T.attr("d","M"+k[0]+","+-r+"V0H"+k[1]+"V"+-r);break;case"left":x=kn,g.attr("x2",-n),v.attr("x2",-n).attr("y2",0),E.attr("x2",-i),$.attr("x",-(Math.max(i,0)+s)),A.attr("x2",-i).attr("y2",0),P.attr("x",-(Math.max(i,0)+s)).attr("y",0),I.attr("dy",".32em").attr("text-anchor","end"),T.attr("d","M"+-r+","+k[0]+"H0V"+k[1]+"H"+-r);break;case"right":x=kn,g.attr("x2",n),v.attr("x2",n).attr("y2",0),E.attr("x2",i),$.attr("x",Math.max(i,0)+s),A.attr("x2",i).attr("y2",0),P.attr("x",Math.max(i,0)+s).attr("y",0),I.attr("dy",".32em").attr("text-anchor","start"),T.attr("d","M"+r+","+k[0]+"H0V"+k[1]+"H"+r)}if(e.ticks)b.call(x,S),_.call(x,D),w.call(x,D),g.call(x,S),v.call(x,D),m.call(x,D);else{var z=D.rangeBand()/2,N=function(e){return D(e)+z};b.call(x,N),_.call(x,N)}}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(e){return arguments.length?(t=e,c):t},c.ticks=function(){return arguments.length?(a=arguments,c):a},c.tickValues=function(e){return arguments.length?(o=e,c):o},c.tickFormat=function(e){return arguments.length?(l=e,c):l},c.tickSize=function(e,t,s){if(!arguments.length)return i;var a=arguments.length-1;return i=+e,n=a>1?+t:i,r=a>0?+arguments[a]:i,c},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(e){return arguments.length?(u=+e,c):u},c},d3.svg.brush=function(){var e=V(a,"brushstart","brush","brushend"),t=null,i=null,n=Tn[0],r=[[0,0],[0,0]],s;function a(e){e.each((function(){var e=d3.select(this),r=e.selectAll(".background").data([0]),s=e.selectAll(".extent").data([0]),f=e.selectAll(".resize").data(n,String),h;e.style("pointer-events","all").on("mousedown.brush",c).on("touchstart.brush",c),r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),s.enter().append("rect").attr("class","extent").style("cursor","move"),f.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Mn[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",a.empty()?"none":null),f.exit().remove(),t&&(h=ni(t),r.attr("x",h[0]).attr("width",h[1]-h[0]),l(e)),i&&(h=ni(i),r.attr("y",h[0]).attr("height",h[1]-h[0]),u(e)),o(e)}))}function o(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+r[+/e$/.test(e)][0]+","+r[+/^s/.test(e)][1]+")"}))}function l(e){e.select(".extent").attr("x",r[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0])}function u(e){e.select(".extent").attr("y",r[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1])}function c(){var n=this,c=d3.select(d3.event.target),f=e.of(n,arguments),h=d3.select(n),d=c.datum(),p=!/^(n|s)$/.test(d)&&t,g=!/^(e|w)$/.test(d)&&i,m=c.classed("extent"),v,y=k(),b,w=d3.select(window).on("mousemove.brush",T).on("mouseup.brush",S).on("touchmove.brush",T).on("touchend.brush",S).on("keydown.brush",C).on("keyup.brush",M);if(m)y[0]=r[0][0]-y[0],y[1]=r[0][1]-y[1];else if(d){var _=+/w$/.test(d),x=+/^n/.test(d);b=[r[1-_][0]-y[0],r[1-x][1]-y[1]],y[0]=r[_][0],y[1]=r[x][1]}else d3.event.altKey&&(v=y.slice());function k(){var e=d3.event.changedTouches;return e?d3.touches(n,e)[0]:d3.mouse(n)}function C(){32==d3.event.keyCode&&(m||(v=null,y[0]-=r[1][0],y[1]-=r[1][1],m=2),G())}function M(){32==d3.event.keyCode&&2==m&&(y[0]+=r[1][0],y[1]+=r[1][1],m=0,G())}function T(){var e=k(),n=!1;b&&(e[0]+=b[0],e[1]+=b[1]),m||(d3.event.altKey?(v||(v=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]),y[0]=r[+(e[0]<v[0])][0],y[1]=r[+(e[1]<v[1])][1]):v=null),p&&D(e,t,0)&&(l(h),n=!0),g&&D(e,i,1)&&(u(h),n=!0),n&&(o(h),f({type:"brush",mode:m?"move":"resize"}))}function D(e,t,i){var n=ni(t),a=n[0],o=n[1],l=y[i],u=r[1][i]-r[0][i],c,f;if(m&&(a-=l,o-=u+l),c=Math.max(a,Math.min(o,e[i])),m?f=(c+=l)+u:(v&&(l=Math.max(a,Math.min(o,2*v[i]-c))),l<c?(f=c,c=l):f=l),r[0][i]!==c||r[1][i]!==f)return s=null,r[0][i]=c,r[1][i]=f,!0}function S(){T(),h.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),d3.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),f({type:"brushend"}),G()}h.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",c.style("cursor")),f({type:"brushstart"}),T(),G()}return a.x=function(e){return arguments.length?(n=Tn[!(t=e)<<1|!i],a):t},a.y=function(e){return arguments.length?(n=Tn[!t<<1|!(i=e)],a):i},a.extent=function(e){var n,o,l,u,c;return arguments.length?(s=[[0,0],[0,0]],t&&(n=e[0],o=e[1],i&&(n=n[0],o=o[0]),s[0][0]=n,s[1][0]=o,t.invert&&(n=t(n),o=t(o)),o<n&&(c=n,n=o,o=c),r[0][0]=0|n,r[1][0]=0|o),i&&(l=e[0],u=e[1],t&&(l=l[1],u=u[1]),s[0][1]=l,s[1][1]=u,i.invert&&(l=i(l),u=i(u)),u<l&&(c=l,l=u,u=c),r[0][1]=0|l,r[1][1]=0|u),a):(e=s||r,t&&(n=e[0][0],o=e[1][0],s||(n=r[0][0],o=r[1][0],t.invert&&(n=t.invert(n),o=t.invert(o)),o<n&&(c=n,n=o,o=c))),i&&(l=e[0][1],u=e[1][1],s||(l=r[0][1],u=r[1][1],i.invert&&(l=i.invert(l),u=i.invert(u)),u<l&&(c=l,l=u,u=c))),t&&i?[[n,l],[o,u]]:t?[n,o]:i&&[l,u])},a.clear=function(){return s=null,r[0][0]=r[0][1]=r[1][0]=r[1][1]=0,a},a.empty=function(){return t&&r[0][0]===r[1][0]||i&&r[0][1]===r[1][1]},d3.rebind(a,e,"on")};var Mn={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){var e=V(i,"drag","dragstart","dragend"),t=null;function i(){this.on("mousedown.drag",n).on("touchstart.drag",n)}function n(){var i=this,n=e.of(i,arguments),r=d3.event.target,s,a=u(),o=0,l=d3.select(window).on("mousemove.drag",c).on("touchmove.drag",c).on("mouseup.drag",f,!0).on("touchend.drag",f,!0);function u(){var e=i.parentNode,t=d3.event.changedTouches;return t?d3.touches(e,t)[0]:d3.mouse(e)}function c(){if(!i.parentNode)return f();var e=u(),t=e[0]-a[0],r=e[1]-a[1];o|=t|r,a=e,G(),n({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:r})}function f(){n({type:"dragend"}),o&&(G(),d3.event.target===r&&l.on("click.drag",h,!0)),l.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function h(){G(),l.on("click.drag",null)}s=t?[(s=t.apply(i,arguments)).x-a[0],s.y-a[1]]:[0,0],G(),n({type:"dragstart"})}return i.origin=function(e){return arguments.length?(t=e,i):t},d3.rebind(i,e,"on")},d3.behavior.zoom=function(){var e=[0,0],t,i=1,n,r=Sn,s=V(f,"zoom"),a,o,l,u,c;function f(){this.on("mousedown.zoom",v).on("mousewheel.zoom",y).on("mousemove.zoom",b).on("DOMMouseScroll.zoom",y).on("dblclick.zoom",w).on("touchstart.zoom",_).on("touchmove.zoom",x).on("touchend.zoom",_)}function h(t){return[(t[0]-e[0])/i,(t[1]-e[1])/i]}function d(t){return[t[0]*i+e[0],t[1]*i+e[1]]}function p(e){i=Math.max(r[0],Math.min(r[1],e))}function g(t,i){i=d(i),e[0]+=t[0]-i[0],e[1]+=t[1]-i[1]}function m(t){o&&o.domain(a.range().map((function(t){return(t-e[0])/i})).map(a.invert)),u&&u.domain(l.range().map((function(t){return(t-e[1])/i})).map(l.invert)),d3.event.preventDefault(),t({type:"zoom",scale:i,translate:e})}function v(){var e=this,t=s.of(e,arguments),i=d3.event.target,n=0,r=d3.select(window).on("mousemove.zoom",o).on("mouseup.zoom",l),a=h(d3.mouse(e));function o(){n=1,g(d3.mouse(e),a),m(t)}function l(){n&&G(),r.on("mousemove.zoom",null).on("mouseup.zoom",null),n&&d3.event.target===i&&r.on("click.zoom",u,!0)}function u(){G(),r.on("click.zoom",null)}window.focus(),G()}function y(){t||(t=h(d3.mouse(this))),p(Math.pow(2,.002*En())*i),g(d3.mouse(this),t),m(s.of(this,arguments))}function b(){t=null}function w(){var e=d3.mouse(this),t=h(e);p(d3.event.shiftKey?i/2:2*i),g(e,t),m(s.of(this,arguments))}function _(){var e=d3.touches(this),r=Date.now();if(n=i,t={},e.forEach((function(e){t[e.identifier]=h(e)})),G(),1===e.length&&r-c<500){var a=e[0],o=h(e[0]);p(2*i),g(a,o),m(s.of(this,arguments))}c=r}function x(){var e=d3.touches(this),i=e[0],r=t[i.identifier];if(a=e[1]){var a,o=t[a.identifier];i=[(i[0]+a[0])/2,(i[1]+a[1])/2],r=[(r[0]+o[0])/2,(r[1]+o[1])/2],p(d3.event.scale*n)}g(i,r),m(s.of(this,arguments))}return f.translate=function(t){return arguments.length?(e=t.map(Number),f):e},f.scale=function(e){return arguments.length?(i=+e,f):i},f.scaleExtent=function(e){return arguments.length?(r=null==e?Sn:e.map(Number),f):r},f.x=function(e){return arguments.length?(o=e,a=e.copy(),f):o},f.y=function(e){return arguments.length?(u=e,l=e.copy(),f):u},d3.rebind(f,s,"on")};var Dn,Sn=[0,1/0],Pn,zn;function En(){Dn||(Dn=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{Dn.scrollTop=1e3,Dn.dispatchEvent(e),t=1e3-Dn.scrollTop}catch(error){t=e.wheelDelta||5*-e.detail}return t}function An(e){for(var t=e.source,i=e.target,n=$n(t,i),r=[t];t!==n;)t=t.parent,r.push(t);for(var s=r.length;i!==n;)r.splice(s,0,i),i=i.parent;return r}function In(e){for(var t=[],i=e.parent;null!=i;)t.push(e),e=i,i=i.parent;return t.push(e),t}function $n(e,t){if(e===t)return e;for(var i=In(e),n=In(t),r=i.pop(),s=n.pop(),a=null;r===s;)a=r,r=i.pop(),s=n.pop();return a}function Nn(e){e.fixed|=2}function Hn(e){e!==zn&&(e.fixed&=1)}function On(){zn.fixed&=1,Pn=zn=null}function Ln(){zn.px=d3.event.x,zn.py=d3.event.y,Pn.resume()}function jn(e,t,i){var n=0,r=0;if(e.charge=0,!e.leaf)for(var s=e.nodes,a=s.length,o=-1,l;++o<a;)null!=(l=s[o])&&(jn(l,t,i),e.charge+=l.charge,n+=l.charge*l.cx,r+=l.charge*l.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*i[e.point.index];e.charge+=e.pointCharge=u,n+=u*e.point.x,r+=u*e.point.y}e.cx=n/e.charge,e.cy=r/e.charge}function Fn(e){return 20}function Rn(e){return 1}d3.layout={},d3.layout.bundle=function(){return function(e){for(var t=[],i=-1,n=e.length;++i<n;)t.push(An(e[i]));return t}},d3.layout.chord=function(){var e={},t,i,n,r,s=0,a,o,l;function u(){var e={},u=[],f=d3.range(r),h=[],d,p,g,m,v;for(t=[],i=[],d=0,m=-1;++m<r;){for(p=0,v=-1;++v<r;)p+=n[m][v];u.push(p),h.push(d3.range(r)),d+=p}for(a&&f.sort((function(e,t){return a(u[e],u[t])})),o&&h.forEach((function(e,t){e.sort((function(e,i){return o(n[t][e],n[t][i])}))})),d=(2*Math.PI-s*r)/d,p=0,m=-1;++m<r;){for(g=p,v=-1;++v<r;){var y=f[m],b=h[y][v],w=n[y][b],_=p,x=p+=w*d;e[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:x,value:w}}i[y]={index:y,startAngle:g,endAngle:p,value:(p-g)/d},p+=s}for(m=-1;++m<r;)for(v=m-1;++v<r;){var k=e[m+"-"+v],C=e[v+"-"+m];(k.value||C.value)&&t.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}l&&c()}function c(){t.sort((function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return e.matrix=function(s){return arguments.length?(r=(n=s)&&n.length,t=i=null,e):n},e.padding=function(n){return arguments.length?(s=n,t=i=null,e):s},e.sortGroups=function(n){return arguments.length?(a=n,t=i=null,e):a},e.sortSubgroups=function(i){return arguments.length?(o=i,t=null,e):o},e.sortChords=function(i){return arguments.length?(l=i,t&&c(),e):l},e.chords=function(){return t||u(),t},e.groups=function(){return i||u(),i},e},d3.layout.force=function(){var e={},t=d3.dispatch("start","tick","end"),i=[1,1],n,r,s=.9,a=Fn,o=Rn,l=-30,u=.1,f=.8,h,p=[],g=[],m,v,y;function b(e){return function(t,i,n,r,s){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,l=1/Math.sqrt(a*a+o*o);if((r-i)*l<f){var u=t.charge*l*l;return e.px-=a*u,e.py-=o*u,!0}if(t.point&&isFinite(l)){var u=t.pointCharge*l*l;e.px-=a*u,e.py-=o*u}}return!t.charge}}function w(t){Nn(zn=t),Pn=e}return e.tick=function(){if((r*=.99)<.005)return t.end({type:"end",alpha:r=0}),!0;var e=p.length,n=g.length,a,o,c,f,h,d,w,_,x;for(o=0;o<n;++o)f=(c=g[o]).source,(d=(_=(h=c.target).x-f.x)*_+(x=h.y-f.y)*x)&&(_*=d=r*v[o]*((d=Math.sqrt(d))-m[o])/d,x*=d,h.x-=_*(w=f.weight/(h.weight+f.weight)),h.y-=x*w,f.x+=_*(w=1-w),f.y+=x*w);if((w=r*u)&&(_=i[0]/2,x=i[1]/2,o=-1,w))for(;++o<e;)(c=p[o]).x+=(_-c.x)*w,c.y+=(x-c.y)*w;if(l)for(jn(a=d3.geom.quadtree(p),r,y),o=-1;++o<e;)(c=p[o]).fixed||a.visit(b(c));for(o=-1;++o<e;)(c=p[o]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*s,c.y-=(c.py-(c.py=c.y))*s);t.tick({type:"tick",alpha:r})},e.nodes=function(t){return arguments.length?(p=t,e):p},e.links=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(i=t,e):i},e.linkDistance=function(t){return arguments.length?(a=d(t),e):a},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(o=d(t),e):o},e.friction=function(t){return arguments.length?(s=t,e):s},e.charge=function(t){return arguments.length?(l="function"==typeof t?t:+t,e):l},e.gravity=function(t){return arguments.length?(u=t,e):u},e.theta=function(t){return arguments.length?(f=t,e):f},e.alpha=function(i){return arguments.length?(r?r=i>0?i:0:i>0&&(t.start({type:"start",alpha:r=i}),d3.timer(e.tick)),e):r},e.start=function(){var t,n,r=p.length,s=g.length,u=i[0],c=i[1],f,h;for(t=0;t<r;++t)(h=p[t]).index=t,h.weight=0;for(m=[],v=[],t=0;t<s;++t)"number"==typeof(h=g[t]).source&&(h.source=p[h.source]),"number"==typeof h.target&&(h.target=p[h.target]),m[t]=a.call(this,h,t),v[t]=o.call(this,h,t),++h.source.weight,++h.target.weight;for(t=0;t<r;++t)h=p[t],isNaN(h.x)&&(h.x=d("x",u)),isNaN(h.y)&&(h.y=d("y",c)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(y=[],"function"==typeof l)for(t=0;t<r;++t)y[t]=+l.call(this,p[t],t);else for(t=0;t<r;++t)y[t]=l;function d(e,i){for(var n=b(t),r=-1,s=n.length,a;++r<s;)if(!isNaN(a=n[r][e]))return a;return Math.random()*i}function b(){if(!f){for(f=[],n=0;n<r;++n)f[n]=[];for(n=0;n<s;++n){var e=g[n];f[e.source.index].push(e.target),f[e.target.index].push(e.source)}}return f[t]}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){n||(n=d3.behavior.drag().origin(c).on("dragstart",w).on("drag",Ln).on("dragend",On)),this.on("mouseover.force",Nn).on("mouseout.force",Hn).call(n)},d3.rebind(e,t,"on")},d3.layout.partition=function(){var e=d3.layout.hierarchy(),t=[1,1];function i(e,t,n,r){var s=e.children;if(e.x=t,e.y=e.depth*r,e.dx=n,e.dy=r,s&&(o=s.length)){var a=-1,o,l,u;for(n=e.value?n/e.value:0;++a<o;)i(l=s[a],t,u=l.value*n,r),t+=u}}function n(e){var t=e.children,i=0;if(t&&(s=t.length))for(var r=-1,s;++r<s;)i=Math.max(i,n(t[r]));return 1+i}function r(r,s){var a=e.call(this,r,s);return i(a[0],0,t[0],t[1]/n(a[0])),a}return r.size=function(e){return arguments.length?(t=e,r):t},ir(r,e)},d3.layout.pie=function(){var e=Number,t=Wn,i=0,n=2*Math.PI;function r(s,a){var o=s.map((function(t,i){return+e.call(r,t,i)})),l=+("function"==typeof i?i.apply(this,arguments):i),u=(("function"==typeof n?n.apply(this,arguments):n)-i)/d3.sum(o),c=d3.range(s.length);null!=t&&c.sort(t===Wn?function(e,t){return o[t]-o[e]}:function(e,i){return t(s[e],s[i])});var f=[];return c.forEach((function(e){var t;f[e]={data:s[e],value:t=o[e],startAngle:l,endAngle:l+=t*u}})),f}return r.value=function(t){return arguments.length?(e=t,r):e},r.sort=function(e){return arguments.length?(t=e,r):t},r.startAngle=function(e){return arguments.length?(i=e,r):i},r.endAngle=function(e){return arguments.length?(n=e,r):n},r};var Wn={};function Yn(e){return e.x}function qn(e){return e.y}function Bn(e,t,i){e.y0=t,e.y=i}d3.layout.stack=function(){var e=c,t=Gn,i=Xn,n=Bn,r=Yn,s=qn;function a(o,l){var u=o.map((function(t,i){return e.call(a,t,i)})),c=u.map((function(e,t){return e.map((function(e,t){return[r.call(a,e,t),s.call(a,e,t)]}))})),f=t.call(a,c,l);u=d3.permute(u,f),c=d3.permute(c,f);var h=i.call(a,c,l),d=u.length,p=u[0].length,g,m,v;for(m=0;m<p;++m)for(n.call(a,u[0][m],v=h[m],c[0][m][1]),g=1;g<d;++g)n.call(a,u[g][m],v+=c[g-1][m][1],c[g][m][1]);return o}return a.values=function(t){return arguments.length?(e=t,a):e},a.order=function(e){return arguments.length?(t="function"==typeof e?e:Un.get(e)||Gn,a):t},a.offset=function(e){return arguments.length?(i="function"==typeof e?e:Qn.get(e)||Xn,a):i},a.x=function(e){return arguments.length?(r=e,a):r},a.y=function(e){return arguments.length?(s=e,a):s},a.out=function(e){return arguments.length?(n=e,a):n},a};var Un=d3.map({"inside-out":function(e){var t=e.length,i,n,r=e.map(Vn),s=e.map(Kn),a=d3.range(t).sort((function(e,t){return r[e]-r[t]})),o=0,l=0,u=[],c=[];for(i=0;i<t;++i)n=a[i],o<l?(o+=s[n],u.push(n)):(l+=s[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return d3.range(e.length).reverse()},default:Gn}),Qn=d3.map({silhouette:function(e){var t=e.length,i=e[0].length,n=[],r=0,s,a,o,l=[];for(a=0;a<i;++a){for(s=0,o=0;s<t;s++)o+=e[s][a][1];o>r&&(r=o),n.push(o)}for(a=0;a<i;++a)l[a]=(r-n[a])/2;return l},wiggle:function(e){var t=e.length,i=e[0],n=i.length,r=0,s,a,o,l,u,c,f,h,d,p=[];for(p[0]=h=d=0,a=1;a<n;++a){for(s=0,l=0;s<t;++s)l+=e[s][a][1];for(s=0,u=0,f=i[a][0]-i[a-1][0];s<t;++s){for(o=0,c=(e[s][a][1]-e[s][a-1][1])/(2*f);o<s;++o)c+=(e[o][a][1]-e[o][a-1][1])/f;u+=c*e[s][a][1]}p[a]=h-=l?u/l*f:0,h<d&&(d=h)}for(a=0;a<n;++a)p[a]-=d;return p},expand:function(e){var t=e.length,i=e[0].length,n=1/t,r,s,a,o=[];for(s=0;s<i;++s){for(r=0,a=0;r<t;r++)a+=e[r][s][1];if(a)for(r=0;r<t;r++)e[r][s][1]/=a;else for(r=0;r<t;r++)e[r][s][1]=n}for(s=0;s<i;++s)o[s]=0;return o},zero:Xn});function Gn(e){return d3.range(e.length)}function Xn(e){for(var t=-1,i=e[0].length,n=[];++t<i;)n[t]=0;return n}function Vn(e){for(var t=1,i=0,n=e[0][1],r,s=e.length;t<s;++t)(r=e[t][1])>n&&(i=t,n=r);return i}function Kn(e){return e.reduce(Zn,0)}function Zn(e,t){return e+t[1]}function Jn(e,t){return er(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function er(e,t){for(var i=-1,n=+e[0],r=(e[1]-n)/t,s=[];++i<=t;)s[i]=r*i+n;return s}function tr(e){return[d3.min(e),d3.max(e)]}function ir(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=ar,e.nodes=function(t){return or=!0,(e.nodes=e)(t)},e}function nr(e){return e.children}function rr(e){return e.value}function sr(e,t){return t.value-e.value}function ar(e){return d3.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}d3.layout.histogram=function(){var e=!0,t=Number,i=tr,n=Jn;function r(r,s){for(var a=[],o=r.map(t,this),l=i.call(this,o,s),u=n.call(this,l,o,s),c,s=-1,f=o.length,h=u.length-1,d=e?1:1/f,p;++s<h;)(c=a[s]=[]).dx=u[s+1]-(c.x=u[s]),c.y=0;if(h>0)for(s=-1;++s<f;)(p=o[s])>=l[0]&&p<=l[1]&&((c=a[d3.bisect(u,p,1,h)-1]).y+=d,c.push(r[s]));return a}return r.value=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(i=d(e),r):i},r.bins=function(e){return arguments.length?(n="number"==typeof e?function(t){return er(t,e)}:d(e),r):n},r.frequency=function(t){return arguments.length?(e=!!t,r):e},r},d3.layout.hierarchy=function(){var e=sr,t=nr,i=rr;function n(r,a,o){var l=t.call(s,r,a),u=or?r:{data:r};if(u.depth=a,o.push(u),l&&(f=l.length)){for(var c=-1,f,h=u.children=[],d=0,p=a+1,g;++c<f;)(g=n(l[c],p,o)).parent=u,h.push(g),d+=g.value;e&&h.sort(e),i&&(u.value=d)}else i&&(u.value=+i.call(s,r,a)||0);return u}function r(e,t){var n=e.children,a=0;if(n&&(l=n.length))for(var o=-1,l,u=t+1;++o<l;)a+=r(n[o],u);else i&&(a=+i.call(s,or?e:e.data,t)||0);return i&&(e.value=a),a}function s(e){var t=[];return n(e,0,t),t}return s.sort=function(t){return arguments.length?(e=t,s):e},s.children=function(e){return arguments.length?(t=e,s):t},s.value=function(e){return arguments.length?(i=e,s):i},s.revalue=function(e){return r(e,0),e},s};var or=!1;function lr(e,t){return e.value-t.value}function ur(e,t){var i=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=i,i._pack_prev=t}function cr(e,t){e._pack_next=t,t._pack_prev=e}function fr(e,t){var i=t.x-e.x,n=t.y-e.y,r=e.r+t.r;return r*r-i*i-n*n>.001}function hr(e){var t=1/0,i=-1/0,n=1/0,r=-1/0,s=e.length,a,o,l,u,c;function f(e){t=Math.min(e.x-e.r,t),i=Math.max(e.x+e.r,i),n=Math.min(e.y-e.r,n),r=Math.max(e.y+e.r,r)}if(e.forEach(dr),(a=e[0]).x=-a.r,a.y=0,f(a),s>1&&((o=e[1]).x=o.r,o.y=0,f(o),s>2)){vr(a,o,l=e[2]),f(l),ur(a,l),a._pack_prev=l,ur(l,o),o=a._pack_next;for(var h=3;h<s;h++){vr(a,o,l=e[h]);var d=0,p=1,g=1;for(u=o._pack_next;u!==o;u=u._pack_next,p++)if(fr(u,l)){d=1;break}if(1==d)for(c=a._pack_prev;c!==u._pack_prev&&!fr(c,l);c=c._pack_prev,g++);d?(p<g||p==g&&o.r<a.r?cr(a,o=u):cr(a=c,o),h--):(ur(a,l),o=l,f(l))}}for(var m=(t+i)/2,v=(n+r)/2,y=0,h=0;h<s;h++){var b=e[h];b.x-=m,b.y-=v,y=Math.max(y,b.r+Math.sqrt(b.x*b.x+b.y*b.y))}return e.forEach(pr),y}function dr(e){e._pack_next=e._pack_prev=e}function pr(e){delete e._pack_next,delete e._pack_prev}function gr(e){var t=e.children;t&&t.length?(t.forEach(gr),e.r=hr(t)):e.r=Math.sqrt(e.value)}function mr(e,t,i,n){var r=e.children;if(e.x=t+=n*e.x,e.y=i+=n*e.y,e.r*=n,r)for(var s=-1,a=r.length;++s<a;)mr(r[s],t,i,n)}function vr(e,t,i){var n=e.r+i.r,r=t.x-e.x,s=t.y-e.y;if(n&&(r||s)){var a=t.r+i.r,o=Math.sqrt(r*r+s*s),l=Math.max(-1,Math.min(1,(n*n+o*o-a*a)/(2*n*o))),u=Math.acos(l),c=l*(n/=o),f=Math.sin(u)*n;i.x=e.x+c*r+f*s,i.y=e.y+c*s-f*r}else i.x=e.x+n,i.y=e.y}function yr(e){return 1+d3.max(e,(function(e){return e.y}))}function br(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}function wr(e){var t=e.children;return t&&t.length?wr(t[0]):e}function _r(e){var t=e.children,i;return t&&(i=t.length)?_r(t[i-1]):e}function xr(e,t){return e.parent==t.parent?1:2}function kr(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Cr(e){var t=e.children,i;return t&&(i=t.length)?t[i-1]:e._tree.thread}function Mr(e,t){var i=e.children;if(i&&(r=i.length))for(var n,r,s=-1;++s<r;)t(n=Mr(i[s],t),e)>0&&(e=n);return e}function Tr(e,t){return e.x-t.x}function Dr(e,t){return t.x-e.x}function Sr(e,t){return e.depth-t.depth}function Er(e,t){function i(e,n){var r=e.children;if(r&&(l=r.length))for(var s,a=null,o=-1,l;++o<l;)i(s=r[o],a),a=s;t(e,n)}i(e,null)}function Ar(e){for(var t=0,i=0,n=e.children,r=n.length,s;--r>=0;)(s=n[r]._tree).prelim+=t,s.mod+=t,t+=s.shift+(i+=s.change)}function Ir(e,t,i){e=e._tree;var n=i/((t=t._tree).number-e.number);e.change+=n,t.change-=n,t.shift+=i,t.prelim+=i,t.mod+=i}function $r(e,t,i){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:i}function Pr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function zr(e,t){var i=e.x+t[3],n=e.y+t[0],r=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return r<0&&(i+=r/2,r=0),s<0&&(n+=s/2,s=0),{x:i,y:n,dx:r,dy:s}}function Nr(e){return e.map(Hr).join(",")}function Hr(e){return/[",\n]/.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}d3.layout.pack=function(){var e=d3.layout.hierarchy().sort(lr),t=[1,1];function i(i,n){var r=e.call(this,i,n),s=r[0];s.x=0,s.y=0,gr(s);var a=t[0],o=t[1],l;return mr(s,a/2,o/2,1/Math.max(2*s.r/a,2*s.r/o)),r}return i.size=function(e){return arguments.length?(t=e,i):t},ir(i,e)},d3.layout.cluster=function(){var e=d3.layout.hierarchy().sort(null).value(null),t=xr,i=[1,1];function n(n,r){var s=e.call(this,n,r),a=s[0],o,l=0,u,c;Er(a,(function(e){var i=e.children;i&&i.length?(e.x=br(i),e.y=yr(i)):(e.x=o?l+=t(e,o):0,e.y=0,o=e)}));var f=wr(a),h=_r(a),d=f.x-t(f,h)/2,p=h.x+t(h,f)/2;return Er(a,(function(e){e.x=(e.x-d)/(p-d)*i[0],e.y=(1-(a.y?e.y/a.y:1))*i[1]})),s}return n.separation=function(e){return arguments.length?(t=e,n):t},n.size=function(e){return arguments.length?(i=e,n):i},ir(n,e)},d3.layout.tree=function(){var e=d3.layout.hierarchy().sort(null).value(null),t=xr,i=[1,1];function n(n,r){var s=e.call(this,n,r),a=s[0];function o(e,i){var n=e.children,r=e._tree;if(n&&(s=n.length)){for(var s,a=n[0],l,c=a,f,h=-1;++h<s;)o(f=n[h],l),c=u(f,l,c),l=f;Ar(e);var d=.5*(a._tree.prelim+f._tree.prelim);i?(r.prelim=i._tree.prelim+t(e,i),r.mod=r.prelim-d):r.prelim=d}else i&&(r.prelim=i._tree.prelim+t(e,i))}function l(e,t){e.x=e._tree.prelim+t;var i=e.children;if(i&&(r=i.length)){var n=-1,r;for(t+=e._tree.mod;++n<r;)l(i[n],t)}}function u(e,i,n){if(i){for(var r=e,s=e,a=i,o=e.parent.children[0],l=r._tree.mod,u=s._tree.mod,c=a._tree.mod,f=o._tree.mod,h;a=Cr(a),r=kr(r),a&&r;)o=kr(o),(s=Cr(s))._tree.ancestor=e,(h=a._tree.prelim+c-r._tree.prelim-l+t(a,r))>0&&(Ir($r(a,e,n),e,h),l+=h,u+=h),c+=a._tree.mod,l+=r._tree.mod,f+=o._tree.mod,u+=s._tree.mod;a&&!Cr(s)&&(s._tree.thread=a,s._tree.mod+=c-u),r&&!kr(o)&&(o._tree.thread=r,o._tree.mod+=l-f,n=e)}return n}Er(a,(function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}})),o(a),l(a,-a._tree.prelim);var c=Mr(a,Dr),f=Mr(a,Tr),h=Mr(a,Sr),d=c.x-t(c,f)/2,p=f.x+t(f,c)/2,g=h.depth||1;return Er(a,(function(e){e.x=(e.x-d)/(p-d)*i[0],e.y=e.depth/g*i[1],delete e._tree})),s}return n.separation=function(e){return arguments.length?(t=e,n):t},n.size=function(e){return arguments.length?(i=e,n):i},ir(n,e)},d3.layout.treemap=function(){var e=d3.layout.hierarchy(),t=Math.round,i=[1,1],n=null,r=Pr,s=!1,a,o=.5*(1+Math.sqrt(5));function l(e,t){for(var i=-1,n=e.length,r,s;++i<n;)s=(r=e[i]).value*(t<0?0:t),r.area=isNaN(s)||s<=0?0:s}function u(e){var t=e.children;if(t&&t.length){var i=r(e),n=[],s=t.slice(),a,o=1/0,c,d=Math.min(i.dx,i.dy),p;for(l(s,i.dx*i.dy/e.value),n.area=0;(p=s.length)>0;)n.push(a=s[p-1]),n.area+=a.area,(c=f(n,d))<=o?(s.pop(),o=c):(n.area-=n.pop().area,h(n,d,i,!1),d=Math.min(i.dx,i.dy),n.length=n.area=0,o=1/0);n.length&&(h(n,d,i,!0),n.length=n.area=0),t.forEach(u)}}function c(e){var t=e.children;if(t&&t.length){var i=r(e),n=t.slice(),s,a=[];for(l(n,i.dx*i.dy/e.value),a.area=0;s=n.pop();)a.push(s),a.area+=s.area,null!=s.z&&(h(a,s.z?i.dx:i.dy,i,!n.length),a.length=a.area=0);t.forEach(c)}}function f(e,t){for(var i=e.area,n,r=0,s=1/0,a=-1,l=e.length;++a<l;)(n=e[a].area)&&(n<s&&(s=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*o/i,i/(t*s*o)):1/0}function h(e,i,n,r){var s=-1,a=e.length,o=n.x,l=n.y,u=i?t(e.area/i):0,c;if(i==n.dx){for((r||u>n.dy)&&(u=n.dy);++s<a;)(c=e[s]).x=o,c.y=l,c.dy=u,o+=c.dx=Math.min(n.x+n.dx-o,u?t(c.area/u):0);c.z=!0,c.dx+=n.x+n.dx-o,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++s<a;)(c=e[s]).x=o,c.y=l,c.dx=u,l+=c.dy=Math.min(n.y+n.dy-l,u?t(c.area/u):0);c.z=!1,c.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function d(t){var n=a||e(t),r=n[0];return r.x=0,r.y=0,r.dx=i[0],r.dy=i[1],a&&e.revalue(r),l([r],r.dx*r.dy/r.value),(a?c:u)(r),s&&(a=n),n}return d.size=function(e){return arguments.length?(i=e,d):i},d.padding=function(e){if(!arguments.length)return n;function t(t){var i=e.call(d,t,t.depth);return null==i?Pr(t):zr(t,"number"==typeof i?[i,i,i,i]:i)}function i(t){return zr(t,e)}var s;return r=null==(n=e)?Pr:"function"==(s=typeof e)?t:"number"===s?(e=[e,e,e,e],i):i,d},d.round=function(e){return arguments.length?(t=e?Math.round:Number,d):t!=Number},d.sticky=function(e){return arguments.length?(s=e,a=null,d):s},d.ratio=function(e){return arguments.length?(o=e,d):o},ir(d,e)},d3.csv=function(e,t){d3.text(e,"text/csv",(function(e){t(e&&d3.csv.parse(e))}))},d3.csv.parse=function(e){var t;return d3.csv.parseRows(e,(function(e,i){if(i){for(var n={},r=-1,s=t.length;++r<s;)n[t[r]]=e[r];return n}return t=e,null}))},d3.csv.parseRows=function(e,t){var i={},n={},r=[],s=/\r\n|[,\r\n]/g,a=0,o,l;function u(){if(s.lastIndex>=e.length)return n;if(l)return l=!1,i;var t=s.lastIndex;if(34===e.charCodeAt(t)){for(var r=t;r++<e.length;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;r++}s.lastIndex=r+2;var a=e.charCodeAt(r+1);return 13===a?(l=!0,10===e.charCodeAt(r+2)&&s.lastIndex++):10===a&&(l=!0),e.substring(t+1,r).replace(/""/g,'"')}var o=s.exec(e);return o?(l=44!==o[0].charCodeAt(0),e.substring(t,o.index)):(s.lastIndex=e.length,e.substring(t))}for(s.lastIndex=0;(o=u())!==n;){for(var c=[];o!==i&&o!==n;)c.push(o),o=u();t&&!(c=t(c,a++))||r.push(c)}return r},d3.csv.format=function(e){return e.map(Nr).join("\n")},d3.geo={};var Or=Math.PI/180;function Lr(e,t){return function(i){return i&&e.hasOwnProperty(i.type)?e[i.type](i):t}}function jr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Fr(e,t){Rr.hasOwnProperty(e.type)&&Rr[e.type](e,t)}d3.geo.azimuthal=function(){var e="orthographic",t,i=200,n=[480,250],r,s,a,o;function l(t){var s=t[0]*Or-r,l=t[1]*Or,u=Math.cos(s),c=Math.sin(s),f=Math.cos(l),h=Math.sin(l),d="orthographic"!==e?o*h+a*f*u:null,p,g="stereographic"===e?1/(1+d):"gnomonic"===e?1/d:"equidistant"===e?(p=Math.acos(d))?p/Math.sin(p):0:"equalarea"===e?Math.sqrt(2/(1+d)):1,m,v=g*(o*f*u-a*h);return[i*(g*f*c)+n[0],i*v+n[1]]}return l.invert=function(t){var s=(t[0]-n[0])/i,l=(t[1]-n[1])/i,u=Math.sqrt(s*s+l*l),c="stereographic"===e?2*Math.atan(u):"gnomonic"===e?Math.atan(u):"equidistant"===e?u:"equalarea"===e?2*Math.asin(.5*u):Math.asin(u),f=Math.sin(c),h=Math.cos(c);return[(r+Math.atan2(s*f,u*a*h+l*o*f))/Or,Math.asin(h*o-(u?l*f*a/u:0))/Or]},l.mode=function(t){return arguments.length?(e=t+"",l):e},l.origin=function(e){return arguments.length?(r=(t=e)[0]*Or,s=t[1]*Or,a=Math.cos(s),o=Math.sin(s),l):t},l.scale=function(e){return arguments.length?(i=+e,l):i},l.translate=function(e){return arguments.length?(n=[+e[0],+e[1]],l):n},l.origin([0,0])},d3.geo.albers=function(){var e=[-98,38],t=[29.5,45.5],i=1e3,n=[480,250],r,s,a,o;function l(e){var t=s*(Or*e[0]-r),l=Math.sqrt(a-2*s*Math.sin(Or*e[1]))/s;return[i*l*Math.sin(t)+n[0],i*(l*Math.cos(t)-o)+n[1]]}function u(){var i=Or*t[0],n=Or*t[1],u=Or*e[1],c=Math.sin(i),f=Math.cos(i);return r=Or*e[0],s=.5*(c+Math.sin(n)),a=f*f+2*s*c,o=Math.sqrt(a-2*s*Math.sin(u))/s,l}return l.invert=function(e){var t=(e[0]-n[0])/i,l=(e[1]-n[1])/i,u=o+l,c=Math.atan2(t,u),f=Math.sqrt(t*t+u*u);return[(r+c/s)/Or,Math.asin((a-f*f*s*s)/(2*s))/Or]},l.origin=function(t){return arguments.length?(e=[+t[0],+t[1]],u()):e},l.parallels=function(e){return arguments.length?(t=[+e[0],+e[1]],u()):t},l.scale=function(e){return arguments.length?(i=+e,l):i},l.translate=function(e){return arguments.length?(n=[+e[0],+e[1]],l):n},u()},d3.geo.albersUsa=function(){var e=d3.geo.albers(),t=d3.geo.albers().origin([-160,60]).parallels([55,65]),i=d3.geo.albers().origin([-160,20]).parallels([8,18]),n=d3.geo.albers().origin([-60,10]).parallels([8,18]);function r(r){var s=r[0],a=r[1];return(a>50?t:s<-140?i:a<21?n:e)(r)}return r.scale=function(s){return arguments.length?(e.scale(s),t.scale(.6*s),i.scale(s),n.scale(1.5*s),r.translate(e.translate())):e.scale()},r.translate=function(s){if(!arguments.length)return e.translate();var a=e.scale()/1e3,o=s[0],l=s[1];return e.translate(s),t.translate([o-400*a,l+170*a]),i.translate([o-190*a,l+200*a]),n.translate([o+580*a,l+430*a]),r},r.scale(e.scale())},d3.geo.bonne=function(){var e=200,t=[480,250],i,n,r,s;function a(a){var o=a[0]*Or-i,l=a[1]*Or-n;if(r){var u=s+r-l,c=o*Math.cos(l)/u;o=u*Math.sin(c),l=u*Math.cos(c)-s}else o*=Math.cos(l),l*=-1;return[e*o+t[0],e*l+t[1]]}return a.invert=function(n){var a=(n[0]-t[0])/e,o=(n[1]-t[1])/e;if(r){var l=s+o,u=Math.sqrt(a*a+l*l);o=s+r-u,a=i+u*Math.atan2(a,l)/Math.cos(o)}else o*=-1,a/=Math.cos(o);return[a/Or,o/Or]},a.parallel=function(e){return arguments.length?(s=1/Math.tan(r=e*Or),a):r/Or},a.origin=function(e){return arguments.length?(i=e[0]*Or,n=e[1]*Or,a):[i/Or,n/Or]},a.scale=function(t){return arguments.length?(e=+t,a):e},a.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],a):t},a.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){var e=500,t=[480,250];function i(i){var n=i[0]/360,r=-i[1]/360;return[e*n+t[0],e*r+t[1]]}return i.invert=function(i){var n,r;return[360*((i[0]-t[0])/e),-360*((i[1]-t[1])/e)]},i.scale=function(t){return arguments.length?(e=+t,i):e},i.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],i):t},i},d3.geo.mercator=function(){var e=500,t=[480,250];function i(i){var n=i[0]/360,r=-Math.log(Math.tan(Math.PI/4+i[1]*Or/2))/Or/360;return[e*n+t[0],e*Math.max(-.5,Math.min(.5,r))+t[1]]}return i.invert=function(i){var n=(i[0]-t[0])/e,r=(i[1]-t[1])/e;return[360*n,2*Math.atan(Math.exp(-360*r*Or))/Or-90]},i.scale=function(t){return arguments.length?(e=+t,i):e},i.translate=function(e){return arguments.length?(t=[+e[0],+e[1]],i):t},i},d3.geo.path=function(){var e=4.5,t=jr(e),i=d3.geo.albersUsa(),n=[];function r(i,r){"function"==typeof e&&(t=jr(e.apply(this,arguments))),a(i);var s=n.length?n.join(""):null;return n=[],s}function s(e){return i(e).join(",")}var a=Lr({FeatureCollection:function(e){for(var t=e.features,i=-1,r=t.length;++i<r;)n.push(a(t[i].geometry))},Feature:function(e){a(e.geometry)},Point:function(e){n.push("M",s(e.coordinates),t)},MultiPoint:function(e){for(var i=e.coordinates,r=-1,a=i.length;++r<a;)n.push("M",s(i[r]),t)},LineString:function(e){var t=e.coordinates,i=-1,r=t.length;for(n.push("M");++i<r;)n.push(s(t[i]),"L");n.pop()},MultiLineString:function(e){for(var t=e.coordinates,i=-1,r=t.length,a,o,l;++i<r;){for(o=-1,l=(a=t[i]).length,n.push("M");++o<l;)n.push(s(a[o]),"L");n.pop()}},Polygon:function(e){for(var t=e.coordinates,i=-1,r=t.length,a,o,l;++i<r;)if(o=-1,(l=(a=t[i]).length-1)>0){for(n.push("M");++o<l;)n.push(s(a[o]),"L");n[n.length-1]="Z"}},MultiPolygon:function(e){for(var t=e.coordinates,i=-1,r=t.length,a,o,l,u,c,f;++i<r;)for(o=-1,l=(a=t[i]).length;++o<l;)if(c=-1,(f=(u=a[o]).length-1)>0){for(n.push("M");++c<f;)n.push(s(u[c]),"L");n[n.length-1]="Z"}},GeometryCollection:function(e){for(var t=e.geometries,i=-1,r=t.length;++i<r;)n.push(a(t[i]))}}),o=r.area=Lr({FeatureCollection:function(e){for(var t=0,i=e.features,n=-1,r=i.length;++n<r;)t+=o(i[n]);return t},Feature:function(e){return o(e.geometry)},Polygon:function(e){return l(e.coordinates)},MultiPolygon:function(e){for(var t=0,i=e.coordinates,n=-1,r=i.length;++n<r;)t+=l(i[n]);return t},GeometryCollection:function(e){for(var t=0,i=e.geometries,n=-1,r=i.length;++n<r;)t+=o(i[n]);return t}},0);function l(e){for(var t=f(e[0]),i=0,n=e.length;++i<n;)t-=f(e[i]);return t}function u(e){for(var t=d3.geom.polygon(e[0].map(i)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),s=r[0],a=r[1],o=n,l=0,u=e.length;++l<u;)n=(t=d3.geom.polygon(e[l].map(i))).area(),s-=(r=t.centroid(n<0?(n*=-1,1):-1))[0],a-=r[1],o-=n;return[s,a,6*o]}var c=r.centroid=Lr({Feature:function(e){return c(e.geometry)},Polygon:function(e){var t=u(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){for(var t=0,i=e.coordinates,n,r=0,s=0,a=0,o=-1,l=i.length;++o<l;)r+=(n=u(i[o]))[0],s+=n[1],a+=n[2];return[r/a,s/a]}});function f(e){return Math.abs(d3.geom.polygon(e.map(i)).area())}return r.projection=function(e){return i=e,r},r.pointRadius=function(i){return"function"==typeof i?e=i:t=jr(e=+i),r},r},d3.geo.bounds=function(e){var t=1/0,i=1/0,n=-1/0,r=-1/0;return Fr(e,(function(e,s){e<t&&(t=e),e>n&&(n=e),s<i&&(i=s),s>r&&(r=s)})),[[t,i],[n,r]]};var Rr={Feature:Wr,FeatureCollection:Yr,GeometryCollection:qr,LineString:Br,MultiLineString:Ur,MultiPoint:Br,MultiPolygon:Qr,Point:Gr,Polygon:Xr};function Wr(e,t){Fr(e.geometry,t)}function Yr(e,t){for(var i=e.features,n=0,r=i.length;n<r;n++)Fr(i[n].geometry,t)}function qr(e,t){for(var i=e.geometries,n=0,r=i.length;n<r;n++)Fr(i[n],t)}function Br(e,t){for(var i=e.coordinates,n=0,r=i.length;n<r;n++)t.apply(null,i[n])}function Ur(e,t){for(var i=e.coordinates,n=0,r=i.length;n<r;n++)for(var s=i[n],a=0,o=s.length;a<o;a++)t.apply(null,s[a])}function Qr(e,t){for(var i=e.coordinates,n=0,r=i.length;n<r;n++)for(var s=i[n][0],a=0,o=s.length;a<o;a++)t.apply(null,s[a])}function Gr(e,t){t.apply(null,e.coordinates)}function Xr(e,t){for(var i=e.coordinates[0],n=0,r=i.length;n<r;n++)t.apply(null,i[n])}function Vr(e){return e.source}function Kr(e){return e.target}function Zr(){var e,t,i,n,r,s,a,o,l,u,c,f,h,d;function p(e){var t=Math.sin(e*=h)*d,i=Math.sin(h-e)*d,a=i*r+t*c,o=i*s+t*f,l=i*n+t*u;return[Math.atan2(o,a)/Or,Math.atan2(l,Math.sqrt(a*a+o*o))/Or]}return p.distance=function(){return null==h&&(d=1/Math.sin(h=Math.acos(Math.max(-1,Math.min(1,n*u+i*l*Math.cos(a-e)))))),h},p.source=function(a){var o=Math.cos(e=a[0]*Or),l=Math.sin(e);return i=Math.cos(t=a[1]*Or),n=Math.sin(t),r=i*o,s=i*l,h=null,p},p.target=function(e){var t=Math.cos(a=e[0]*Or),i=Math.sin(a);return l=Math.cos(o=e[1]*Or),u=Math.sin(o),c=l*t,f=l*i,h=null,p},p}function Jr(e,t){var i=Zr().source(e).target(t);return i.distance(),i}d3.geo.circle=function(){var e=[0,0],t=89.99,i=t*Or,n=d3.geo.greatArc().source(e).target(c);function r(){}function s(e){return n.distance(e)<i}r.clip=function(t){return"function"==typeof e&&n.source(e.apply(this,arguments)),a(t)||null};var a=Lr({FeatureCollection:function(e){var t=e.features.map(a).filter(c);return t&&((e=Object.create(e)).features=t,e)},Feature:function(e){var t=a(e.geometry);return t&&((e=Object.create(e)).geometry=t,e)},Point:function(e){return s(e.coordinates)&&e},MultiPoint:function(e){var t=e.coordinates.filter(s);return t.length&&{type:e.type,coordinates:t}},LineString:function(e){var t=o(e.coordinates);return t.length&&((e=Object.create(e)).coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(o).filter((function(e){return e.length}));return t.length&&((e=Object.create(e)).coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(o);return t[0].length&&((e=Object.create(e)).coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map((function(e){return e.map(o)})).filter((function(e){return e[0].length}));return t.length&&((e=Object.create(e)).coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(a).filter(c);return t.length&&((e=Object.create(e)).geometries=t,e)}});function o(e){for(var t=-1,r=e.length,s=[],a,o,u,c,f;++t<r;)(f=n.distance(u=e[t]))<i?(o&&s.push(Jr(o,u)((c-i)/(c-f))),s.push(u),a=o=null):(o=u,!a&&s.length&&(s.push(Jr(s[s.length-1],o)((i-c)/(f-c))),a=o)),c=f;return a=e[0],!(o=s[0])||u[0]!==a[0]||u[1]!==a[1]||u[0]===o[0]&&u[1]===o[1]||s.push(o),l(s)}function l(e){for(var t=0,i=e.length,r,s,a=i?[e[0]]:e,o,l=n.source();++t<i;)for(r=0,s=(o=n.source(e[t-1])(e[t]).coordinates).length;++r<s;)a.push(o[r]);return n.source(l),a}return r.origin=function(t){return arguments.length?("function"!=typeof(e=t)&&n.source(e),r):e},r.angle=function(e){return arguments.length?(i=(t=+e)*Or,r):t},d3.rebind(r,n,"precision")},d3.geo.greatArc=function(){var e=Vr,t,i=Kr,n,r=6*Or,s=Zr();function a(){for(var e=a.distance.apply(this,arguments),i=0,o=r/e,l=[t];(i+=o)<1;)l.push(s(i));return l.push(n),{type:"LineString",coordinates:l}}return a.distance=function(){return"function"==typeof e&&s.source(t=e.apply(this,arguments)),"function"==typeof i&&s.target(n=i.apply(this,arguments)),s.distance()},a.source=function(i){return arguments.length?("function"!=typeof(e=i)&&s.source(t=e),a):e},a.target=function(e){return arguments.length?("function"!=typeof(i=e)&&s.target(n=i),a):i},a.precision=function(e){return arguments.length?(r=e*Or,a):r/Or},a},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(e,t){var i=t||is(e),n=[],r=i[0],s=i[1],a=0,o=0,l=NaN,u=NaN,c=0;do{c=0,e(r-1,s-1)&&(c+=1),e(r,s-1)&&(c+=2),e(r-1,s)&&(c+=4),e(r,s)&&(c+=8),6===c?(a=-1===u?-1:1,o=0):9===c?(a=0,o=1===l?-1:1):(a=es[c],o=ts[c]),a!=l&&o!=u&&(n.push([r,s]),l=a,u=o),r+=a,s+=o}while(i[0]!=r||i[1]!=s);return n};var es=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],ts=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];function is(e){for(var t=0,i=0;;){if(e(t,i))return[t,i];0===t?(t=i+1,i=0):(t-=1,i+=1)}}function ns(e,t,i,n){var r,s,a,o,l,u,c;return s=(r=n[e])[0],a=r[1],o=(r=n[t])[0],l=r[1],u=(r=n[i])[0],((c=r[1])-a)*(o-s)-(l-a)*(u-s)>0}function rs(e,t,i){return(i[0]-t[0])*(e[1]-t[1])<(i[1]-t[1])*(e[0]-t[0])}function ss(e,t,i,n){var r=e[0],s=t[0],a=i[0],o=n[0],l=e[1],u=t[1],c=i[1],f,h,d=s-r,p=o-a,g,m=u-l,v=n[1]-c,y=(p*(l-c)-v*(r-a))/(v*d-p*m);return[r+y*d,l+y*m]}d3.geom.hull=function(e){if(e.length<3)return[];var t=e.length,i=t-1,n=[],r=[],s,a,o=0,l,u,c,f,h,d,p,g;for(s=1;s<t;++s)e[s][1]<e[o][1]?o=s:e[s][1]==e[o][1]&&(o=e[s][0]<e[o][0]?s:o);for(s=0;s<t;++s)s!==o&&(u=e[s][1]-e[o][1],l=e[s][0]-e[o][0],n.push({angle:Math.atan2(u,l),index:s}));for(n.sort((function(e,t){return e.angle-t.angle})),p=n[0].angle,d=n[0].index,h=0,s=1;s<i;++s)a=n[s].index,p==n[s].angle?(l=e[d][0]-e[o][0])*l+(u=e[d][1]-e[o][1])*u>=(c=e[a][0]-e[o][0])*c+(f=e[a][1]-e[o][1])*f?n[s].index=-1:(n[h].index=-1,p=n[s].angle,h=s,d=a):(p=n[s].angle,h=s,d=a);for(r.push(o),s=0,a=0;s<2;++a)-1!==n[a].index&&(r.push(n[a].index),s++);for(g=r.length;a<i;++a)if(-1!==n[a].index){for(;!ns(r[g-2],r[g-1],n[a].index,e);)--g;r[g++]=n[a].index}var m=[];for(s=0;s<g;++s)m.push(e[r[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){for(var t=0,i=e.length,n=e[i-1][0]*e[0][1],r=e[i-1][1]*e[0][0];++t<i;)n+=e[t-1][0]*e[t][1],r+=e[t-1][1]*e[t][0];return.5*(r-n)},e.centroid=function(t){var i=-1,n=e.length,r=0,s=0,a,o=e[n-1],l;for(arguments.length||(t=-1/(6*e.area()));++i<n;)a=o,o=e[i],l=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*l,s+=(a[1]+o[1])*l;return[r*t,s*t]},e.clip=function(t){for(var i,n=-1,r=e.length,s,a,o=e[r-1],l,u,c;++n<r;){for(i=t.slice(),t.length=0,l=e[n],u=i[(a=i.length)-1],s=-1;++s<a;)rs(c=i[s],o,l)?(rs(u,o,l)||t.push(ss(u,c,o,l)),t.push(c)):rs(u,o,l)&&t.push(ss(u,c,o,l)),u=c;o=l}return t},e},d3.geom.voronoi=function(e){var t=e.map((function(){return[]}));return os(e,(function(e){var i,n,r,s,a,o;1===e.a&&e.b>=0?(i=e.ep.r,n=e.ep.l):(i=e.ep.l,n=e.ep.r),1===e.a?(a=i?i.y:-1e6,r=e.c-e.b*a,o=n?n.y:1e6,s=e.c-e.b*o):(r=i?i.x:-1e6,a=e.c-e.a*r,s=n?n.x:1e6,o=e.c-e.a*s);var l=[r,a],u=[s,o];t[e.region.l.index].push(l,u),t[e.region.r.index].push(l,u)})),t.map((function(t,i){var n=e[i][0],r=e[i][1];return t.forEach((function(e){e.angle=Math.atan2(e[0]-n,e[1]-r)})),t.sort((function(e,t){return e.angle-t.angle})).filter((function(e,i){return!i||e.angle-t[i-1].angle>1e-10}))}))};var as={l:"r",r:"l"};function os(e,t){var i={list:e.map((function(e,t){return{index:t,x:e[0],y:e[1]}})).sort((function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0})),bottomSite:null},n={list:[],leftEnd:null,rightEnd:null,init:function(){n.leftEnd=n.createHalfEdge(null,"l"),n.rightEnd=n.createHalfEdge(null,"l"),n.leftEnd.r=n.rightEnd,n.rightEnd.l=n.leftEnd,n.list.unshift(n.leftEnd,n.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=n.leftEnd;do{t=t.r}while(t!=n.rightEnd&&r.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?i.bottomSite:e.edge.region[as[e.side]]}},r={bisect:function(e,t){var i={region:{l:e,r:t},ep:{l:null,r:null}},n=t.x-e.x,r=t.y-e.y,s=n>0?n:-n,a=r>0?r:-r;return i.c=e.x*n+e.y*r+.5*(n*n+r*r),s>a?(i.a=1,i.b=r/n,i.c/=n):(i.b=1,i.a=n/r,i.c/=r),i},intersect:function(e,t){var i=e.edge,n=t.edge;if(!i||!n||i.region.r==n.region.r)return null;var r=i.a*n.b-i.b*n.a;if(Math.abs(r)<1e-10)return null;var s=(i.c*n.b-n.c*i.b)/r,a=(n.c*i.a-i.c*n.a)/r,o=i.region.r,l=n.region.r,u,c;o.y<l.y||o.y==l.y&&o.x<l.x?(u=e,c=i):(u=t,c=n);var f=s>=c.region.r.x;return f&&"l"===u.side||!f&&"r"===u.side?null:{x:s,y:a}},rightOf:function(e,t){var i=e.edge,n=i.region.r,r=t.x>n.x;if(r&&"l"===e.side)return 1;if(!r&&"r"===e.side)return 0;if(1===i.a){var s=t.y-n.y,a=t.x-n.x,o=0,l=0;if(!r&&i.b<0||r&&i.b>=0?l=o=s>=i.b*a:(l=t.x+t.y*i.b>i.c,i.b<0&&(l=!l),l||(o=1)),!o){var u=n.x-i.region.l.x;l=i.b*(a*a-s*s)<u*s*(1+2*a/u+i.b*i.b),i.b<0&&(l=!l)}}else{var c=i.c-i.a*t.x,f=t.y-c,h=t.x-n.x,d=c-n.y;l=f*f>h*h+d*d}return"l"===e.side?l:!l},endPoint:function(e,i,n){e.ep[i]=n,e.ep[as[i]]&&t(e)},distance:function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}},s={list:[],insert:function(e,t,i){e.vertex=t,e.ystar=t.y+i;for(var n=0,r=s.list,a=r.length;n<a;n++){var o=r[n];if(!(e.ystar>o.ystar||e.ystar==o.ystar&&t.x>o.vertex.x))break}r.splice(n,0,e)},del:function(e){for(var t=0,i=s.list,n=i.length;t<n&&i[t]!=e;++t);i.splice(t,1)},empty:function(){return 0===s.list.length},nextEvent:function(e){for(var t=0,i=s.list,n=i.length;t<n;++t)if(i[t]==e)return i[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};n.init(),i.bottomSite=i.list.shift();for(var a=i.list.shift(),o,l,u,c,f,h,d,p,g,m,v,y,b;;)if(s.empty()||(o=s.min()),a&&(s.empty()||a.y<o.y||a.y==o.y&&a.x<o.x))l=n.leftBound(a),u=n.right(l),d=n.rightRegion(l),y=r.bisect(d,a),h=n.createHalfEdge(y,"l"),n.insert(l,h),(m=r.intersect(l,h))&&(s.del(l),s.insert(l,m,r.distance(m,a))),l=h,h=n.createHalfEdge(y,"r"),n.insert(l,h),(m=r.intersect(h,u))&&s.insert(h,m,r.distance(m,a)),a=i.list.shift();else{if(s.empty())break;l=s.extractMin(),c=n.left(l),u=n.right(l),f=n.right(u),d=n.leftRegion(l),p=n.rightRegion(u),v=l.vertex,r.endPoint(l.edge,l.side,v),r.endPoint(u.edge,u.side,v),n.del(l),s.del(u),n.del(u),b="l",d.y>p.y&&(g=d,d=p,p=g,b="r"),y=r.bisect(d,p),h=n.createHalfEdge(y,b),n.insert(c,h),r.endPoint(y,as[b],v),(m=r.intersect(c,h))&&(s.del(c),s.insert(c,m,r.distance(m,d))),(m=r.intersect(h,f))&&s.insert(h,m,r.distance(m,d))}for(l=n.right(n.leftEnd);l!=n.rightEnd;l=n.right(l))t(l.edge)}function ls(){return{leaf:!0,nodes:[],point:null}}function us(e,t,i,n,r,s){if(!e(t,i,n,r,s)){var a=.5*(i+r),o=.5*(n+s),l=t.nodes;l[0]&&us(e,l[0],i,n,a,o),l[1]&&us(e,l[1],a,n,r,o),l[2]&&us(e,l[2],i,o,a,s),l[3]&&us(e,l[3],a,o,r,s)}}function cs(e){return{x:e[0],y:e[1]}}d3.geom.delaunay=function(e){var t=e.map((function(){return[]})),i=[];return os(e,(function(i){t[i.region.l.index].push(e[i.region.r.index])})),t.forEach((function(t,n){var r=e[n],s=r[0],a=r[1];t.forEach((function(e){e.angle=Math.atan2(e[0]-s,e[1]-a)})),t.sort((function(e,t){return e.angle-t.angle}));for(var o=0,l=t.length-1;o<l;o++)i.push([r,t[o],t[o+1]])})),i},d3.geom.quadtree=function(e,t,i,n,r){var s,a=-1,o=e.length;if(o&&isNaN(e[0].x)&&(e=e.map(cs)),arguments.length<5)if(3===arguments.length)r=n=i,i=t;else{for(t=i=1/0,n=r=-1/0;++a<o;)(s=e[a]).x<t&&(t=s.x),s.y<i&&(i=s.y),s.x>n&&(n=s.x),s.y>r&&(r=s.y);var l=n-t,u=r-i;l>u?r=i+l:n=t+u}function c(e,t,i,n,r,s){if(!isNaN(t.x)&&!isNaN(t.y))if(e.leaf){var a=e.point;a?Math.abs(a.x-t.x)+Math.abs(a.y-t.y)<.01?f(e,t,i,n,r,s):(e.point=null,f(e,a,i,n,r,s),f(e,t,i,n,r,s)):e.point=t}else f(e,t,i,n,r,s)}function f(e,t,i,n,r,s){var a=.5*(i+r),o=.5*(n+s),l=t.x>=a,u=t.y>=o,f=(u<<1)+l;e.leaf=!1,l?i=a:r=a,u?n=o:s=o,c(e=e.nodes[f]||(e.nodes[f]={leaf:!0,nodes:[],point:null}),t,i,n,r,s)}var h={leaf:!0,nodes:[],point:null,add:function(e){c(h,e,t,i,n,r)},visit:function(e){us(e,h,t,i,n,r)}};return e.forEach(h.add),h},d3.time={};var fs=Date;function hs(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}hs.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ds.setUTCDate.apply(this._,arguments)},setDay:function(){ds.setUTCDay.apply(this._,arguments)},setFullYear:function(){ds.setUTCFullYear.apply(this._,arguments)},setHours:function(){ds.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ds.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ds.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ds.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ds.setUTCSeconds.apply(this._,arguments)},setTime:function(){ds.setTime.apply(this._,arguments)}};var ds=Date.prototype;function ps(e,t,i,n){for(var r,s,a=0,o=t.length,l=i.length;a<o;){if(n>=l)return-1;if(37==(r=t.charCodeAt(a++))){if(!(s=ws[t.charAt(a++)])||(n=s(e,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}d3.time.format=function(e){var t=e.length;function i(i){for(var n=[],r=-1,s=0,a,o;++r<t;)37==e.charCodeAt(r)&&(n.push(e.substring(s,r),(o=bs[a=e.charAt(++r)])?o(i):a),s=r+1);return n.push(e.substring(s,r)),n.join("")}return i.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},n;if(ps(i,e,t,0)!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=new fs;return r.setFullYear(i.y,i.m,i.d),r.setHours(i.H,i.M,i.S,i.L),r},i.toString=function(){return e},i};var gs=d3.format("02d"),ms=d3.format("03d"),vs=d3.format("04d"),ys=d3.format("2d"),bs={a:function(e){return Ms[e.getDay()].substring(0,3)},A:function(e){return Ms[e.getDay()]},b:function(e){return Is[e.getMonth()].substring(0,3)},B:function(e){return Is[e.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(e){return gs(e.getDate())},e:function(e){return ys(e.getDate())},H:function(e){return gs(e.getHours())},I:function(e){return gs(e.getHours()%12||12)},j:function(e){return ms(1+d3.time.dayOfYear(e))},L:function(e){return ms(e.getMilliseconds())},m:function(e){return gs(e.getMonth()+1)},M:function(e){return gs(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return gs(e.getSeconds())},U:function(e){return gs(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return gs(d3.time.mondayOfYear(e))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(e){return gs(e.getFullYear()%100)},Y:function(e){return vs(e.getFullYear()%1e4)},Z:Qs,"%":function(e){return"%"}},ws={a:_s,A:xs,b:Ts,B:Ss,c:$s,d:js,e:js,H:Fs,I:Fs,L:Ys,m:Ls,M:Rs,p:Bs,S:Ws,x:Ps,X:zs,y:Hs,Y:Ns};function _s(e,t,i){return ks.test(t.substring(i,i+=3))?i:-1}function xs(e,t,i){Cs.lastIndex=0;var n=Cs.exec(t.substring(i,i+10));return n?i+=n[0].length:-1}var ks=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,Cs=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,Ms=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ts(e,t,i){var n=Ds.get(t.substring(i,i+=3).toLowerCase());return null==n?-1:(e.m=n,i)}var Ds=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11});function Ss(e,t,i){Es.lastIndex=0;var n=Es.exec(t.substring(i,i+12));return n?(e.m=As.get(n[0].toLowerCase()),i+=n[0].length):-1}var Es=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi,As=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),Is=["January","February","March","April","May","June","July","August","September","October","November","December"];function $s(e,t,i){return ps(e,bs.c.toString(),t,i)}function Ps(e,t,i){return ps(e,bs.x.toString(),t,i)}function zs(e,t,i){return ps(e,bs.X.toString(),t,i)}function Ns(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+4));return n?(e.y=+n[0],i+=n[0].length):-1}function Hs(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.y=Os()+ +n[0],i+=n[0].length):-1}function Os(){return 1e3*~~((new Date).getFullYear()/1e3)}function Ls(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.m=n[0]-1,i+=n[0].length):-1}function js(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.d=+n[0],i+=n[0].length):-1}function Fs(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.H=+n[0],i+=n[0].length):-1}function Rs(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.M=+n[0],i+=n[0].length):-1}function Ws(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+2));return n?(e.S=+n[0],i+=n[0].length):-1}function Ys(e,t,i){qs.lastIndex=0;var n=qs.exec(t.substring(i,i+3));return n?(e.L=+n[0],i+=n[0].length):-1}var qs=/\s*\d+/;function Bs(e,t,i){var n=Us.get(t.substring(i,i+=2).toLowerCase());return null==n?-1:(e.p=n,i)}var Us=d3.map({am:0,pm:1});function Qs(e){var t=e.getTimezoneOffset(),i=t>0?"-":"+",n=~~(Math.abs(t)/60),r=Math.abs(t)%60;return i+gs(n)+gs(r)}d3.time.format.utc=function(e){var t=d3.time.format(e);function i(e){try{var i=new(fs=hs);return i._=e,t(i)}finally{fs=Date}}return i.parse=function(e){try{fs=hs;var i=t.parse(e);return i&&i._}finally{fs=Date}},i.toString=t.toString,i};var Gs=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");function Xs(e){return e.toISOString()}function Vs(e,t,i){function n(t){var i=e(t),n=s(i,1);return t-i<n-t?i:n}function r(i){return t(i=e(new fs(i-1)),1),i}function s(e,i){return t(e=new fs(+e),i),e}function a(e,n,s){var a=r(e),o=[];if(s>1)for(;a<n;)i(a)%s||o.push(new Date(+a)),t(a,1);else for(;a<n;)o.push(new Date(+a)),t(a,1);return o}function o(e,t,i){try{fs=hs;var n=new hs;return n._=e,a(n,t,i)}finally{fs=Date}}e.floor=e,e.round=n,e.ceil=r,e.offset=s,e.range=a;var l=e.utc=Ks(e);return l.floor=l,l.round=Ks(n),l.ceil=Ks(r),l.offset=Ks(s),l.range=o,e}function Ks(e){return function(t,i){try{fs=hs;var n=new hs;return n._=t,e(n,i)._}finally{fs=Date}}}function Zs(e,t,i){function n(t){return e(t)}return n.invert=function(t){return ea(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t),n):e.domain().map(ea)},n.nice=function(e){var t=Js(n.domain());return n.domain([e.floor(t[0]),e.ceil(t[1])])},n.ticks=function(i,r){var s=Js(n.domain());if("function"!=typeof i){var a,o=(s[1]-s[0])/i,l=d3.bisect(ra,o);if(l==ra.length)return t.year(s,i);if(!l)return e.ticks(i).map(ea);Math.log(o/ra[l-1])<Math.log(ra[l]/o)&&--l,r=(i=t[l])[1],i=i[0].range}return i(s[0],new Date(+s[1]+1),r)},n.tickFormat=function(){return i},n.copy=function(){return Zs(e.copy(),t,i)},d3.rebind(n,e,"range","rangeRound","interpolate","clamp")}function Js(e){var t=e[0],i=e[e.length-1];return t<i?[t,i]:[i,t]}function ea(e){return new Date(e)}function ta(e){return function(t){for(var i=e.length-1,n=e[i];!n[1](t);)n=e[--i];return n[0](t)}}function ia(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function na(e){var t=e.getFullYear(),i=ia(t),n;return t+(e-i)/(ia(t+1)-i)}d3.time.format.iso=Date.prototype.toISOString?Xs:Gs,Xs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Xs.toString=Gs.toString,d3.time.second=Vs((function(e){return new fs(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Vs((function(e){return new fs(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Vs((function(e){var t=e.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Vs((function(e){return new fs(e.getFullYear(),e.getMonth(),e.getDate())}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t)/864e5-(e.getTimezoneOffset()-t.getTimezoneOffset())/1440)},Ms.forEach((function(e,t){e=e.toLowerCase(),t=7-t;var i=d3.time[e]=Vs((function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var i=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(i+t)%7)/7)-(i!==t)}));d3.time[e+"s"]=i.range,d3.time[e+"s"].utc=i.utc.range,d3.time[e+"OfYear"]=function(e){var i=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(i+t)%7)/7)}})),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Vs((function(e){return new fs(e.getFullYear(),e.getMonth(),1)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Vs((function(e){return new fs(e.getFullYear(),0,1)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var ra=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],sa=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],aa=[[d3.time.format("%Y"),function(e){return!0}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return 1!=e.getDate()}],[d3.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],oa=d3.scale.linear(),la=ta(aa);sa.year=function(e,t){return oa.domain(e.map(na)).ticks(t).map(ia)},d3.time.scale=function(){return Zs(d3.scale.linear(),sa,la)};var ua=sa.map((function(e){return[e[0].utc,e[1]]})),ca,fa=ta([[d3.time.format.utc("%Y"),function(e){return!0}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]]);function ha(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function da(e){var t=e.getUTCFullYear(),i=ha(t),n;return t+(e-i)/(ha(t+1)-i)}ua.year=function(e,t){return oa.domain(e.map(da)).ticks(t).map(ha)},d3.time.scale.utc=function(){return Zs(d3.scale.linear(),ua,fa)}}(),function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e;return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var a=e.camelCase(["scroll",r].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[r](this.$element[0][a])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return n.call(this);this.$element[i](0).one(e.support.transition.end,e.proxy(n,this)).emulateTransitionEnd(350)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each((function(){var n=e(this),r=n.data("bs.collapse"),s=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.collapse",r=new t(this,s)),"string"==typeof i&&r[i]()}))},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",(function(t){var i=e(this),n,r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(r),a=s.data("bs.collapse"),o=a?"toggle":i.data(),l=i.attr("data-parent"),u=l&&e(l);a&&a.transitioning||(u&&u.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(o)}))}(window.jQuery),function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var i=this,n=this.getActiveIndex();if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",(function(){i.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(t,i){var n=this.$element.find(".item.active"),r=i||n[t](),s=this.interval,a="next"==t?"left":"right",o="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[o]()}this.sliding=!0,s&&this.pause();var u=e.Event("slide.bs.carousel",{relatedTarget:r[0],direction:a});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")}))),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,n.addClass(a),r.addClass(a),n.one(e.support.transition.end,(function(){r.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger("slid")}),0)})).emulateTransitionEnd(600)}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each((function(){var n=e(this),r=n.data("bs.carousel"),s=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;r||n.data("bs.carousel",r=new t(this,s)),"number"==typeof i?r.to(i):a?r[a]():s.interval&&r.pause().cycle()}))},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",(function(t){var i=e(this),n,r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},r.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),r.carousel(s),(a=i.attr("data-slide-to"))&&r.data("bs.carousel").to(a),t.preventDefault()})),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var t=e(this);t.carousel(t.data())}))}))}(window.jQuery),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]}}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this,r;return e(this).one(e.support.transition.end,(function(){i=!0})),setTimeout((function(){i||e(n).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=t()}))}(window.jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var a=r[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){i[e]!=n&&(t[e]=n)})),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this,n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),l=n[0].offsetWidth,u=n[0].offsetHeight;if(a){var c=this.$element.parent(),f=r,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),g="body"==this.options.container?0:c.offset().left;r="bottom"==r&&o.top+o.height+u-h>p?"top":"top"==r&&o.top-h-u<0?"bottom":"right"==r&&o.right+l>d?"left":"left"==r&&o.left-l<g?"right":r,n.removeClass(f).addClass(r)}var m=this.getCalculatedOffset(r,o,l,u);this.applyPlacement(m,r),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,i){var n,r=this.tip(),s=r[0].offsetWidth,a=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),l=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(l)&&(l=0),t.top=t.top+o,t.left=t.left+l,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var u=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==i&&c!=a&&(n=!0,t.top=t.top+a-c),/bottom|top/.test(i)){var f=0;t.left<0&&(f=-2*t.left,t.left=0,r.offset(t),u=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(f-s+u,u,"left")}else this.replaceArrow(c-a,c,"top");n&&r.offset(t)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,i=this.tip(),n=e.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&i.detach(),t.$element.trigger("hidden.bs."+t.type)}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,r).emulateTransitionEnd(150):r(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each((function(){var n=e(this),r=n.data("bs.tooltip"),s="object"==typeof i&&i;(r||"destroy"!=i)&&(r||n.data("bs.tooltip",r=new t(this,s)),"string"==typeof i&&r[i]())}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){var t=!1,i=!1,n=!1,r=5e3,s=2e3,o=0,l=e;function u(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}var c=u(),f=["ms","moz","webkit","o"],h=window.requestAnimationFrame||!1,d=window.cancelAnimationFrame||!1;if(!h)for(var p in f){var g=f[p];h||(h=window[g+"RequestAnimationFrame"]),d||(d=window[g+"CancelAnimationFrame"]||window[g+"CancelRequestAnimationFrame"])}var m=window.MutationObserver||window.WebKitMutationObserver||!1,v={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},y=!1,b=function(){if(y)return y;var e=document.createElement("DIV"),t={};t.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&document.documentMode>=9,t.isie10=t.isie&&"performance"in window&&document.documentMode>=10,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],n=0;n<i.length;n++)if(void 0!==e.style[i[n]]){t.trstyle=i[n];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var i=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],r=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],s=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],n=0;n<i.length;n++)if(i[n]in e.style){t.transitionstyle=i[n],t.prefixstyle=r[n],t.transitionend=s[n];break}function a(){var i=["-moz-grab","-webkit-grab","grab"];(t.ischrome&&!t.ischrome22||t.isie)&&(i=[]);for(var n=0;n<i.length;n++){var r=i[n];if(e.style.cursor=r,e.style.cursor==r)return r}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.ischrome26&&(t.prefixstyle=r[1]),t.hastransition=t.transitionstyle,t.cursorgrabvalue=a(),t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==m,e=null,y=t,t},w=function(e,n){var a=this;if(this.version="3.5.0 BETA5",this.name="nicescroll",this.me=n,this.opt={doc:l("body"),win:!1},l.extend(this.opt,v),this.opt.snapbackspeed=80,e)for(var u in a.opt)void 0!==e[u]&&(a.opt[u]=e[u]);this.doc=a.opt.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/BODY|HTML/.test(a.opt.win?a.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==a.opt.win,this.win=a.opt.win||(this.ispage?l(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?l(window):this.win,this.body=l("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=a.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.checkrtlmode=!1,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do{this.id="ascrail"+s++}while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.overflowx=a.opt.overflowx,this.overflowy=a.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=b();var f=l.extend({},this.detected);if(this.canhwscroll=f.hastransform&&a.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&a.haswrapper,this.istouchcapable=!1,f.cantouch&&f.ischrome&&!f.isios&&!f.isandroid&&(this.istouchcapable=!0,f.cantouch=!1),f.cantouch&&f.ismozilla&&!f.isios&&!f.isandroid&&(this.istouchcapable=!0,f.cantouch=!1),a.opt.enablemouselockapi||(f.hasmousecapture=!1,f.haspointerlock=!1),this.delayed=function(e,t,i,n){var r=a.delaylist[e],s=(new Date).getTime();if(!n&&r&&r.tt)return!1;r&&r.tt&&clearTimeout(r.tt),r&&r.last+i>s&&!r.tt?a.delaylist[e]={last:s+i,tt:setTimeout((function(){a.delaylist[e].tt=0,t.call()}),i)}:r&&r.tt||(a.delaylist[e]={last:s,tt:0},setTimeout((function(){t.call()}),0))},this.debounced=function(e,t,i){var n=a.delaylist[e],r=(new Date).getTime();a.delaylist[e]=t,n||setTimeout((function(){var t=a.delaylist[e];a.delaylist[e]=!1,t.call()}),i)},this.synched=function(e,t){function i(){a.onsync||(h((function(){for(e in a.onsync=!1,a.synclist){var t=a.synclist[e];t&&t.call(a),a.synclist[e]=!1}})),a.onsync=!0)}return a.synclist[e]=t,i(),e},this.unsynched=function(e){a.synclist[e]&&(a.synclist[e]=!1)},this.css=function(e,t){for(var i in t)a.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?a.getScrollTop():a.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?a.getScrollLeft():a.setScrollLeft(e)},BezierClass=function(e,t,i,n,r,s,a){this.st=e,this.ed=t,this.spd=i,this.p1=n||0,this.p2=r||1,this.p3=s||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e,t=1-((new Date).getTime()-this.ts)/this.spd,i=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*i)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){function p(){var e=a.doc.css(f.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},f.hastranslate3d&&f.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=p();if(t)return 16==t.length?-t[13]:-t[5];if(a.timerscroll&&a.timerscroll.bz)return a.timerscroll.bz.getNow()}return a.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=p();if(t)return 16==t.length?-t[12]:-t[4];if(a.timerscroll&&a.timerscroll.bh)return a.timerscroll.bh.getNow()}return a.doc.translate.x},document.createEvent?this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?this.notifyScrollEvent=function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:this.notifyScrollEvent=function(e,t){},f.hastranslate3d&&a.opt.enabletranslate3d?(this.setScrollTop=function(e,t){a.doc.translate.y=e,a.doc.translate.ty=-1*e+"px",a.doc.css(f.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)"),t||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(e,t){a.doc.translate.x=e,a.doc.translate.tx=-1*e+"px",a.doc.css(f.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)"),t||a.notifyScrollEvent(a.win[0])}):(this.setScrollTop=function(e,t){a.doc.translate.y=e,a.doc.translate.ty=-1*e+"px",a.doc.css(f.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")"),t||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(e,t){a.doc.translate.x=e,a.doc.translate.tx=-1*e+"px",a.doc.css(f.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")"),t||a.notifyScrollEvent(a.win[0])})}else this.getScrollTop=function(){return a.docscroll.scrollTop()},this.setScrollTop=function(e){return a.docscroll.scrollTop(e)},this.getScrollLeft=function(){return a.docscroll.scrollLeft()},this.setScrollLeft=function(e){return a.docscroll.scrollLeft(e)};function g(){var e=a.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var y={thin:1,medium:3,thick:5};function w(e,t,i){var n=e.css(t),r=parseFloat(n);if(isNaN(r)){var s=3==(r=y[n]||0)?i?a.win.outerHeight()-a.win.innerHeight():a.win.outerWidth()-a.win.innerWidth():1;return a.isie8&&r&&(r+=1),s?r:0}return r}function x(e,t,i,n){a._bind(e,t,(function(n){var n,r={original:n=n||window.event,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==t?(r.deltaY=-.025*n.wheelDelta,n.wheelDeltaX&&(r.deltaX=-.025*n.wheelDeltaX)):r.deltaY=n.detail,i.call(e,r)}),n)}function k(e,t,i){var n,r,s=1;if(0==e.deltaMode?(n=-Math.floor(e.deltaX*(a.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(a.opt.mousescrollstep/54))):1==e.deltaMode&&(n=-Math.floor(e.deltaX*a.opt.mousescrollstep),r=-Math.floor(e.deltaY*a.opt.mousescrollstep)),t&&a.opt.oneaxismousemode&&0==n&&r&&(n=r,r=0),n&&(a.scrollmom&&a.scrollmom.stop(),a.lastdeltax+=n,a.debounced("mousewheelx",(function(){var e=a.lastdeltax;a.lastdeltax=0,a.rail.drag||a.doScrollLeftBy(e)}),120)),r){if(a.opt.nativeparentscrolling&&i&&!a.ispage&&!a.zoomactive)if(r<0){if(a.getScrollTop()>=a.page.maxh)return!0}else if(a.getScrollTop()<=0)return!0;a.scrollmom&&a.scrollmom.stop(),a.lastdeltay+=r,a.debounced("mousewheely",(function(){var e=a.lastdeltay;a.lastdeltay=0,a.rail.drag||a.doScrollBy(e)}),120)}return e.stopImmediatePropagation(),e.preventDefault()}this.getOffset=function(){if(a.isfixed)return{top:parseFloat(a.win.css("top")),left:parseFloat(a.win.css("left"))};if(!a.viewport)return a.win.offset();var e=a.win.offset(),t=a.viewport.offset();return{top:e.top-t.top+a.viewport.scrollTop(),left:e.left-t.left+a.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(a.ishwscroll)a.rail.css({height:a.win.innerHeight()}),a.railh&&a.railh.css({width:a.win.innerWidth()});else{var t=a.getOffset(),i;(i={top:t.top,left:t.left}).top+=w(a.win,"border-top-width",!0);var n=(a.win.outerWidth()-a.win.innerWidth())/2;i.left+=a.rail.align?a.win.outerWidth()-w(a.win,"border-right-width")-a.rail.width:w(a.win,"border-left-width");var r=a.opt.railoffset;if(r&&(r.top&&(i.top+=r.top),a.rail.align&&r.left&&(i.left+=r.left)),a.locked||a.rail.css({top:i.top,left:i.left,height:e?e.h:a.win.innerHeight()}),a.zoom&&a.zoom.css({top:i.top+1,left:1==a.rail.align?i.left-20:i.left+a.rail.width+4}),a.railh&&!a.locked){var i={top:t.top,left:t.left},s=a.railh.align?i.top+w(a.win,"border-top-width",!0)+a.win.innerHeight()-a.railh.height:i.top+w(a.win,"border-top-width",!0),o=i.left+w(a.win,"border-left-width");a.railh.css({top:s,left:o,width:a.railh.width})}}},this.doRailClick=function(e,t,i){var n,r,s,o;a.locked||(a.cancelEvent(e),t?(n=i?a.doScrollLeft:a.doScrollTop)(s=i?(e.pageX-a.railh.offset().left-a.cursorwidth/2)*a.scrollratio.x:(e.pageY-a.rail.offset().top-a.cursorheight/2)*a.scrollratio.y):(n=i?a.doScrollLeftBy:a.doScrollBy,s=i?a.scroll.x:a.scroll.y,o=i?e.pageX-a.railh.offset().left:e.pageY-a.rail.offset().top,r=i?a.view.w:a.view.h,n(s>=o?r:-r)))},a.hasanimationframe=h,a.hascancelanimationframe=d,a.hasanimationframe?a.hascancelanimationframe||(d=function(){a.cancelAnimationFrame=!0}):(h=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},d=clearInterval),this.init=function(){if(a.saved.css=[],f.isie7mobile)return!0;if(f.isoperamini)return!0;if(f.hasmstouch&&a.css(a.ispage?l("html"):a.win,{"-ms-touch-action":"none"}),a.zindex="auto",a.ispage||"auto"!=a.opt.zindex?a.zindex=a.opt.zindex:a.zindex=g()||"auto",a.ispage||"auto"==a.zindex||a.zindex>o&&(o=a.zindex),a.isie&&0==a.zindex&&"auto"==a.opt.zindex&&(a.zindex="auto"),!a.ispage||!f.cantouch&&!f.isieold&&!f.isie9mobile){var e=a.docscroll,n;a.ispage&&(e=a.haswrapper?a.win:a.doc),f.isie9mobile||a.css(e,{"overflow-y":"hidden"}),a.ispage&&f.isie7&&("BODY"==a.doc[0].nodeName?a.css(l("html"),{"overflow-y":"hidden"}):"HTML"==a.doc[0].nodeName&&a.css(l("body"),{"overflow-y":"hidden"})),!f.isios||a.ispage||a.haswrapper||a.css(l("body"),{"-webkit-overflow-scrolling":"touch"}),(n=l(document.createElement("div"))).css({position:"relative",top:0,float:"right",width:a.opt.cursorwidth,height:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius}),n.hborder=parseFloat(n.outerHeight()-n.innerHeight()),a.cursor=n;var s=l(document.createElement("div"));s.attr("id",a.id),s.addClass("nicescroll-rails");var u,h,d=["left","right"];for(var p in d)h=d[p],(u=a.opt.railpadding[h])?s.css("padding-"+h,u+"px"):a.opt.railpadding[h]=0;s.append(n),s.width=Math.max(parseFloat(a.opt.cursorwidth),n.outerWidth())+a.opt.railpadding.left+a.opt.railpadding.right,s.css({width:s.width+"px",zIndex:a.zindex,background:a.opt.background,cursor:"default"}),s.visibility=!0,s.scrollable=!0,s.align="left"==a.opt.railalign?0:1,a.rail=s,a.rail.drag=!1;var v=!1;if(!a.opt.boxzoom||a.ispage||f.isieold||(v=document.createElement("div"),a.bind(v,"click",a.doZoom),a.zoom=l(v),a.zoom.css({cursor:"pointer","z-index":a.zindex,backgroundImage:"url("+c+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),a.opt.dblclickzoom&&a.bind(a.win,"dblclick",a.doZoom),f.cantouch&&a.opt.gesturezoom&&(a.ongesturezoom=function(e){return e.scale>1.5&&a.doZoomIn(e),e.scale<.8&&a.doZoomOut(e),a.cancelEvent(e)},a.bind(a.win,"gestureend",a.ongesturezoom))),a.railh=!1,a.opt.horizrailenabled){var n;a.css(e,{"overflow-x":"hidden"}),(n=l(document.createElement("div"))).css({position:"relative",top:0,height:a.opt.cursorwidth,width:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius}),n.wborder=parseFloat(n.outerWidth()-n.innerWidth()),a.cursorh=n;var y=l(document.createElement("div"));y.attr("id",a.id+"-hr"),y.addClass("nicescroll-rails"),y.height=Math.max(parseFloat(a.opt.cursorwidth),n.outerHeight()),y.css({height:y.height+"px",zIndex:a.zindex,background:a.opt.background}),y.append(n),y.visibility=!0,y.scrollable=!0,y.align="top"==a.opt.railvalign?0:1,a.railh=y,a.railh.drag=!1}if(a.ispage)s.css({position:"fixed",top:"0px",height:"100%"}),s.align?s.css({right:"0px"}):s.css({left:"0px"}),a.body.append(s),a.railh&&(y.css({position:"fixed",left:"0px",width:"100%"}),y.align?y.css({bottom:"0px"}):y.css({top:"0px"}),a.body.append(y));else{if(a.ishwscroll){"static"==a.win.css("position")&&a.css(a.win,{position:"relative"});var b="HTML"==a.win[0].nodeName?a.body:a.win;a.zoom&&(a.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4}),b.append(a.zoom)),s.css({position:"absolute",top:0}),s.align?s.css({right:0}):s.css({left:0}),b.append(s),y&&(y.css({position:"absolute",left:0,bottom:0}),y.align?y.css({bottom:0}):y.css({top:0}),b.append(y))}else{a.isfixed="fixed"==a.win.css("position");var w=a.isfixed?"fixed":"absolute";a.isfixed||(a.viewport=a.getViewport(a.win[0])),a.viewport&&(a.body=a.viewport,0==/relative|absolute/.test(a.viewport.css("position"))&&a.css(a.viewport,{position:"relative"})),s.css({position:w}),a.zoom&&a.zoom.css({position:w}),a.updateScrollBar(),a.body.append(s),a.zoom&&a.body.append(a.zoom),a.railh&&(y.css({position:w}),a.body.append(y))}f.isios&&a.css(a.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),f.isie&&a.opt.disableoutline&&a.win.attr("hideFocus","true"),f.iswebkit&&a.opt.disableoutline&&a.win.css({outline:"none"})}if(!1===a.opt.autohidemode?(a.autohidedom=!1,a.rail.css({opacity:a.opt.cursoropacitymax}),a.railh&&a.railh.css({opacity:a.opt.cursoropacitymax})):!0===a.opt.autohidemode?(a.autohidedom=l().add(a.rail),f.isie8&&(a.autohidedom=a.autohidedom.add(a.cursor)),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh)),a.railh&&f.isie8&&(a.autohidedom=a.autohidedom.add(a.cursorh))):"scroll"==a.opt.autohidemode?(a.autohidedom=l().add(a.rail),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh))):"cursor"==a.opt.autohidemode?(a.autohidedom=l().add(a.cursor),a.railh&&(a.autohidedom=a.autohidedom.add(a.cursorh))):"hidden"==a.opt.autohidemode&&(a.autohidedom=!1,a.hide(),a.locked=!1),f.isie9mobile){a.scrollmom=new _(a),a.onmangotouch=function(e){var t=a.getScrollTop(),i=a.getScrollLeft();if(t==a.scrollmom.lastscrolly&&i==a.scrollmom.lastscrollx)return!0;var n=t-a.mangotouch.sy,r=i-a.mangotouch.sx,s;if(0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2)))){var o=n<0?-1:1,l=r<0?-1:1,u=+new Date;if(a.mangotouch.lazy&&clearTimeout(a.mangotouch.lazy),u-a.mangotouch.tm>80||a.mangotouch.dry!=o||a.mangotouch.drx!=l)a.scrollmom.stop(),a.scrollmom.reset(i,t),a.mangotouch.sy=t,a.mangotouch.ly=t,a.mangotouch.sx=i,a.mangotouch.lx=i,a.mangotouch.dry=o,a.mangotouch.drx=l,a.mangotouch.tm=u;else{a.scrollmom.stop(),a.scrollmom.update(a.mangotouch.sx-r,a.mangotouch.sy-n);var c=u-a.mangotouch.tm;a.mangotouch.tm=u;var f=Math.max(Math.abs(a.mangotouch.ly-t),Math.abs(a.mangotouch.lx-i));a.mangotouch.ly=t,a.mangotouch.lx=i,f>2&&(a.mangotouch.lazy=setTimeout((function(){a.mangotouch.lazy=!1,a.mangotouch.dry=0,a.mangotouch.drx=0,a.mangotouch.tm=0,a.scrollmom.doMomentum(30)}),100))}}};var x=a.getScrollTop(),k=a.getScrollLeft();a.mangotouch={sy:x,ly:x,dry:0,sx:k,lx:k,drx:0,lazy:!1,tm:0},a.bind(a.docscroll,"scroll",a.onmangotouch)}else{if(f.cantouch||a.istouchcapable||a.opt.touchbehavior||f.hasmstouch){a.scrollmom=new _(a),a.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!a.locked){if(f.hasmstouch)for(var t=!!e.target&&e.target;t;){var i=l(t).getNiceScroll();if(i.length>0&&i[0].me==a.me)break;if(i.length>0)return!1;if("DIV"==t.nodeName&&t.id==a.id)break;t=!!t.parentNode&&t.parentNode}var t,n;if(a.cancelScroll(),t=a.getTarget(e))if(/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return a.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),a.forcescreen){var r=e,e;(e={original:e.original?e.original:e}).clientX=r.screenX,e.clientY=r.screenY}if(a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,st:a.getScrollTop(),sl:a.getScrollLeft(),pt:2,dl:!1},a.ispage||!a.opt.directionlockdeadzone)a.rail.drag.dl="f";else{var s={w:l(window).width(),h:l(window).height()},o={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},u=Math.max(0,o.h-s.h),c=Math.max(0,o.w-s.w);!a.rail.scrollable&&a.railh.scrollable?a.rail.drag.ck=u>0&&"v":a.rail.scrollable&&!a.railh.scrollable?a.rail.drag.ck=c>0&&"h":a.rail.drag.ck=!1,a.rail.drag.ck||(a.rail.drag.dl="f")}if(a.opt.touchbehavior&&a.isiframe&&f.isie){var h=a.win.position();a.rail.drag.x+=h.left,a.rail.drag.y+=h.top}if(a.hasmoving=!1,a.lastmouseup=!1,a.scrollmom.reset(e.clientX,e.clientY),!f.cantouch&&!this.istouchcapable&&!f.hasmstouch){var d;if(!(!!t&&/INPUT|SELECT|TEXTAREA/i.test(t.nodeName)))return!a.ispage&&f.hasmousecapture&&t.setCapture(),a.opt.touchbehavior?a.cancelEvent(e):a.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(l(t).attr("type"))&&(pc={tg:t,click:!1},a.preventclick=pc)}}},a.ontouchend=function(e){return(!e.pointerType||2==e.pointerType)&&(a.rail.drag&&2==a.rail.drag.pt&&(a.scrollmom.doMomentum(),a.rail.drag=!1,a.hasmoving&&(a.hasmoving=!1,a.lastmouseup=!0,a.hideCursor(),f.hasmousecapture&&document.releaseCapture(),!f.cantouch))?a.cancelEvent(e):void 0)};var C=a.opt.touchbehavior&&a.isiframe&&!f.hasmousecapture;a.ontouchmove=function(e,t){if(e.pointerType&&2!=e.pointerType)return!1;if(a.rail.drag&&2==a.rail.drag.pt){if(f.cantouch&&void 0===e.original)return!0;var i;if(a.hasmoving=!0,a.preventclick&&!a.preventclick.click&&(a.preventclick.click=a.preventclick.tg.onclick||!1,a.preventclick.tg.onclick=a.onpreventclick),"changedTouches"in(e=l.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),a.forcescreen){var n=e,e;(e={original:e.original?e.original:e}).clientX=n.screenX,e.clientY=n.screenY}var r=ofy=0;if(C&&!t){var s=a.win.position();r=-s.left,ofy=-s.top}var o=e.clientY+ofy,u=o-a.rail.drag.y,c=e.clientX+r,h=c-a.rail.drag.x,d=a.rail.drag.st-u;if(a.ishwscroll&&a.opt.bouncescroll?d<0?d=Math.round(d/2):d>a.page.maxh&&(d=a.page.maxh+Math.round((d-a.page.maxh)/2)):(d<0&&(d=0,o=0),d>a.page.maxh&&(d=a.page.maxh,o=0)),a.railh&&a.railh.scrollable){var p=a.rail.drag.sl-h;a.ishwscroll&&a.opt.bouncescroll?p<0?p=Math.round(p/2):p>a.page.maxw&&(p=a.page.maxw+Math.round((p-a.page.maxw)/2)):(p<0&&(p=0,c=0),p>a.page.maxw&&(p=a.page.maxw,c=0))}var g=!1;if(a.rail.drag.dl)g=!0,"v"==a.rail.drag.dl?p=a.rail.drag.sl:"h"==a.rail.drag.dl&&(d=a.rail.drag.st);else{var m=Math.abs(u),v=Math.abs(h),y=a.opt.directionlockdeadzone;if("v"==a.rail.drag.ck){if(m>y&&v<=.3*m)return a.rail.drag=!1,!0;v>y&&(a.rail.drag.dl="f",l("body").scrollTop(l("body").scrollTop()))}else if("h"==a.rail.drag.ck){if(v>y&&m<=.3*v)return a.rail.drag=!1,!0;m>y&&(a.rail.drag.dl="f",l("body").scrollLeft(l("body").scrollLeft()))}}if(a.synched("touchmove",(function(){a.rail.drag&&2==a.rail.drag.pt&&(a.prepareTransition&&a.prepareTransition(0),a.rail.scrollable&&a.setScrollTop(d),a.scrollmom.update(c,o),a.railh&&a.railh.scrollable?(a.setScrollLeft(p),a.showCursor(d,p)):a.showCursor(d),f.isie10&&document.selection.clear())})),f.ischrome&&a.istouchcapable&&(g=!1),g)return a.cancelEvent(e)}}}if(a.onmousedown=function(e,t){if(!a.rail.drag||1==a.rail.drag.pt){if(a.locked)return a.cancelEvent(e);a.cancelScroll(),a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,pt:1,hr:!!t};var i=a.getTarget(e);return!a.ispage&&f.hasmousecapture&&i.setCapture(),a.isiframe&&!f.hasmousecapture&&(a.saved.csspointerevents=a.doc.css("pointer-events"),a.css(a.doc,{"pointer-events":"none"})),a.cancelEvent(e)}},a.onmouseup=function(e){if(a.rail.drag){if(f.hasmousecapture&&document.releaseCapture(),a.isiframe&&!f.hasmousecapture&&a.doc.css("pointer-events",a.saved.csspointerevents),1!=a.rail.drag.pt)return;return a.rail.drag=!1,a.cancelEvent(e)}},a.onmousemove=function(e){if(a.rail.drag){if(1!=a.rail.drag.pt)return;if(f.ischrome&&0==e.which)return a.onmouseup(e);if(a.cursorfreezed=!0,a.rail.drag.hr){a.scroll.x=a.rail.drag.sx+(e.clientX-a.rail.drag.x),a.scroll.x<0&&(a.scroll.x=0);var t=a.scrollvaluemaxw;a.scroll.x>t&&(a.scroll.x=t)}else{a.scroll.y=a.rail.drag.sy+(e.clientY-a.rail.drag.y),a.scroll.y<0&&(a.scroll.y=0);var i=a.scrollvaluemax;a.scroll.y>i&&(a.scroll.y=i)}return a.synched("mousemove",(function(){a.rail.drag&&1==a.rail.drag.pt&&(a.showCursor(),a.rail.drag.hr?a.doScrollLeft(Math.round(a.scroll.x*a.scrollratio.x),a.opt.cursordragspeed):a.doScrollTop(Math.round(a.scroll.y*a.scrollratio.y),a.opt.cursordragspeed))})),a.cancelEvent(e)}},f.cantouch||a.opt.touchbehavior)a.onpreventclick=function(e){if(a.preventclick)return a.preventclick.tg.onclick=a.preventclick.click,a.preventclick=!1,a.cancelEvent(e)},a.bind(a.win,"mousedown",a.ontouchstart),a.onclick=!f.isios&&function(e){return!a.lastmouseup||(a.lastmouseup=!1,a.cancelEvent(e))},a.opt.grabcursorenabled&&f.cursorgrabvalue&&(a.css(a.ispage?a.doc:a.win,{cursor:f.cursorgrabvalue}),a.css(a.rail,{cursor:f.cursorgrabvalue}));else{function M(e){if(a.selectiondrag){if(e){var t=a.win.outerHeight(),i=e.pageY-a.selectiondrag.top;i>0&&i<t&&(i=0),i>=t&&(i-=t),a.selectiondrag.df=i}if(0!=a.selectiondrag.df){var n=2*-Math.floor(a.selectiondrag.df/6);a.doScrollBy(n),a.debounced("doselectionscroll",(function(){M()}),50)}}}"getSelection"in document?a.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?a.hasTextSelected=function(){return"None"!=document.selection.type}:a.hasTextSelected=function(){return!1},a.onselectionstart=function(e){a.ispage||(a.selectiondrag=a.win.offset())},a.onselectionend=function(e){a.selectiondrag=!1},a.onselectiondrag=function(e){a.selectiondrag&&a.hasTextSelected()&&a.debounced("selectionscroll",(function(){M(e)}),250)}}f.hasmstouch&&(a.css(a.rail,{"-ms-touch-action":"none"}),a.css(a.cursor,{"-ms-touch-action":"none"}),a.bind(a.win,"MSPointerDown",a.ontouchstart),a.bind(document,"MSPointerUp",a.ontouchend),a.bind(document,"MSPointerMove",a.ontouchmove),a.bind(a.cursor,"MSGestureHold",(function(e){e.preventDefault()})),a.bind(a.cursor,"contextmenu",(function(e){e.preventDefault()}))),this.istouchcapable&&(a.bind(a.win,"touchstart",a.ontouchstart),a.bind(document,"touchend",a.ontouchend),a.bind(document,"touchcancel",a.ontouchend),a.bind(document,"touchmove",a.ontouchmove)),a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mouseup",a.onmouseup),a.railh&&(a.bind(a.cursorh,"mousedown",(function(e){a.onmousedown(e,!0)})),a.bind(a.cursorh,"mouseup",(function(e){if(!a.rail.drag||2!=a.rail.drag.pt)return a.rail.drag=!1,a.hasmoving=!1,a.hideCursor(),f.hasmousecapture&&document.releaseCapture(),a.cancelEvent(e)}))),(a.opt.cursordragontouch||!f.cantouch&&!a.opt.touchbehavior)&&(a.rail.css({cursor:"default"}),a.railh&&a.railh.css({cursor:"default"}),a.jqbind(a.rail,"mouseenter",(function(){a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0})),a.jqbind(a.rail,"mouseleave",(function(){a.rail.active=!1,a.rail.drag||a.hideCursor()})),a.opt.sensitiverail&&(a.bind(a.rail,"click",(function(e){a.doRailClick(e,!1,!1)})),a.bind(a.rail,"dblclick",(function(e){a.doRailClick(e,!0,!1)})),a.bind(a.cursor,"click",(function(e){a.cancelEvent(e)})),a.bind(a.cursor,"dblclick",(function(e){a.cancelEvent(e)}))),a.railh&&(a.jqbind(a.railh,"mouseenter",(function(){a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0})),a.jqbind(a.railh,"mouseleave",(function(){a.rail.active=!1,a.rail.drag||a.hideCursor()})),a.opt.sensitiverail&&(a.bind(a.railh,"click",(function(e){a.doRailClick(e,!1,!0)})),a.bind(a.railh,"dblclick",(function(e){a.doRailClick(e,!0,!0)})),a.bind(a.cursorh,"click",(function(e){a.cancelEvent(e)})),a.bind(a.cursorh,"dblclick",(function(e){a.cancelEvent(e)}))))),f.cantouch||a.opt.touchbehavior?(a.bind(f.hasmousecapture?a.win:document,"mouseup",a.ontouchend),a.bind(document,"mousemove",a.ontouchmove),a.onclick&&a.bind(document,"click",a.onclick),a.opt.cursordragontouch&&(a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mousemove",a.onmousemove),a.cursorh&&a.bind(a.cursorh,"mousedown",a.onmousedown),a.cursorh&&a.bind(a.cursorh,"mousemove",a.onmousemove))):(a.bind(f.hasmousecapture?a.win:document,"mouseup",a.onmouseup),a.bind(document,"mousemove",a.onmousemove),a.onclick&&a.bind(document,"click",a.onclick),!a.ispage&&a.opt.enablescrollonselection&&(a.bind(a.win[0],"mousedown",a.onselectionstart),a.bind(document,"mouseup",a.onselectionend),a.bind(a.cursor,"mouseup",a.onselectionend),a.cursorh&&a.bind(a.cursorh,"mouseup",a.onselectionend),a.bind(document,"mousemove",a.onselectiondrag)),a.zoom&&(a.jqbind(a.zoom,"mouseenter",(function(){a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0})),a.jqbind(a.zoom,"mouseleave",(function(){a.rail.active=!1,a.rail.drag||a.hideCursor()})))),a.opt.enablemousewheel&&(a.isiframe||a.bind(f.isie&&a.ispage?document:a.win,"mousewheel",a.onmousewheel),a.bind(a.rail,"mousewheel",a.onmousewheel),a.railh&&a.bind(a.railh,"mousewheel",a.onmousewheelhr)),a.ispage||f.cantouch||/HTML|BODY/.test(a.win[0].nodeName)||(a.win.attr("tabindex")||a.win.attr({tabindex:r++}),a.jqbind(a.win,"focus",(function(e){t=a.getTarget(e).id||!0,a.hasfocus=!0,a.canshowonmouseevent&&a.noticeCursor()})),a.jqbind(a.win,"blur",(function(e){t=!1,a.hasfocus=!1})),a.jqbind(a.win,"mouseenter",(function(e){i=a.getTarget(e).id||!0,a.hasmousefocus=!0,a.canshowonmouseevent&&a.noticeCursor()})),a.jqbind(a.win,"mouseleave",(function(){i=!1,a.hasmousefocus=!1})))}if(a.onkeypress=function(e){if(a.locked&&0==a.page.maxh)return!0;e=e||window.e;var n=a.getTarget(e),r;if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!(n.getAttribute("type")||n.type||!1)||!/submit|button|cancel/i.tp))return!0;if(a.hasfocus||a.hasmousefocus&&!t||a.ispage&&!t&&!i){var s=e.keyCode;if(a.locked&&27!=s)return a.cancelEvent(e);var o=e.ctrlKey||!1,l=e.shiftKey||!1,u=!1;switch(s){case 38:case 63233:a.doScrollBy(72),u=!0;break;case 40:case 63235:a.doScrollBy(-72),u=!0;break;case 37:case 63232:a.railh&&(o?a.doScrollLeft(0):a.doScrollLeftBy(72),u=!0);break;case 39:case 63234:a.railh&&(o?a.doScrollLeft(a.page.maxw):a.doScrollLeftBy(-72),u=!0);break;case 33:case 63276:a.doScrollBy(a.view.h),u=!0;break;case 34:case 63277:a.doScrollBy(-a.view.h),u=!0;break;case 36:case 63273:a.railh&&o?a.doScrollPos(0,0):a.doScrollTo(0),u=!0;break;case 35:case 63275:a.railh&&o?a.doScrollPos(a.page.maxw,a.page.maxh):a.doScrollTo(a.page.maxh),u=!0;break;case 32:a.opt.spacebarenabled&&(l?a.doScrollBy(a.view.h):a.doScrollBy(-a.view.h),u=!0);break;case 27:a.zoomactive&&(a.doZoom(),u=!0)}if(u)return a.cancelEvent(e)}},a.opt.enablekeyboard&&a.bind(document,f.isopera&&!f.isopera12?"keypress":"keydown",a.onkeypress),a.bind(window,"resize",a.lazyResize),a.bind(window,"orientationchange",a.lazyResize),a.bind(window,"load",a.lazyResize),f.ischrome&&!a.ispage&&!a.haswrapper){var T=a.win.attr("style"),D=parseFloat(a.win.css("width"))+1;a.win.css("width",D),a.synched("chromefix",(function(){a.win.attr("style",T)}))}a.onAttributeChange=function(e){a.lazyResize(250)},a.ispage||a.haswrapper||(!1!==m?(a.observer=new m((function(e){e.forEach(a.onAttributeChange)})),a.observer.observe(a.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),a.observerremover=new m((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(e.removedNodes[t]==a.win[0])return a.remove()}))})),a.observerremover.observe(a.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(a.bind(a.win,f.isie&&!f.isie9?"propertychange":"DOMAttrModified",a.onAttributeChange),f.isie9&&a.win[0].attachEvent("onpropertychange",a.onAttributeChange),a.bind(a.win,"DOMNodeRemoved",(function(e){e.target==a.win[0]&&a.remove()})))),!a.ispage&&a.opt.boxzoom&&a.bind(window,"resize",a.resizeZoom),a.istextarea&&a.bind(a.win,"mouseup",a.lazyResize),a.checkrtlmode=!0,a.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){function S(e){a.iframexd=!1;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document,i=t.domain}catch(e){a.iframexd=!0,t=!1}if(a.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(a.forcescreen=!0,a.isiframe&&(a.iframe={doc:l(t),html:a.doc.contents().find("html")[0],body:a.doc.contents().find("body")[0]},a.getContentSize=function(){return{w:Math.max(a.iframe.html.scrollWidth,a.iframe.body.scrollWidth),h:Math.max(a.iframe.html.scrollHeight,a.iframe.body.scrollHeight)}},a.docscroll=l(a.iframe.body)),!f.isios&&a.opt.iframeautoresize&&!a.isiframe){a.win.scrollTop(0),a.doc.height("");var n=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);a.doc.height(n)}a.lazyResize(30),f.isie7&&a.css(l(a.iframe.html),{"overflow-y":"hidden"}),a.css(l(a.iframe.body),{"overflow-y":"hidden"}),f.isios&&a.haswrapper&&(a.css(l(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),console.log(1)),"contentWindow"in this?a.bind(this.contentWindow,"scroll",a.onscroll):a.bind(t,"scroll",a.onscroll),a.opt.enablemousewheel&&a.bind(t,"mousewheel",a.onmousewheel),a.opt.enablekeyboard&&a.bind(t,f.isopera?"keypress":"keydown",a.onkeypress),(f.cantouch||a.opt.touchbehavior)&&(a.bind(t,"mousedown",a.ontouchstart),a.bind(t,"mousemove",(function(e){a.ontouchmove(e,!0)})),a.opt.grabcursorenabled&&f.cursorgrabvalue&&a.css(l(t.body),{cursor:f.cursorgrabvalue})),a.bind(t,"mouseup",a.ontouchend),a.zoom&&(a.opt.dblclickzoom&&a.bind(t,"dblclick",a.doZoom),a.ongesturezoom&&a.bind(t,"gestureend",a.ongesturezoom))}this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout((function(){S.call(a.doc[0],!1)}),500),a.bind(this.doc,"load",S)}},this.showCursor=function(e,t){a.cursortimeout&&(clearTimeout(a.cursortimeout),a.cursortimeout=0),a.rail&&(a.autohidedom&&(a.autohidedom.stop().css({opacity:a.opt.cursoropacitymax}),a.cursoractive=!0),a.rail.drag&&1==a.rail.drag.pt||(void 0!==e&&!1!==e&&(a.scroll.y=Math.round(1*e/a.scrollratio.y)),void 0!==t&&(a.scroll.x=Math.round(1*t/a.scrollratio.x))),a.cursor.css({height:a.cursorheight,top:a.scroll.y}),a.cursorh&&(!a.rail.align&&a.rail.visibility?a.cursorh.css({width:a.cursorwidth,left:a.scroll.x+a.rail.width}):a.cursorh.css({width:a.cursorwidth,left:a.scroll.x}),a.cursoractive=!0),a.zoom&&a.zoom.stop().css({opacity:a.opt.cursoropacitymax}))},this.hideCursor=function(e){a.cursortimeout||a.rail&&a.autohidedom&&(a.cursortimeout=setTimeout((function(){a.rail.active&&a.showonmouseevent||(a.autohidedom.stop().animate({opacity:a.opt.cursoropacitymin}),a.zoom&&a.zoom.stop().animate({opacity:a.opt.cursoropacitymin}),a.cursoractive=!1),a.cursortimeout=0}),e||a.opt.hidecursordelay))},this.noticeCursor=function(e,t,i){a.showCursor(t,i),a.rail.active||a.hideCursor(e)},this.getContentSize=a.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:a.haswrapper?function(){return{w:a.doc.outerWidth()+parseInt(a.win.css("paddingLeft"))+parseInt(a.win.css("paddingRight")),h:a.doc.outerHeight()+parseInt(a.win.css("paddingTop"))+parseInt(a.win.css("paddingBottom"))}}:function(){return{w:a.docscroll[0].scrollWidth,h:a.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!a.win)return!1;if(!a.haswrapper&&!a.ispage){if("none"==a.win.css("display"))return a.visibility&&a.hideRail().hideRailHr(),!1;a.hidden||a.visibility||a.showRail().showRailHr()}var i=a.page.maxh,n=a.page.maxw,r_h=a.view.h,r_w=a.view.w,l;if(a.view={w:a.ispage?a.win.width():parseInt(a.win[0].clientWidth),h:a.ispage?a.win.height():parseInt(a.win[0].clientHeight)},a.page=t||a.getContentSize(),a.page.maxh=Math.max(0,a.page.h-a.view.h),a.page.maxw=Math.max(0,a.page.w-a.view.w),a.page.maxh==i&&a.page.maxw==n&&a.view.w==r_w){if(a.ispage)return a;var s=a.win.offset();if(a.lastposition){var o=a.lastposition;if(o.top==s.top&&o.left==s.left)return a}a.lastposition=s}return 0==a.page.maxh?(a.hideRail(),a.scrollvaluemax=0,a.scroll.y=0,a.scrollratio.y=0,a.cursorheight=0,a.setScrollTop(0),a.rail.scrollable=!1):a.rail.scrollable=!0,0==a.page.maxw?(a.hideRailHr(),a.scrollvaluemaxw=0,a.scroll.x=0,a.scrollratio.x=0,a.cursorwidth=0,a.setScrollLeft(0),a.railh.scrollable=!1):a.railh.scrollable=!0,a.locked=0==a.page.maxh&&0==a.page.maxw,a.locked?(a.ispage||a.updateScrollBar(a.view),!1):(a.hidden||a.visibility?a.hidden||a.railh.visibility||a.showRailHr():a.showRail().showRailHr(),a.istextarea&&a.win.css("resize")&&"none"!=a.win.css("resize")&&(a.view.h-=20),a.cursorheight=Math.min(a.view.h,Math.round(a.view.h*(a.view.h/a.page.h))),a.cursorheight=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorheight),a.cursorwidth=Math.min(a.view.w,Math.round(a.view.w*(a.view.w/a.page.w))),a.cursorwidth=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorwidth),a.scrollvaluemax=a.view.h-a.cursorheight-a.cursor.hborder,a.railh&&(a.railh.width=a.page.maxh>0?a.view.w-a.rail.width:a.view.w,a.scrollvaluemaxw=a.railh.width-a.cursorwidth-a.cursorh.wborder),a.checkrtlmode&&a.railh&&(a.checkrtlmode=!1,a.opt.rtlmode&&0==a.scroll.x&&a.setScrollLeft(a.page.maxw)),a.ispage||a.updateScrollBar(a.view),a.scrollratio={x:a.page.maxw/a.scrollvaluemaxw,y:a.page.maxh/a.scrollvaluemax},a.getScrollTop()>a.page.maxh?a.doScrollTop(a.page.maxh):(a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x)),a.cursoractive&&a.noticeCursor()),a.scroll.y&&0==a.getScrollTop()&&a.doScrollTo(Math.floor(a.scroll.y*a.scrollratio.y)),a)},this.resize=a.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,a.delayed("resize",a.resize,e),a},this._bind=function(e,t,i,n){a.events.push({e:e,n:t,f:i,b:n,q:!1}),e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},this.jqbind=function(e,t,i){a.events.push({e:e,n:t,f:i,q:!0}),l(e).bind(t,i)},this.bind=function(e,t,i,n){var r="jquery"in e?e[0]:e;if("mousewheel"==t)if("onwheel"in a.win)a._bind(r,"wheel",i,n||!1);else{var s=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";x(r,s,i,n||!1),"DOMMouseScroll"==s&&x(r,"MozMousePixelScroll",i,n||!1)}else if(r.addEventListener){if(f.cantouch&&/mouseup|mousedown|mousemove/.test(t)){var o="mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove";a._bind(r,o,(function(e){var t;if(e.touches)e.touches.length<2&&((t=e.touches.length?e.touches[0]:e).original=e,i.call(this,t));else if(e.changedTouches){var t;(t=e.changedTouches[0]).original=e,i.call(this,t)}}),n||!1)}a._bind(r,t,i,n||!1),f.cantouch&&"mouseup"==t&&a._bind(r,"touchcancel",i,n||!1)}else a._bind(r,t,(function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==i.call(r,e)&&!1!==n||a.cancelEvent(e)}))},this._unbind=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<a.events.length;e++){var t=a.events[e];t.q?t.e.unbind(t.n,t.f):a._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){var e;return!!(e=e.original?e.original:e||(window.event||!1))&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1)},this.stopPropagation=function(e){var e;return!!(e=e.original?e.original:e||(window.event||!1))&&(e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1))},this.showRail=function(){return 0==a.page.maxh||!a.ispage&&"none"==a.win.css("display")||(a.visibility=!0,a.rail.visibility=!0,a.rail.css("display","block")),a},this.showRailHr=function(){return a.railh?(0==a.page.maxw||!a.ispage&&"none"==a.win.css("display")||(a.railh.visibility=!0,a.railh.css("display","block")),a):a},this.hideRail=function(){return a.visibility=!1,a.rail.visibility=!1,a.rail.css("display","none"),a},this.hideRailHr=function(){return a.railh?(a.railh.visibility=!1,a.railh.css("display","none"),a):a},this.show=function(){return a.hidden=!1,a.locked=!1,a.showRail().showRailHr()},this.hide=function(){return a.hidden=!0,a.locked=!0,a.hideRail().hideRailHr()},this.toggle=function(){return a.hidden?a.show():a.hide()},this.remove=function(){a.stop(),a.cursortimeout&&clearTimeout(a.cursortimeout),a.doZoomOut(),a.unbindAll(),f.isie9&&a.win[0].detachEvent("onpropertychange",a.onAttributeChange),!1!==a.observer&&a.observer.disconnect(),!1!==a.observerremover&&a.observerremover.disconnect(),a.events=null,a.cursor&&a.cursor.remove(),a.cursorh&&a.cursorh.remove(),a.rail&&a.rail.remove(),a.railh&&a.railh.remove(),a.zoom&&a.zoom.remove();for(var e=0;e<a.saved.css.length;e++){var t=a.saved.css[e];t[0].css(t[1],void 0===t[2]?"":t[2])}a.saved=!1,a.me.data("__nicescroll","");var i=l.nicescroll;for(var n in i.each((function(e){if(this&&this.id===a.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}})),a)a[n]=null,delete a[n];a=null},this.scrollstart=function(e){return this.onscrollstart=e,a},this.scrollend=function(e){return this.onscrollend=e,a},this.scrollcancel=function(e){return this.onscrollcancel=e,a},this.zoomin=function(e){return this.onzoomin=e,a},this.zoomout=function(e){return this.onzoomout=e,a},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var i=l(t),n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var i=l(t),n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n)&&t.clientHeight!=t.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;t=!!t.parentNode&&t.parentNode}return!1},this.onmousewheel=function(e){if(a.locked)return a.debounced("checkunlock",a.resize,250),!0;if(a.rail.drag)return a.cancelEvent(e);if("auto"==a.opt.oneaxismousemode&&0!=e.deltaX&&(a.opt.oneaxismousemode=!1),a.opt.oneaxismousemode&&0==e.deltaX&&!a.rail.scrollable)return!a.railh||!a.railh.scrollable||a.onmousewheelhr(e);var t=+new Date,i=!1;if(a.opt.preservenativescrolling&&a.checkarea+600<t&&(a.nativescrollingarea=a.isScrollable(e),i=!0),a.checkarea=t,a.nativescrollingarea)return!0;var n=k(e,!1,i);return n&&(a.checkarea=0),n},this.onmousewheelhr=function(e){if(a.locked||!a.railh.scrollable)return!0;if(a.rail.drag)return a.cancelEvent(e);var t=+new Date,i=!1;return a.opt.preservenativescrolling&&a.checkarea+600<t&&(a.nativescrollingarea=a.isScrollable(e),i=!0),a.checkarea=t,!!a.nativescrollingarea||(a.locked?a.cancelEvent(e):k(e,!0,i))},this.stop=function(){return a.cancelScroll(),a.scrollmon&&a.scrollmon.stop(),a.cursorfreezed=!1,a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.noticeCursor(),a},this.getTransitionSpeed=function(e){var t=Math.round(10*a.opt.scrollspeed),i=Math.min(t,Math.round(e/20*a.opt.scrollspeed));return i>20?i:0},a.opt.smoothscroll?a.ishwscroll&&f.hastransition&&a.opt.usetransition?(this.prepareTransition=function(e,t){var i=t?e>20?e:0:a.getTransitionSpeed(e),n=i?f.prefixstyle+"transform "+i+"ms ease-out":"";return a.lasttransitionstyle&&a.lasttransitionstyle==n||(a.lasttransitionstyle=n,a.doc.css(f.transitionstyle,n)),i},this.doScrollLeft=function(e,t){var i=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var n=a.getScrollTop(),r=a.getScrollLeft();return((a.newscrolly-n)*(t-n)<0||(a.newscrollx-r)*(e-r)<0)&&a.cancelScroll(),0==a.opt.bouncescroll&&(t<0?t=0:t>a.page.maxh&&(t=a.page.maxh),e<0?e=0:e>a.page.maxw&&(e=a.page.maxw)),(!a.scrollrunning||e!=a.newscrollx||t!=a.newscrolly)&&(a.newscrolly=t,a.newscrollx=e,a.newscrollspeed=i||!1,!a.timer&&void(a.timer=setTimeout((function(){var i=a.getScrollTop(),n=a.getScrollLeft(),r={};r.x=e-n,r.y=t-i,r.px=n,r.py=i;var s=Math.round(Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))),o=a.newscrollspeed&&a.newscrollspeed>1?a.newscrollspeed:a.getTransitionSpeed(s);if(a.newscrollspeed&&a.newscrollspeed<=1&&(o*=a.newscrollspeed),a.prepareTransition(o,!0),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm),o>0){if(!a.scrollrunning&&a.onscrollstart){var l={type:"scrollstart",current:{x:n,y:i},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:o};a.onscrollstart.call(a,l)}f.transitionend?a.scrollendtrapped||(a.scrollendtrapped=!0,a.bind(a.doc,f.transitionend,a.onScrollEnd,!1)):(a.scrollendtrapped&&clearTimeout(a.scrollendtrapped),a.scrollendtrapped=setTimeout(a.onScrollEnd,o));var u=i,c=n;a.timerscroll={bz:new BezierClass(u,a.newscrolly,o,0,0,.58,1),bh:new BezierClass(c,a.newscrollx,o,0,0,.58,1)},a.cursorfreezed||(a.timerscroll.tm=setInterval((function(){a.showCursor(a.getScrollTop(),a.getScrollLeft())}),60))}a.synched("doScroll-set",(function(){a.timer=0,a.scrollendtrapped&&(a.scrollrunning=!0),a.setScrollTop(a.newscrolly),a.setScrollLeft(a.newscrollx),a.scrollendtrapped||a.onScrollEnd()}))}),50)))},this.cancelScroll=function(){if(!a.scrollendtrapped)return!0;var e=a.getScrollTop(),t=a.getScrollLeft();return a.scrollrunning=!1,f.transitionend||clearTimeout(f.transitionend),a.scrollendtrapped=!1,a._unbind(a.doc,f.transitionend,a.onScrollEnd),a.prepareTransition(0),a.setScrollTop(e),a.railh&&a.setScrollLeft(t),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm),a.timerscroll=!1,a.cursorfreezed=!1,a.showCursor(e,t),a},this.onScrollEnd=function(){a.scrollendtrapped&&a._unbind(a.doc,f.transitionend,a.onScrollEnd),a.scrollendtrapped=!1,a.prepareTransition(0),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm),a.timerscroll=!1;var e=a.getScrollTop(),t=a.getScrollLeft();if(a.setScrollTop(e),a.railh&&a.setScrollLeft(t),a.noticeCursor(!1,e,t),a.cursorfreezed=!1,e<0?e=0:e>a.page.maxh&&(e=a.page.maxh),t<0?t=0:t>a.page.maxw&&(t=a.page.maxw),e!=a.newscrolly||t!=a.newscrollx)return a.doScrollPos(t,e,a.opt.snapbackspeed);if(a.onscrollend&&a.scrollrunning){var i={type:"scrollend",current:{x:t,y:e},end:{x:a.newscrollx,y:a.newscrolly}};a.onscrollend.call(a,i)}a.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var i=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var t=void 0===t||!1===t?a.getScrollTop(!0):t;if(a.timer&&a.newscrolly==t&&a.newscrollx==e)return!0;a.timer&&d(a.timer),a.timer=0;var n=a.getScrollTop(),r=a.getScrollLeft();((a.newscrolly-n)*(t-n)<0||(a.newscrollx-r)*(e-r)<0)&&a.cancelScroll(),a.newscrolly=t,a.newscrollx=e,a.bouncescroll&&a.rail.visibility||(a.newscrolly<0?a.newscrolly=0:a.newscrolly>a.page.maxh&&(a.newscrolly=a.page.maxh)),a.bouncescroll&&a.railh.visibility||(a.newscrollx<0?a.newscrollx=0:a.newscrollx>a.page.maxw&&(a.newscrollx=a.page.maxw)),a.dst={},a.dst.x=e-r,a.dst.y=t-n,a.dst.px=r,a.dst.py=n;var s=Math.round(Math.sqrt(Math.pow(a.dst.x,2)+Math.pow(a.dst.y,2)));a.dst.ax=a.dst.x/s,a.dst.ay=a.dst.y/s;var o=0,l=s;0==a.dst.x?(o=n,l=t,a.dst.ay=1,a.dst.py=0):0==a.dst.y&&(o=r,l=e,a.dst.ax=1,a.dst.px=0);var u=a.getTransitionSpeed(s);if(i&&i<=1&&(u*=i),a.bzscroll=u>0&&(a.bzscroll?a.bzscroll.update(l,u):new BezierClass(o,l,u,0,1,0,1)),!a.timer){(n==a.page.maxh&&t>=a.page.maxh||r==a.page.maxw&&e>=a.page.maxw)&&a.checkContentSize();var c=1;if(a.cancelAnimationFrame=!1,a.timer=1,a.onscrollstart&&!a.scrollrunning){var p={type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:u};a.onscrollstart.call(a,p)}f(),(n==a.page.maxh&&t>=n||r==a.page.maxw&&e>=r)&&a.checkContentSize(),a.noticeCursor()}function f(){if(a.cancelAnimationFrame)return!0;if(a.scrollrunning=!0,c=1-c)return a.timer=h(f)||1;var e=0,t=sy=a.getScrollTop(),i;a.dst.ay?(((i=(t=a.bzscroll?a.dst.py+a.bzscroll.getNow()*a.dst.ay:a.newscrolly)-sy)<0&&t<a.newscrolly||i>0&&t>a.newscrolly)&&(t=a.newscrolly),a.setScrollTop(t),t==a.newscrolly&&(e=1)):e=1;var n=sx=a.getScrollLeft(),i;a.dst.ax?(((i=(n=a.bzscroll?a.dst.px+a.bzscroll.getNow()*a.dst.ax:a.newscrollx)-sx)<0&&n<a.newscrollx||i>0&&n>a.newscrollx)&&(n=a.newscrollx),a.setScrollLeft(n),n==a.newscrollx&&(e+=1)):e+=1;if(2==e){if(a.timer=0,a.cursorfreezed=!1,a.bzscroll=!1,a.scrollrunning=!1,t<0?t=0:t>a.page.maxh&&(t=a.page.maxh),n<0?n=0:n>a.page.maxw&&(n=a.page.maxw),n!=a.newscrollx||t!=a.newscrolly)a.doScrollPos(n,t);else if(a.onscrollend){var r={type:"scrollend",current:{x:sx,y:sy},end:{x:a.newscrollx,y:a.newscrolly}};a.onscrollend.call(a,r)}}else a.timer=h(f)||1}},this.cancelScroll=function(){return a.timer&&d(a.timer),a.timer=0,a.bzscroll=!1,a.scrollrunning=!1,a}):(this.doScrollLeft=function(e,t){var i=a.getScrollTop();a.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=a.getScrollLeft();a.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var n=e>a.page.maxw?a.page.maxw:e;n<0&&(n=0);var r=t>a.page.maxh?a.page.maxh:t;r<0&&(r=0),a.synched("scroll",(function(){a.setScrollTop(r),a.setScrollLeft(n)}))},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var i=0,n;t?i=Math.floor((a.scroll.y-e)*a.scrollratio.y):i=(a.timer?a.newscrolly:a.getScrollTop(!0))-e;if(a.bouncescroll){var r=Math.round(a.view.h/2);i<-r?i=-r:i>a.page.maxh+r&&(i=a.page.maxh+r)}return a.cursorfreezed=!1,py=a.getScrollTop(!0),i<0&&py<=0?a.noticeCursor():i>a.page.maxh&&py>=a.page.maxh?(a.checkContentSize(),a.noticeCursor()):void a.doScrollTop(i)},this.doScrollLeftBy=function(e,t){var i=0,n;t?i=Math.floor((a.scroll.x-e)*a.scrollratio.x):i=(a.timer?a.newscrollx:a.getScrollLeft(!0))-e;if(a.bouncescroll){var r=Math.round(a.view.w/2);i<-r?i=-r:i>a.page.maxw+r&&(i=a.page.maxw+r)}return a.cursorfreezed=!1,px=a.getScrollLeft(!0),i<0&&px<=0?a.noticeCursor():i>a.page.maxw&&px>=a.page.maxw?a.noticeCursor():void a.doScrollLeft(i)},this.doScrollTo=function(e,t){var i=t?Math.round(e*a.scrollratio.y):e;i<0?i=0:i>a.page.maxh&&(i=a.page.maxh),a.cursorfreezed=!1,a.doScrollTop(e)},this.checkContentSize=function(){var e=a.getContentSize();e.h==a.page.h&&e.w==a.page.w||a.resize(!1,e)},a.onscroll=function(e){a.rail.drag||a.cursorfreezed||a.synched("scroll",(function(){a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.railh&&(a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x))),a.noticeCursor()}))},a.bind(a.docscroll,"scroll",a.onscroll),this.doZoomIn=function(e){if(!a.zoomactive){a.zoomactive=!0,a.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=a.win[0].style;for(var n in t){var r=t[n];a.zoomrestore.style[r]=void 0!==i[r]?i[r]:""}a.zoomrestore.style.width=a.win.css("width"),a.zoomrestore.style.height=a.win.css("height"),a.zoomrestore.padding={w:a.win.outerWidth()-a.win.width(),h:a.win.outerHeight()-a.win.height()},f.isios4&&(a.zoomrestore.scrollTop=l(window).scrollTop(),l(window).scrollTop(0)),a.win.css({position:f.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"});var s=a.win.css("backgroundColor");return(""==s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&a.win.css("backgroundColor","#fff"),a.rail.css({"z-index":o+101}),a.zoom.css({"z-index":o+102}),a.zoom.css("backgroundPosition","0px -18px"),a.resizeZoom(),a.onzoomin&&a.onzoomin.call(a),a.cancelEvent(e)}},this.doZoomOut=function(e){if(a.zoomactive)return a.zoomactive=!1,a.win.css("margin",""),a.win.css(a.zoomrestore.style),f.isios4&&l(window).scrollTop(a.zoomrestore.scrollTop),a.rail.css({"z-index":a.zindex}),a.zoom.css({"z-index":a.zindex}),a.zoomrestore=!1,a.zoom.css("backgroundPosition","0px 0px"),a.onResize(),a.onzoomout&&a.onzoomout.call(a),a.cancelEvent(e)},this.doZoom=function(e){return a.zoomactive?a.doZoomOut(e):a.doZoomIn(e)},this.resizeZoom=function(){if(a.zoomactive){var e=a.getScrollTop();a.win.css({width:l(window).width()-a.zoomrestore.padding.w+"px",height:l(window).height()-a.zoomrestore.padding.h+"px"}),a.onResize(),a.setScrollTop(Math.min(a.page.maxh,e))}},this.init(),l.nicescroll.push(this)},_=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,i){t.stop();var n=t.time();t.steptime=0,t.lasttime=n,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var n=t.time();t.steptime=n-t.lasttime,t.lasttime=n;var r=i-t.lasty,s=e-t.lastx,a,o,l=t.nc.getScrollTop()+r,u=t.nc.getScrollLeft()+s;t.snapx=u<0||u>t.nc.page.maxw,t.snapy=l<0||l>t.nc.page.maxh,t.speedx=s,t.speedy=r,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var n=!1;i<0?(i=0,n=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,n=!0),e<0?(e=0,n=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,n=!0),n&&t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed)},this.doMomentum=function(e){var i=t.time(),n=e?i+e:t.lasttime,r=t.nc.getScrollLeft(),s=t.nc.getScrollTop(),a=t.nc.page.maxh,o=t.nc.page.maxw;t.speedx=o>0?Math.min(60,t.speedx):0,t.speedy=a>0?Math.min(60,t.speedy):0;var l=n&&i-n<=60;(s<0||s>a||r<0||r>o)&&(l=!1);var u=!(!t.speedy||!l)&&t.speedy,c=!(!t.speedx||!l)&&t.speedx;if(u||c){var f=Math.max(16,t.steptime);if(f>50){var h=f/50;t.speedx*=h,t.speedy*=h,f=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var d=t.lastscrollx,p=t.lastscrolly,g=function(){var e=t.time()-i>600?.04:.02;t.speedx&&(d=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=d,(d<0||d>o)&&(e=.1)),t.speedy&&(p=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=p,(p<0||p>a)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){var e,i;t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=d,t.nc.setScrollLeft(d));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=p,t.nc.setScrollTop(p));t.timer||(t.nc.hideCursor(),t.doSnapy(d,p))})),t.demulxy<1?t.timer=setTimeout(g,f):(t.stop(),t.nc.hideCursor(),t.doSnapy(d,p))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,i){var n=l.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollTop():x.call(e)},set:function(e,t){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=this[0]&&l.data(this[0],"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each((function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(l(this),e)}))};var k=e.fn.scrollLeft;l.cssHooks.pageXOffset={get:function(e,t,i){var n=l.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollLeft():k.call(e)},set:function(e,t){var i=l.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):k.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=this[0]&&l.data(this[0],"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollLeft():k.call(this)}return this.each((function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):k.call(l(this),e)}))};var C=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var i=0,n=0;i<t.length;i++)e.call(t[i],n++);return t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(a=0;a<e.length;a++){var i=l.data(e[a],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};function M(e,t,i){for(var n=0;n<t.length;n++)i(e,t[n])}M(C.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new C(this):this[e]&&l.data(this[e],"__nicescroll")||!1;var t},e.extend(e.expr[":"],{nicescroll:function(e){return!!l.data(e,"__nicescroll")}}),l.fn.niceScroll=function(e,t){void 0===t&&("object"!=typeof e||"jquery"in e||(t=e,e=!1));var i=new C;void 0===t&&(t={}),e&&(t.doc=l(e),t.win=l(this));var n=!("doc"in t);return n||"win"in t||(t.win=l(this)),this.each((function(){var e=l(this).data("__nicescroll")||!1;e||(t.doc=n?l(this):t.doc,e=new w(t,l(this)),l(this).data("__nicescroll",e)),i.push(e)})),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},l.nicescroll||(l.nicescroll=new C,l.nicescroll.options=v)}(jQuery),function(e){jQuery.fn.extend({slimScroll:function(i){var n={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},r=e.extend(n,i);return this.each((function(){var n,s,a,o,l,u,c,f,h="<div></div>",d=30,p=!1,g=e(this);if(g.parent().hasClass(r.wrapperClass)){var m=g.scrollTop();if(w=g.parent().find("."+r.barClass),b=g.parent().find("."+r.railClass),M(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}if("scrollTo"in i)m=parseInt(r.scrollTo);else if("scrollBy"in i)m+=parseInt(r.scrollBy);else if("destroy"in i)return w.remove(),b.remove(),void g.unwrap();k(m,!1,!0)}}else{r.height="auto"==r.height?g.parent().height():r.height;var y=e(h).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});g.css({overflow:"hidden",width:r.width,height:r.height});var b=e(h).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),w=e(h).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),_="right"==r.position?{right:r.distance}:{left:r.distance};b.css(_),w.css(_),g.wrap(y),g.parent().append(w),g.parent().append(b),r.railDraggable&&w.bind("mousedown",(function(i){var n=e(document);return a=!0,t=parseFloat(w.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),k(0,w.position().top,!1)})),n.bind("mouseup.slimscroll",(function(e){a=!1,D(),n.unbind(".slimscroll")})),!1})).bind("selectstart.slimscroll",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),b.hover((function(){T()}),(function(){D()})),w.hover((function(){s=!0}),(function(){s=!1})),g.hover((function(){n=!0,T(),D()}),(function(){n=!1,D()})),g.bind("touchstart",(function(e,t){e.originalEvent.touches.length&&(l=e.originalEvent.touches[0].pageY)})),g.bind("touchmove",(function(e){var t;(p||e.originalEvent.preventDefault(),e.originalEvent.touches.length)&&(k((l-e.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),l=e.originalEvent.touches[0].pageY)})),M(),"bottom"===r.start?(w.css({top:g.outerHeight()-w.outerHeight()}),k(0,!0)):"top"!==r.start&&(k(e(r.start).position().top,null,!0),r.alwaysVisible||w.hide()),C()}function x(t){if(n){var t,i=0;(t=t||window.event).wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var s=t.target||t.srcTarget||t.srcElement;e(s).closest("."+r.wrapperClass).is(g.parent())&&k(i,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1)}}function k(e,t,i){p=!1;var n=e,s=g.outerHeight()-w.outerHeight();if(t&&(n=parseInt(w.css("top"))+e*parseInt(r.wheelStep)/100*w.outerHeight(),n=Math.min(Math.max(n,0),s),n=e>0?Math.ceil(n):Math.floor(n),w.css({top:n+"px"})),n=(c=parseInt(w.css("top"))/(g.outerHeight()-w.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),i){var a=(n=e)/g[0].scrollHeight*g.outerHeight();a=Math.min(Math.max(a,0),s),w.css({top:a+"px"})}g.scrollTop(n),g.trigger("slimscrolling",~~n),T(),D()}function C(){window.addEventListener?(this.addEventListener("DOMMouseScroll",x,!1),this.addEventListener("mousewheel",x,!1),this.addEventListener("MozMousePixelScroll",x,!1)):document.attachEvent("onmousewheel",x)}function M(){u=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),d),w.css({height:u+"px"});var e=u==g.outerHeight()?"none":"block";w.css({display:e})}function T(){if(M(),clearTimeout(o),c==~~c){if(p=r.allowPageScroll,f!=c){var e=0==~~c?"top":"bottom";g.trigger("slimscroll",e)}}else p=!1;f=c,u>=g.outerHeight()?p=!0:(w.stop(!0,!0).fadeIn("fast"),r.railVisible&&b.stop(!0,!0).fadeIn("fast"))}function D(){r.alwaysVisible||(o=setTimeout((function(){r.disableFadeOut&&n||s||a||(w.fadeOut("slow"),b.fadeOut("slow"))}),1e3))}})),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(e){e.fn.dcAccordion=function(t){var i={classActive:"active",eventType:"click",hoverDelay:300,menuClose:!0,autoClose:!0,autoExpand:!1,speed:"slow",saveState:!0,disableLink:!0,showCount:!1},t=e.extend(i,t);this.each((function(t){var n=this;if(a(),1==i.autoExpand&&e("li."+i.classExpand+" > a").addClass(i.classActive),h(),"hover"==i.eventType){var r={sensitivity:2,interval:i.hoverDelay,over:o,timeout:i.hoverDelay,out:l};e("li a",n).hoverIntent(r);var s={sensitivity:2,interval:1e3,over:u,timeout:1e3,out:c};e(n).hoverIntent(s),1==i.disableLink&&e("li a",n).click((function(t){e(this).siblings("ul").length>0&&t.preventDefault()}))}else e("li a",n).click((function(t){$activeLi=e(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==i.disableLink&&e(this).siblings("ul").length>0&&t.preventDefault(),1==i.autoClose&&f($parentsLi,$parentsUl),e("> ul",$activeLi).is(":visible")?(e("ul",$activeLi).slideUp(i.speed),e("a",$activeLi).removeClass(i.classActive)):(e(this).siblings("ul").slideToggle(i.speed),e("> a",$activeLi).addClass(i.classActive))}));function a(){$arrow='<span class="'+i.classArrow+'"></span>';var t=i.classParent+"-li";e("> ul",n).show(),e("li",n).each((function(){e("> ul",this).length>0&&(e(this).addClass(t),e("> a",this).addClass(i.classParent).append($arrow))})),e("> ul",n).hide(),1==i.showCount&&e("li."+t,n).each((function(){if(1==i.disableLink)var t=parseInt(e("ul a:not(."+i.classParent+")",this).length);else var t=parseInt(e("ul a",this).length);e("> a",this).append(' <span class="'+i.classCount+'">'+t+"</span>")}))}function o(){$activeLi=e(this).parent("li"),$parentsLi=$activeLi.parents("li"),$parentsUl=$activeLi.parents("ul"),1==i.autoClose&&f($parentsLi,$parentsUl),e("> ul",$activeLi).is(":visible")?(e("ul",$activeLi).slideUp(i.speed),e("a",$activeLi).removeClass(i.classActive)):(e(this).siblings("ul").slideToggle(i.speed),e("> a",$activeLi).addClass(i.classActive)),1==i.saveState&&createCookie(i.cookie,n)}function l(){}function u(){}function c(){1==i.menuClose&&(e("ul",n).slideUp(i.speed),e("a",n).removeClass(i.classActive),createCookie(i.cookie,n))}function f(t,r){e("ul",n).not(r).slideUp(i.speed),e("a",n).removeClass(i.classActive),e("> a",t).addClass(i.classActive)}function h(){e("ul",n).hide(),$allActiveLi=e("a."+i.classActive,n),$allActiveLi.siblings("ul").show()}}))}}(jQuery),function(e){var t,i="2.5.1",n=this,r=Math.round,s,a=0,o=1,l=2,u=3,c=4,f=5,h=6,d={},p={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},g="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,m=/^\/?Date\((\-?\d+)/i,v=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,y=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,b=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,w=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,_=/\d\d?/,x=/\d{1,3}/,k=/\d{1,4}/,C=/[+\-]?\d{1,6}/,M=/\d+/,T=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,D=/Z|[\+\-]\d\d:?\d\d/gi,S=/T/i,E=/[\+\-]?\d+(\.\d{1,3})?/,A=/\d/,I=/\d\d/,$=/\d{3}/,P=/\d{4}/,z=/[+-]?\d{6}/,N=/[+-]?\d+/,H=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O="YYYY-MM-DDTHH:mm:ssZ",L=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],j=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],F=/([\+\-]|\d\d)/gi,R="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),W={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Y={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},q={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},B={},U="DDD w W M D d".split(" "),Q="M D H h m s w W".split(" "),G={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return st(this.year()%100,2)},YYYY:function(){return st(this.year(),4)},YYYYY:function(){return st(this.year(),5)},YYYYYY:function(){var e=this.year(),t;return(e>=0?"+":"-")+st(Math.abs(e),6)},gg:function(){return st(this.weekYear()%100,2)},gggg:function(){return st(this.weekYear(),4)},ggggg:function(){return st(this.weekYear(),5)},GG:function(){return st(this.isoWeekYear()%100,2)},GGGG:function(){return st(this.isoWeekYear(),4)},GGGGG:function(){return st(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return dt(this.milliseconds()/100)},SS:function(){return st(dt(this.milliseconds()/10),2)},SSS:function(){return st(this.milliseconds(),3)},SSSS:function(){return st(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+st(dt(e/60),2)+":"+st(dt(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+st(dt(e/60),2)+st(dt(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},X=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function V(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function K(e,t){return function(i){return st(e.call(this,i),t)}}function Z(e,t){return function(i){return this.lang().ordinal(e.call(this,i),t)}}for(;U.length;)s=U.pop(),G[s+"o"]=Z(G[s],s);for(;Q.length;)s=Q.pop(),G[s+s]=K(G[s],2);function J(){}function et(e){yt(e),it(this,e)}function tt(e){var t=ft(e),i=t.year||0,n=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,o=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*o+36e5*a,this._days=+s+7*r,this._months=+n+12*i,this._data={},this._bubble()}function it(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function nt(e){var t={},i;for(i in e)e.hasOwnProperty(i)&&p.hasOwnProperty(i)&&(t[i]=e[i]);return t}function rt(e){return e<0?Math.ceil(e):Math.floor(e)}function st(e,t,i){for(var n=""+Math.abs(e),r=e>=0;n.length<t;)n="0"+n;return(r?i?"+":"":"-")+n}function at(e,i,n,r){var s=i._milliseconds,a=i._days,o=i._months,l,u;s&&e._d.setTime(+e._d+s*n),(a||o)&&(l=e.minute(),u=e.hour()),a&&e.date(e.date()+a*n),o&&e.month(e.month()+o*n),s&&!r&&t.updateOffset(e,a||o),(a||o)&&(e.minute(l),e.hour(u))}function ot(e){return"[object Array]"===Object.prototype.toString.call(e)}function lt(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function ut(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0,a;for(a=0;a<n;a++)(i&&e[a]!==t[a]||!i&&dt(e[a])!==dt(t[a]))&&s++;return s+r}function ct(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Y[e]||q[t]||t}return e}function ft(e){var t={},i,n;for(n in e)e.hasOwnProperty(n)&&(i=ct(n))&&(t[i]=e[n]);return t}function ht(i){var n,r;if(0===i.indexOf("week"))n=7,r="day";else{if(0!==i.indexOf("month"))return;n=12,r="month"}t[i]=function(s,a){var o,l,u=t.fn._lang[i],c=[];if("number"==typeof s&&(a=s,s=e),l=function(e){var i=t().utc().set(r,e);return u.call(t.fn._lang,i,s||"")},null!=a)return l(a);for(o=0;o<n;o++)c.push(l(o));return c}}function dt(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function pt(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function gt(e,i,n){return Ut(t([e,11,31+i-n]),i,n).week}function mt(e){return vt(e)?366:365}function vt(e){return e%4==0&&e%100!=0||e%400==0}function yt(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[1]<0||e._a[1]>11?1:e._a[2]<1||e._a[2]>pt(e._a[0],e._a[1])?2:e._a[3]<0||e._a[3]>23?3:e._a[4]<0||e._a[4]>59?4:e._a[5]<0||e._a[5]>59?5:e._a[6]<0||e._a[6]>999?6:-1,e._pf._overflowDayOfYear&&(t<0||t>2)&&(t=2),e._pf.overflow=t)}function bt(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function wt(e){return e?e.toLowerCase().replace("_","-"):e}function _t(e,i){return i._isUTC?t(e).zone(i._offset||0):t(e).local()}function xt(e,t){return t.abbr=e,d[e]||(d[e]=new J),d[e].set(t),d[e]}function kt(e){delete d[e]}function Ct(e){var i=0,n,r,s,a,o=function(e){if(!d[e]&&g)try{require("./lang/"+e)}catch(e){}return d[e]};if(!e)return t.fn._lang;if(!ot(e)){if(r=o(e))return r;e=[e]}for(;i<e.length;){for(n=(a=wt(e[i]).split("-")).length,s=(s=wt(e[i+1]))?s.split("-"):null;n>0;){if(r=o(a.slice(0,n).join("-")))return r;if(s&&s.length>=n&&ut(a,s,!0)>=n-1)break;n--}i++}return t.fn._lang}function Mt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Tt(e){var t=e.match(b),i,n;for(i=0,n=t.length;i<n;i++)G[t[i]]?t[i]=G[t[i]]:t[i]=Mt(t[i]);return function(r){var s="";for(i=0;i<n;i++)s+=t[i]instanceof Function?t[i].call(r,e):t[i];return s}}function Dt(e,t){return e.isValid()?(t=St(t,e.lang()),B[t]||(B[t]=Tt(t)),B[t](e)):e.lang().invalidDate()}function St(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(w.lastIndex=0;i>=0&&w.test(e);)e=e.replace(w,n),w.lastIndex=0,i-=1;return e}function Et(e,t){var i,n=t._strict;switch(e){case"DDDD":return $;case"YYYY":case"GGGG":case"gggg":return n?P:k;case"Y":case"G":case"g":return N;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?z:C;case"S":if(n)return A;case"SS":if(n)return I;case"SSS":if(n)return $;case"DDD":return x;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return T;case"a":case"A":return Ct(t._l)._meridiemParse;case"X":return E;case"Z":case"ZZ":return D;case"T":return S;case"SSSS":return M;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?I:_;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return _;default:return i=new RegExp(Ot(Ht(e.replace("\\","")),"i"))}}function At(e){var t=(e=e||"").match(D)||[],i,n=((t[t.length-1]||[])+"").match(F)||["-",0,0],r=60*n[1]+dt(n[2]);return"+"===n[0]?-r:r}function It(e,t,i){var n,r=i._a;switch(e){case"M":case"MM":null!=t&&(r[1]=dt(t)-1);break;case"MMM":case"MMMM":null!=(n=Ct(i._l).monthsParse(t))?r[1]=n:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[2]=dt(t));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=dt(t));break;case"YY":r[0]=dt(t)+(dt(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":r[0]=dt(t);break;case"a":case"A":i._isPm=Ct(i._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[3]=dt(t);break;case"m":case"mm":r[4]=dt(t);break;case"s":case"ss":r[5]=dt(t);break;case"S":case"SS":case"SSS":case"SSSS":r[6]=dt(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=At(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=t)}}function $t(e){var i,n,r=[],s,f,h,d,p,g,m,v;if(!e._d){for(s=zt(e),e._w&&null==e._a[2]&&null==e._a[1]&&(h=function(i){var n=parseInt(i,10);return i?i.length<3?n>68?1900+n:2e3+n:n:null==e._a[0]?t().weekYear():e._a[0]},null!=(d=e._w).GG||null!=d.W||null!=d.E?p=Qt(h(d.GG),d.W||1,d.E,4,1):(g=Ct(e._l),m=null!=d.d?Yt(d.d,g):null!=d.e?parseInt(d.e,10)+g._week.dow:0,v=parseInt(d.w,10)||1,null!=d.d&&m<g._week.dow&&v++,p=Qt(h(d.gg),v,m,g._week.doy,g._week.dow)),e._a[0]=p.year,e._dayOfYear=p.dayOfYear),e._dayOfYear&&(f=null==e._a[0]?s[0]:e._a[0],e._dayOfYear>mt(f)&&(e._pf._overflowDayOfYear=!0),n=Wt(f,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),i=0;i<3&&null==e._a[i];++i)e._a[i]=r[i]=s[i];for(;i<7;i++)e._a[i]=r[i]=null==e._a[i]?2===i?1:0:e._a[i];r[3]+=dt((e._tzm||0)/60),r[4]+=dt((e._tzm||0)%60),e._d=(e._useUTC?Wt:Rt).apply(null,r)}}function Pt(e){var t;e._d||(t=ft(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],$t(e))}function zt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Nt(e){e._a=[],e._pf.empty=!0;var t=Ct(e._l),i=""+e._i,n,r,s,a,o,l=i.length,c=0;for(s=St(e._f,t).match(b)||[],n=0;n<s.length;n++)a=s[n],(r=(i.match(Et(a,e))||[])[0])&&((o=i.substr(0,i.indexOf(r))).length>0&&e._pf.unusedInput.push(o),i=i.slice(i.indexOf(r)+r.length),c+=r.length),G[a]?(r?e._pf.empty=!1:e._pf.unusedTokens.push(a),It(a,r,e)):e._strict&&!r&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=l-c,i.length>0&&e._pf.unusedInput.push(i),e._isPm&&e._a[3]<12&&(e._a[3]+=12),!1===e._isPm&&12===e._a[3]&&(e._a[3]=0),$t(e),yt(e)}function Ht(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,r){return t||i||n||r}))}function Ot(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Lt(e){var t,i,n,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,(t=it({},e))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[r],Nt(t),bt(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==n||s<n)&&(n=s,i=t));it(e,i||t)}function jt(e){var t,i,n=e._i,r=H.exec(n);if(r){for(e._pf.iso=!0,t=0,i=L.length;t<i;t++)if(L[t][1].exec(n)){e._f=L[t][0]+(r[6]||" ");break}for(t=0,i=j.length;t<i;t++)if(j[t][1].exec(n)){e._f+=j[t][0];break}n.match(D)&&(e._f+="Z"),Nt(e)}else e._d=new Date(n)}function Ft(t){var i=t._i,n=m.exec(i);i===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof i?jt(t):ot(i)?(t._a=i.slice(0),$t(t)):lt(i)?t._d=new Date(+i):"object"==typeof i?Pt(t):t._d=new Date(i)}function Rt(e,t,i,n,r,s,a){var o=new Date(e,t,i,n,r,s,a);return e<1970&&o.setFullYear(e),o}function Wt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Yt(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e}function qt(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function Bt(e,t,i){var n=r(Math.abs(e)/1e3),s=r(n/60),a=r(s/60),o=r(a/24),l=r(o/365),u=n<45&&["s",n]||1===s&&["m"]||s<45&&["mm",s]||1===a&&["h"]||a<22&&["hh",a]||1===o&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",r(o/30)]||1===l&&["y"]||["yy",l];return u[2]=t,u[3]=e>0,u[4]=i,qt.apply({},u)}function Ut(e,i,n){var r=n-i,s=n-e.day(),a;return s>r&&(s-=7),s<r-7&&(s+=7),a=t(e).add("d",s),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Qt(e,t,i,n,r){var s=Wt(e,0,1).getUTCDay(),a,o;return{year:(o=7*(t-1)+((i=null!=i?i:r)-r)+(a=r-s+(s>n?7:0)-(s<r?7:0))+1)>0?e:e-1,dayOfYear:o>0?o:mt(e-1)+o}}function Gt(e){var i=e._i,n=e._f;return null===i?t.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=Ct().preparse(i)),t.isMoment(i)?(e=nt(i))._d=new Date(+i._d):n?ot(n)?Lt(e):Nt(e):Ft(e),new et(e))}for(G.DDDD=K(G.DDD,3),it(J.prototype,{set:function(e){var t,i;for(i in e)"function"==typeof(t=e[i])?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var i,n,r;for(this._monthsParse||(this._monthsParse=[]),i=0;i<12;i++)if(this._monthsParse[i]||(n=t.utc([2e3,i]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),this._monthsParse[i].test(e))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var i,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(n=t([2e3,1]).day(i),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[i].test(e))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Ut(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(t=function(t,i,n,r){var s;return"boolean"==typeof n&&(r=n,n=e),(s={})._isAMomentObject=!0,s._i=t,s._f=i,s._l=n,s._strict=r,s._isUTC=!1,s._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Gt(s)}).utc=function(t,i,n,r){var s;return"boolean"==typeof n&&(r=n,n=e),(s={})._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=n,s._i=t,s._f=i,s._strict=r,s._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Gt(s).utc()},t.unix=function(e){return t(1e3*e)},t.duration=function(e,i){var n=e,r=null,s,a,o;return t.isDuration(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(n={},i?n[i]=e:n.milliseconds=e):(r=v.exec(e))?(s="-"===r[1]?-1:1,n={y:0,d:dt(r[2])*s,h:dt(r[3])*s,m:dt(r[4])*s,s:dt(r[5])*s,ms:dt(r[6])*s}):(r=y.exec(e))&&(s="-"===r[1]?-1:1,n={y:(o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s})(r[2]),M:o(r[3]),d:o(r[4]),h:o(r[5]),m:o(r[6]),s:o(r[7]),w:o(r[8])}),a=new tt(n),t.isDuration(e)&&e.hasOwnProperty("_lang")&&(a._lang=e._lang),a},t.version=i,t.defaultFormat=O,t.updateOffset=function(){},t.lang=function(e,i){var n;return e?(i?xt(wt(e),i):null===i?(kt(e),e="en"):d[e]||Ct(e),(n=t.duration.fn._lang=t.fn._lang=Ct(e))._abbr):t.fn._lang._abbr},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),Ct(e)},t.isMoment=function(e){return e instanceof et||null!=e&&e.hasOwnProperty("_isAMomentObject")},t.isDuration=function(e){return e instanceof tt},s=X.length-1;s>=0;--s)ht(X[s]);function Xt(e,i){var n="date"===i||"month"===i||"year"===i;t.fn[e]=t.fn[e+"s"]=function(e,r){var s=this._isUTC?"UTC":"";return null==r&&(r=n),null!=e?(this._d["set"+s+i](e),t.updateOffset(this,r),this):this._d["get"+s+i]()}}for(t.normalizeUnits=function(e){return ct(e)},t.invalid=function(e){var i=t.utc(NaN);return null!=e?it(i._pf,e):i._pf.userInvalidated=!0,i},t.parseZone=function(){return t.apply(null,arguments).parseZone()},it(t.fn=et.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=t(this).utc();return 0<e.year()&&e.year()<=9999?Dt(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Dt(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return bt(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&ut(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0)},parsingFlags:function(){return it({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var i=Dt(this,e||t.defaultFormat);return this.lang().postformat(i)},add:function(e,i){var n;return at(this,n="string"==typeof e?t.duration(+i,e):t.duration(e,i),1),this},subtract:function(e,i){var n;return at(this,n="string"==typeof e?t.duration(+i,e):t.duration(e,i),-1),this},diff:function(e,i,n){var r=_t(e,this),s=6e4*(this.zone()-r.zone()),a,o;return"year"===(i=ct(i))||"month"===i?(a=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-t(this).startOf("month")-(r-t(r).startOf("month")))/a,o-=6e4*(this.zone()-t(this).startOf("month").zone()-(r.zone()-t(r).startOf("month").zone()))/a,"year"===i&&(o/=12)):(a=this-r,o="second"===i?a/1e3:"minute"===i?a/6e4:"hour"===i?a/36e5:"day"===i?(a-s)/864e5:"week"===i?(a-s)/6048e5:a),n?o:rt(o)},from:function(e,i){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=_t(t(),this).startOf("day"),i=this.diff(e,"days",!0),n=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return vt(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Yt(e,this.lang()),this.add({d:e-t})):t},month:function(e){var i=this._isUTC?"UTC":"",n;return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().monthsParse(e))?this:(n=Math.min(this.date(),pt(this.year(),e)),this._d["set"+i+"Month"](e,n),t.updateOffset(this,!0),this):this._d["get"+i+"Month"]()},startOf:function(e){switch(e=ct(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=ct(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,i){return i=void 0!==i?i:"millisecond",+this.clone().startOf(i)>+t(e).startOf(i)},isBefore:function(e,i){return i=void 0!==i?i:"millisecond",+this.clone().startOf(i)<+t(e).startOf(i)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+_t(e,this).startOf(t)},min:function(e){return(e=t.apply(null,arguments))<this?this:e},max:function(e){return(e=t.apply(null,arguments))>this?this:e},zone:function(e,i){i=null==i;var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=At(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,n!==e&&i&&at(this,t.duration(n-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?t(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return pt(this.year(),this.month())},dayOfYear:function(e){var i=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==e?i:this.add("d",e-i)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=Ut(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Ut(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=Ut(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return gt(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return gt(this.year(),e.dow,e.doy)},get:function(e){return this[e=ct(e)]()},set:function(e,t){return"function"==typeof this[e=ct(e)]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=Ct(t),this)}}),s=0;s<R.length;s++)Xt(R[s].toLowerCase().replace(/s$/,""),R[s]);function Vt(e){t.duration.fn[e]=function(){return this._data[e]}}function Kt(e,i){t.duration.fn["as"+e]=function(){return+this/i}}for(s in Xt("year","FullYear"),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.toJSON=t.fn.toISOString,it(t.duration.fn=tt.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data,r,s,a,o;n.milliseconds=e%1e3,r=rt(e/1e3),n.seconds=r%60,s=rt(r/60),n.minutes=s%60,a=rt(s/60),n.hours=a%24,t+=rt(a/24),n.days=t%30,i+=rt(t/30),n.months=i%12,o=rt(i/12),n.years=o},weeks:function(){return rt(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*dt(this._months/12)},humanize:function(e){var t=+this,i=Bt(t,!e,this.lang());return e&&(i=this.lang().pastFuture(t,i)),this.lang().postformat(i)},add:function(e,i){var n=t.duration(e,i);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,i){var n=t.duration(e,i);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return this[(e=ct(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=ct(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:t.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||r||s?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(s?s+"S":""):"P0D"}}),W)W.hasOwnProperty(s)&&(Kt(s,W[s]),Vt(s.toLowerCase()));function Zt(e){var i=!1,r=t;"undefined"==typeof ender&&(e?(n.moment=function(){return!i&&console&&console.warn&&(i=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),r.apply(null,arguments)},it(n.moment,r)):n.moment=t)}Kt("Weeks",6048e5),t.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},t.lang("en",{ordinal:function(e){var t=e%10,i;return e+(1===dt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),g?(module.exports=t,Zt(!0)):"function"==typeof define&&define.amd?define("moment",(function(i,n,r){return r.config&&r.config()&&!0!==r.config().noGlobal&&Zt(r.config().noGlobal===e),t})):Zt()}.call(this),t=function(e){return e},Util=function(){var e=this;e.chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e.startingChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e.generateId=function(t){t=t||32;for(var i="",n=e.startingChars,r=0;r<t;r+=1){r>0&&(n=e.chars),_.contains([7,11,15,19],r)&&(i+="-");var s=Math.floor(Math.random()*n.length);i+=n.substring(s,s+1)}return i},e.getHost=function(e){if(_.isString(e)){var t=URI.parse(e);return t.hostname?t.hostname.replace("www.",""):e}},e.truncate=function(e,t){return e.length>t?e.substring(0,t-3)+"...":e},e.traverseTree=function(e,t,i){function n(e){i&&t(e);var r=e.children;if(r&&(o=r.length))for(var s,a=-1,o;++a<o;)n(s=r[a]);i||t(e)}n(e,null)}},RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},ItemMan=function(){var e=this,t=!1,i={},n={};function r(){}e.get=function(e){return e?i[e]:i},e.query=function(e,t){var n=_.where(i,e);return t?n:n[0]},e.set=function(t){if(!t.id)throw"Any item should have an ID";if(i[t.id]=t,!t.parent&&"Root"!=t.id)throw"Any item should have a parent";return e.save(t),e.applyFilters(t),e.trigger("changed",t.id),t},e.save=function(i){var n=!i||("SuspendedTab"==i.type||"SuspendedGroup"==i.type);if(t&&n){var r=e.get("Suspended").data();chrome.storage.local.set({root:r})}},e.load=function(e){chrome.storage.local.get("root",(function(i){e(i.root),t=!0}))},e.remove=function(t){var n=i[t];if(n)return e.save(n),delete i[t],e.applyFilters(),e.trigger("changed",t),n.parent},e.addFilter=function(t,i){(t||i)&&(n[t]=i,e.applyFilters())},e.removeFilter=function(e){n[e]&&delete n[e]},e.applyFilters=function(e){e=e||_.values(i),_.isArray(e)||(e=[e]),_.values(n).forEach((function(t){t(e)}))}},_.extend(ItemMan.prototype,Backbone.Events),ActionMan=function(){var e=this;function t(t){e._instances.Open=new ActionOpen,e._instances.Close=new ActionClose,e._instances.Suspend=new ActionSuspend,e._instances.Restore=new ActionRestore,e._instances.Delete=new ActionDelete,e._instances.Search=new ActionSearch,e._activeNames=[],setTimeout((function(){var t;$gui.getCurrentView().getSelection().on("changed",e.update)}),100)}e._instances={},e.update=function(){var t=$app.view.getSelection().get();_.values(e._instances).forEach((function(e){e.evaluate(t)}))},e.get=function(t){return e._instances[t]},e.getActive=function(){return _.filter(e._instances,(function(e,t){return e.isEnabled()}))},e.set=function(t,i){return e._instances[t]=i},e.fire=function(t){var i=e._instances[t];if(null!=i){var n=Array.prototype.slice.call(arguments,1);i.apply.apply(e,n),$app.view.getSelection().clear()}},e.fireDefault=function(){var t=e._instances.default;return t&&t.apply(arguments),!!t},e.setDefaultAction=function(t){return e._instances.default=e._instances[t]},t()},Gui=function(){var e=this,t;function i(){t={treeContainer:$("#tree-container"),header:$("header.header")},e._view=new TreeView({elementName:"tree-container"}),e.toolbar=new Toolbar({elementName:"toolbar"}),e.tips=new Tips({elementName:"toolTipWrapper"}),e.navigation=new Navigation({elementName:"navigationControl"}),e.ItemsStatistics=new ItemsStatistics,e.actionsMenu=new ActionsMenu,$(window).resize((function(){n()})),n(),$("#container").on("click",e._view.contextMenu.hide)}function n(){var i=$(window).height()-t.header.height();t.treeContainer.height(i),e._view&&_.isFunction(e._view.setSize)&&e._view.setSize(null,i)}e.getCurrentView=function(){return e._view},$app.on("loaded",(function(){!0!==$app.getPreference("introShowed")&&($app.setPreference("introShowed",!0),$("#modalInfo").modal("show"))})),i()},Action=function(e){var t=this;function i(e){e=e||{},t._label=t.name,t._icon="/res/image/icon/Action.png",t.rightsContext=_.extend({noUser:!0,userLogged:!0,guestLogged:!1,read:!0,write:!1,adminOnly:!1},e.rightsContext)}t.apply=function(){t.deny||t.execute&&t.execute.apply(t,arguments)},t.execute=function(){},t.evaluate=function(e){if(_.isEmpty(e))return t.disable();var i=e[0].availableActions;if(_.contains(_.keys(i),t.name))return t.enable(),t.setLabel(i[t.name]),!0;t.disable()},t.canUndo=function(){return!!t.undo},t.isEnabled=function(){return!t.deny},t.setIcon=function(e){},t.setLabel=function(e,i){t._label=e},t.getLabel=function(){return t._label},t.hide=function(){t.deny=!0,t.trigger("hide")},t.show=function(){t.deny=!1,t.trigger("show")},t.disable=function(){t.deny||(t.deny=!0,t.trigger("disable"))},t.enable=function(){t.deny&&(t.deny=!1,t.trigger("enable"))},i(e)},_.extend(Action.prototype,Backbone.Events),Selection=function e(){var t=this,i=[];$item.on("changed",(function(e){$item.get(e)||t.remove(t.get(e))})),t.add=function(e){if(e&&"Item"==e.className){var n=e.select();_.isArray(n)||(n=_.compact([n])),_.isEmpty(n)||(_.isEmpty(i)||n[0].type==i[0].type||t.clear(),_.isEmpty(_.difference(n,i))||(i=_.union(i,n),t.trigger("changed",e)))}},t.get=function(e){return e?_.findWhere(i,{id:e}):i},t.getCount=function(){return i.length},t.remove=function(e){if(e&&e.selected){var n=e.deselect();i=_.without(i,n),t.trigger("changed",e)}},t.clear=function(){0!=i.length&&(i.forEach((function(e){e.deselect()})),i=[],t.trigger("changed"))}},_.extend(Selection.prototype,Backbone.Events),ActionRename=function(){var e=this;e.name="Rename",Action.call(this),e.execute=function(e){alert("Action is not implemented")},e.undo=function(){}},ActionRename.prototype=Object.create(Action.prototype),ActionClose=function(){var e=this;e.name="Close",Action.call(this),e.execute=function(){var e=$app.view,t=e.getSelection(),i=t.get();t.clear(),i.forEach((function(e){e.close()})),e.update()},e.undo=function(){}},ActionClose.prototype=Object.create(Action.prototype),ActionRestore=function(){var e=this;e.name="Restore",Action.call(this),e.execute=function(e){var t=$app.view;t.freeze();var i=t.getSelection(),n=i.get();i.clear();var r=n.length;function s(e){--r>0||(t.unfreeze(),t.update())}n.forEach((function(e){e.restore(s)}))},e.undo=function(){}},ActionRestore.prototype=Object.create(Action.prototype),ActionDelete=function(){var e=this;e.name="Delete",Action.call(this),e.execute=function(e){var t=$app.view,i=t.getSelection(),n=i.get();i.clear(),n.forEach((function(e){e.destruct()})),t.update()},e.undo=function(){}},ActionDelete.prototype=Object.create(Action.prototype),ActionOpen=function(){var e=this;e.name="Open",Action.call(this),e.execute=function(){var e=$app.view,t,i;e.getSelection().get().forEach((function(e){e.open()})),e.update()};var t=e.evaluate.bind();e.evaluate=function(i){i.length>1?e.disable():t(i)},e.undo=function(){}},ActionOpen.prototype=Object.create(Action.prototype),ActionSuspend=function(){var e=this;e.name="Suspend",Action.call(this),e.execute=function(e){var t=$app.view;t.freeze();var i=t.getSelection(),n=i.get();i.clear(),n.forEach((function(e){e.suspend()})),t.unfreeze(),t.update()},e.undo=function(){}},ActionSuspend.prototype=Object.create(Action.prototype),ActionSearch=function(){var e=this;function t(e,t){var n=new RegExp(RegExp.escape(t),"i");e.forEach((function(e){e.visibleCalculated=!1}));var r=_.where(e,{items:void 0});r.forEach((function(e){e.visible=!(!e.name.match(n)&&!e.url.match(n)),e.visibleCalculated=!0})),r.forEach((function(e){e.parent&&i(e.parent)})),e.forEach((function(e){delete e.visibleCalculated}))}function i(e){if(e.items){var t=_.where(e.items,{visibleCalculated:!1});if(t&&t.length>0)return;var n=_.where(e.items,{visible:!0});e.visible=n&&n.length>0,e.visibleCalculated=!0,e.parent&&i(e.parent)}}e.name="Search",Action.call(this),e.execute=function(e){if(_.isString(e)){var i=function(i){t(i,e)};$item.addFilter("Search",i),""==e&&$item.removeFilter("Search"),$app.view.update()}},e.evaluate=function(e){},e.undo=function(){}},ActionSearch.prototype=Object.create(Action.prototype);var Item=function(e){var t=this;function i(e){t.className="Item",t.type=t.className,e=e||{},t.id=$util.generateId(),t.name=null!=e.name?e.name:"Item",t.icon=null!=e.icon?e.icon:"/res/image/svg/Default.svg",null!=e.parent&&"Item"==e.parent.className&&(t.parent=e.parent),t.visible=null==e.visible||e.visible,t.availableActions={},t.selected=!1,t.origin=e.origin}t.update=function(e){$item.applyFilters(t)},t.fade=function(){},t.select=function(){return t.selected=!0,t},t.deselect=function(){return t.selected=!1,t},t.data=function(){return{name:t.name,icon:t.icon,type:t.type}},t.destruct=function(){var e=t.parent;return e&&e.remove(t),$item.remove(t.id),e},i(e)};Tab=function(e){Item.call(this,e);var t=this;function i(e){t.type="Tab",e=e||{},t.id=$util.generateId(),t.browserId=e.id,t.active=e.active,t.url=e.url,t.name=e.title,a(e.favIconUrl),t.availableActions={Open:"Open",Close:"Close",Suspend:"Suspend"},t.defaultAction="Open","MindTabs"==t.name&&delete t.availableActions.Suspend,t.parent=$item.query({browserId:e.windowId}),t.parent.addChild(t),$item.set(t)}var n=t.update.bind();t.update=function(e){return n(e),null!=e.active&&(t.active=e.active),null!=e.url&&(t.url=e.url),null!=e.favIconUrl&&a(e.favIconUrl),t.name=e.title||t.name,t.parent.update(),t};var r=t.select.bind();t.select=function(){if("MindTabs"!=t.name)return r()},t.open=function(){chrome.tabs.update(t.browserId,{active:!0}),t.parent.focused||t.parent.open()},t.move=function(e,i){var n={};"Window"==e.type&&(n.windowId=e.id),chrome.tabs.move(t.browserId,n)},t.suspend=function(){var e=t.data();e.origin=t.id;var i=new SuspendedTab(e);return t.close(),t.destruct(),i},t.close=function(){chrome.tabs.remove(t.browserId)};var s=t.data.bind({});function a(e){!e||e.match(/chrome:/)?t.icon="/res/image/svg/Default.svg":t.icon=e}t.data=function(){var e=s();if(e.url=t.url,"MindTabs"!=t.name)return e},i(e)},Bookmark=function(e){Item.call(this,e);var t=this;function i(e){t.availableActions={Open:"Open",Rename:"Rename",Delete:"Delete"},t.id=$util.generateId(),t.bookmarkId=e.id,t.name=e.title,t.isGroup=!!e.children,t.isGroup?(t.icon="/res/image/svg/Folder.svg",t._items=[],t.expanded=!1,t.modifiedAt=e.dateGroupModified,0==e.id&&(t.name="Bookmarks",t.icon="/res/image/icon/Bookmark.png")):t.url=e.url,t.createdAt=e.dateAdded,t.parent=$item.query({bookmarkId:e.parentId})||$item.get("Root"),t.parent._items.push(t),$item.set(t)}t.open=function(){t.isGroup?t.expanded=!0:chrome.tabs.create({url:t.url})},t.toggle=function(){t.expanded=!t.expanded},t.close=function(){t.isGroup&&(t.expanded=!1)},i(e)},Object.defineProperty(Bookmark.prototype,"items",{get:function(){if(this.expanded)return this._items}}),Object.defineProperty(Bookmark.prototype,"itemsVisible",{get:function(){if(this.expanded)return this._items},set:function(e){var t=this;return e.forEach((function(e){t.addChild(e,!0)})),this.update(),this._items}}),Group=function(e){Item.call(this,e);var t=this;function i(e){t.type="Group",e=e||{},t.isGroup=!0,t._items=[],t.expanded=null==e.expanded||e.expanded}t.update=function(){},t.addChild=function(e,i,n){if(!_.contains(t._items,e)){null==i&&(i=t._items.length);var r=e.parent;return n&&(t.expanded=!0),r&&r!=t&&r.remove(e),t._items.splice(i,0,e),e.parent=t,t.update(),e}},t.groupByHost=function(){var e=_.groupBy(t.leaves,(function(e){return $util.getHost(e.url)}));for(var i in e){var n=e[i];if("undefined"==i)return;if(1!==n.length){var r=$util.getHost(n[0].url);n=_.reject(n,(function(e){return"AutoGroup"==e.type})),t._items=_.difference(t._items,n);var s=AutoGroup.generateId(r,t.id),a=$item.get(s);a?t.addChild(a):a=new AutoGroup({url:r,parent:t}),n.forEach((function(e){a.addChild(e)}))}}},t.reposition=function(e,i){_.contains(t._items,e)&&(t._items=_.without(t._items,e),t._items.splice(i,0,e))},t.open=function(){t.expanded=!0,t.update()},t.toggle=function(){t.expanded=!t.expanded,t.update()},t.data=function(){var e=[];return t._items.forEach((function(t){var i=t.data();i&&(_.isArray(i)||(i=[i]),e=_.union(e,i))})),{name:t.name,items:e,expanded:t.expanded,type:t.type}},t.remove=function(e){if(e&&_.contains(t._items,e))return t._items=_.without(t._items,e),e.parent=null,!0};var n=t.destruct.bind();t.destruct=function(){t._items&&t._items.forEach((function(e){e.destruct()})),n()},i(e)},Object.defineProperty(Group.prototype,"items",{get:function(){return this._items}}),Object.defineProperty(Group.prototype,"leaves",{get:function(){var e=_.map(this._items,(function(e){return e.isGroup?e._items:e}));return _.flatten(e)}}),Object.defineProperty(Group.prototype,"itemsVisible",{get:function(){if(this.expanded)return _.where(this._items,{visible:!0})}}),AutoGroup=function(e){Group.call(this,e);var t=this;function i(e){t.type="AutoGroup";var i=t.parent=e.parent||$item.get("Root");t.url=t.name=e.url,t.id=AutoGroup.generateId(e.url,i.id),t.parent.addChild(t,null,!0),$item.set(t)}t.update=function(){t._items.forEach((function(e){$util.getHost(e.url)!=t.url&&t.parent.addChild(e)})),t.parent&&t.parent.update()};var n=t.addChild.bind({});t.addChild=function(e,i){$util.getHost(e.url)==t.url&&n(e,i)},t.groupByHost=function(){};var r=t.select.bind(t);t.select=function(){var e;return r(),_.map(t._items,(function(e){return e.select()}))};var s=t.deselect.bind();t.deselect=function(){var e;return s(),_.map(t._items,(function(e){return e.deselect()}))},t.data=function(){return _.map(t._items,(function(e){return e.data()}))};var a=t.remove.bind({});t.remove=function(e){a(e)&&1==t._items.length&&(t.parent.addChild(t._items[0]),t.destruct())},i(e)},AutoGroup.prototype=Object.create(Group.prototype),Object.defineProperty(AutoGroup.prototype,"selected",{get:function(){return _.reduce(this._items,(function(e,t){return e&&t.selected}),!0)}}),Object.defineProperty(AutoGroup.prototype,"suspended",{get:function(){return this.parent.suspended}}),Object.defineProperty(AutoGroup.prototype,"defaultAction",{get:function(){return this._items[0].defaultAction}}),Object.defineProperty(AutoGroup.prototype,"icon",{get:function(){if(!_.isEmpty(this._items))return this._items[0].icon}}),AutoGroup.generateId=function(e,t){return e.replace(".","_")+"-"+t},SuspendedTab=function(e){Item.call(this,e);var t=this;function i(e){t.type="SuspendedTab",t.suspended=!0,e=e||{},t.availableActions={Restore:"Restore",Delete:"Delete"},t.defaultAction="Restore",t.url=e.url,t.parent=e.parent||$item.get("Suspended"),t.parent.addChild(t,null,!0),$item.set(t)}var n=t.data.bind({});t.data=function(){var e=n();return e.url=t.url,e},t.restore=function(e,i){t.destruct();var n={active:!1,url:t.url};i&&(n.windowId=i.browserId),chrome.tabs.create(n,(function(i){var n=$item.query({browserId:i.id});n.origin=t.id,e(n)})),$item.save()},i(e)},SuspendedGroup=function(e){Group.call(this,e);var t=this;function i(e){t.type="SuspendedGroup",t.suspended=!0,e=e||{},t.availableActions={Restore:"Restore",Delete:"Delete"},t.defaultAction="Restore",t.icon="/res/image/svg/Window.svg",e.name||(t.name=(new moment).format("ddd, MMM Do, HH:mm")),t.parent=$item.get("Suspended"),t.parent.addChild(t,null,!0),r(e.items),$item.set(t)}t.update=function(){t.groupByHost(),$item.save()},t.restore=function(e){var i,n={url:_.map(t.leaves,(function(e){return e.url})),left:0};function r(i){var n=$item.query({browserId:i.id});n?(n.origin=t.id,e(n)):setTimeout((function(){r(i)}),100)}t.destruct(),chrome.windows.create(n,r)};var n=t.remove.bind();function r(e){e.forEach((function(e){e.parent=t,new SuspendedTab(e)}))}t.remove=function(e){n(e)&&0==t._items.length&&t.destruct()},i(e)},SuspendedGroup.prototype=Object.create(Group.prototype),SuspendedRoot=function(e){if(SuspendedRoot.prototype._instance)return SuspendedRoot.prototype._instance;SuspendedRoot.prototype._instance=this,Group.call(this,e);var t=this;function i(e){t.type="SuspendedRoot",t.suspended=!0,e=e||{},t.availableActions={},t.id="Suspended",t.name="Suspended",t.icon="/res/image/svg/Suspend.svg",t.parent=$item.get("Root"),t.parent.addChild(t),$item.set(t),n(e.items)}function n(e){e&&e.forEach((function(e){"SuspendedTab"==e.type?new SuspendedTab(e):"SuspendedGroup"==e.type&&new SuspendedGroup(e)}))}t.update=function(){t.groupByHost(),$item.save()},t.select=function(){},i(e)},SuspendedRoot.prototype=Object.create(Group.prototype),Window=function(e){Group.call(this,e);var t=this;function i(e){t.type="Window",t.availableActions={Open:"Open",Close:"Close",Suspend:"Suspend"},t.defaultAction="Open",t.id=$util.generateId(),t.browserId=e.id,n(),t.windowType=e.type,t.focused=e.focused,t.icon="/res/image/svg/Window.svg",t.parent=e.parent||$item.get("Root"),t.parent.addChild(t),$item.set(t),r(e.tabs)}function n(){t.name="Window: ";var e=_.findWhere(t.leaves,{active:!0});e&&(t.name+=e.name)}function r(e){_.each(e,(function(e){var i=$item.query({browserId:e.id});i?t.addChild(i):new Tab(e)}))}t.update=function(e){return e=e||{},t.focused=e.focused,n(),t.groupByHost(),t},t.open=function(){chrome.windows.update(t.browserId,{focused:!0})},t.suspend=function(){var e=$item.query({name:"MindTabs"}),i=$item.query({type:"Window",windowType:"normal"},!0),n=!(_.contains(t._items,e)&&1==i.length);if(n||1!=t.leaves.length){var r=_.without(t.leaves,e),s=t.data();s.origin=t.id;var a=new SuspendedGroup(s);return n?t.close():r.forEach((function(e){e.close()})),a}},t.close=function(){var e;($item.query({type:"Window",windowType:"normal"},!0).length>1||confirm("You are closing last window. Do you want to quit Chrome?"))&&chrome.windows.remove(t.browserId)},i(e)},Window.prototype=Object.create(Group.prototype),Root=function(e){if(Root.prototype._instance)return Root.prototype._instance;Root.prototype._instance=this,Group.call(this);var t=this,i={};function n(e){t.type=t.id="Root",t.availableActions={Close:"Close"},t.name="Chrome",t.icon="/res/image/svg/Chrome.svg",t.iconRound=!0,$item.set(t),s(),a()}t.update=function(){i.windows&&i.suspendedItems&&$app.view.update(t)};var r=t.addChild.bind();function s(){chrome.windows.getAll({populate:!0},(function(e){_.each(e,(function(e){new Window(e)})),i.windows=!0,t.update()}))}function a(){$item.load((function(e){new SuspendedRoot(e),i.suspendedItems=!0,t.update()}))}function o(){chrome.bookmarks.getTree((function(e){function i(e){e.type="Bookmark",$item.set(e)}$util.traverseTree(e[0],i,!0);var n=$item.query({bookmarkId:"0"});t.addChild(n)}))}t.addChild=function(e){if(r(e)){var i=$item.get("Suspended");return i&&e!=i&&(t._items=_.without(t._items,i),t._items.push(i)),e}},t.close=function(){t._items.forEach((function(e){"Window"==e.type&&e.close()}))},n(e)},Root.prototype=Object.create(Group.prototype),Toolbar=function(e){var t=this;function i(){t.p=e||{},t.elementName=e.elementName,m(),n()}function n(){r(),$("#factoryReset").click((function(){confirm("You're about total reset. All saved data and settings will be deleted. Proceed?")&&(chrome.storage.local.clear(),location.reload())})),$(".searchControl").keyup(_.debounce((function(){$act.fire("Search",$(this).val())}),500))}function m(){$("#themeSwitch").click((function(){"dark"==$("html").attr("data-theme")?$("html").attr("data-theme","light"):$("html").attr("data-theme","dark")}))}function r(){$(".sidebar-toggle-box .mdi-menu").click((function(e){$(".leftside-navigation").niceScroll({cursorcolor:"#1FB5AD",cursorborder:"0px solid #fff",cursorborderradius:"0px",cursorwidth:"3px"}),$(".brand").toggleClass("hide-left-bar"),$("#sidebar").toggleClass("hide-left-bar"),$("#sidebar").hasClass("hide-left-bar")&&$(".leftside-navigation").getNiceScroll().hide(),$(".leftside-navigation").getNiceScroll().show(),$("#main-content").toggleClass("merge-left"),e.stopPropagation(),$("#container").hasClass("open-right-panel")&&$("#container").removeClass("open-right-panel"),$(".right-sidebar").hasClass("open-right-bar")&&$(".right-sidebar").removeClass("open-right-bar"),$(".header").hasClass("merge-header")&&$(".header").removeClass("merge-header");var t=$(".brand").hasClass("hide-left-bar");$app.setPreference("leftMenuMinimized",t)}))}$app.on("loaded",(function(){!0===$app.getPreference("leftMenuMinimized")&&$(".sidebar-toggle-box .mdi-menu").trigger("click")})),i()},Navigation=function(e){var t=this,i=e.elementName;function n(e){$("."+i).click((function(){$app.view.pan($(this).attr("data-direction"))})),$(".transformScale").click((function(){$app.view.transformScale($(this).attr("data-direction"))})),$(document).keydown(r)}function r(e){if("input"!=e.target.tagName.toLowerCase()){var t=null,i=null;switch(e.keyCode){case 37:t="left";break;case 38:t="up";break;case 39:t="right";break;case 40:t="down"}if(t)return $app.view.pan(t),!1;switch(e.keyCode){case 189:i="zoom-out";break;case 187:i="zoom-in";break;case 109:i="zoom-out";break;case 107:i="zoom-in"}return i?($app.view.transformScale(i),!1):void 0}}n(e)},ContextMenu=function(e){var t=this,i=["Close","Delete","Open","Restore","Suspend"];function n(e){t.p=e,t.elementName=e.elementName,$.contextMenu({selector:"."+t.elementName,build:r})}function r(e){var t=$act.getActive(),n={};return t.forEach((function(e){var t=e.name;_.contains(i,t)&&(n[t]={name:t,callback:s})})),{items:n}}function s(e){$act.fire(e)}t.show=function(e){$("#"+e.id).contextMenu(d3.event)},t.hide=function(){$("#context-menu-layer").trigger("mousedown")},n(e)},Tips=function(e){var t=this;t.p=e||{},t.elementName=e.elementName,t.$tipsWrapper=$("."+t.elementName),$("#tipsCarousel").carousel({interval:!1}),$(document).on("mouseleave","#tipsCarousel",(function(){$(this).carousel("pause")})),$app.on("loaded",(function(){if(1!=$app.getPreference("hideTips"))if(!0!==$app.getPreference("minimizeTips")){var e=$(".toolTipWrapper .mdi-arrow-expand-up"),i=e.parents(".panel").children(".panel-body");e.removeClass("mdi-arrow-expand-up").addClass("mdi-arrow-expand-down"),i.slideDown(0,(function(){t.$tipsWrapper.fadeIn()}))}else t.$tipsWrapper.fadeIn()})),t.$tipsWrapper.find("*[class*='mdi-arrow-expand-']").click((function(e){var t;e.stopPropagation(),e.preventDefault(),$(this).hasClass("panel-toggler")&&$app.setPreference("minimizeTips",!$app.getPreference("minimizeTips"))})),t.$tipsWrapper.find(".mdi-bell-off-outline.panel-toggler").click((function(e){e.stopPropagation(),e.preventDefault(),$app.setPreference("hideTips",!0)}))},ItemsStatistics=function(){function e(){var e=$("header .notify-row.top-menu .badge"),t=e.eq(0),i=e.eq(1),n=e.eq(2);$item.on("changed",(function(){var e=$item.query({type:"Window"},!0),r=$item.query({type:"Tab"},!0),s=$item.query({type:"SuspendedTab"},!0);t.text(e.length),i.text(r.length),n.text(s.length)}))}e()},ActionsMenu=function(e){var t=this,i=["Close","Delete","Open","Restore","Suspend"];function n(){i.forEach((function(e){var t=$act.get(e);t.on("enable",r),t.on("disable",s),$("#btn"+e).click(a),t.disable()}))}function r(){var e=this;$("#btn"+e.name).removeClass("disabled"),$("#btn"+e.name+" .actionName").html(e.getLabel())}function s(){var e;$("#btn"+this.name).addClass("disabled")}function a(){var e=$(this);$act.fire(e.attr("data-action"))}n()},$(document).ready((function(){$((function(){$("#nav-accordion").dcAccordion({eventType:"click",autoClose:!0,saveState:!0,disableLink:!0,speed:"slow",showCount:!1,autoExpand:!0})}));var script=function(){$(".toggle-right-box .mdi-menu").click((function(e){$("#container").toggleClass("open-right-panel"),$(".right-sidebar").toggleClass("open-right-bar"),$(".header").toggleClass("merge-header"),e.stopPropagation()})),$(".header,#main-content,#sidebar").click((function(){$("#container").hasClass("open-right-panel")&&$("#container").removeClass("open-right-panel"),$(".right-sidebar").hasClass("open-right-bar")&&$(".right-sidebar").removeClass("open-right-bar"),$(".header").hasClass("merge-header")&&$(".header").removeClass("merge-header")})),$((function(){$(".leftside-navigation").niceScroll({cursorcolor:"#1FB5AD",cursorborder:"0px solid #fff",cursorborderradius:"0px",cursorwidth:"3px"}),$(".leftside-navigation").getNiceScroll().resize(),$("#sidebar").hasClass("hide-left-bar")&&$(".leftside-navigation").getNiceScroll().hide(),$(".leftside-navigation").getNiceScroll().show(),$(".right-stat-bar").niceScroll({cursorcolor:"#1FB5AD",cursorborder:"0px solid #fff",cursorborderradius:"0px",cursorwidth:"3px"})})),jQuery("*[class*='mdi-arrow-expand-']").click((function(){var e=$(this);if(e.hasClass("panel-toggler")){var t=e.parents(".panel").children(".panel-body");e.hasClass("mdi-arrow-expand-down")?(e.removeClass("mdi-arrow-expand-down").addClass("mdi-arrow-expand-up"),t.slideUp(200)):(e.removeClass("mdi-arrow-expand-up").addClass("mdi-arrow-expand-down"),t.slideDown(200))}})),$(".panel .tools .mdi-bell-off-outline").click((function(){$(this).parents(".panel").remove()})),$(".tooltips").tooltip(),$(".popovers").popover(),$((function(){var sparkLine=function(){$(".sparkline").each((function(){var $data=$(this).data();"pie"==$data.type&&$data.sliceColors&&($data.sliceColors=eval($data.sliceColors)),"bar"==$data.type&&$data.stackedBarColor&&($data.stackedBarColor=eval($data.stackedBarColor)),$data.valueSpots={"0:":$data.spotColor},$(this).sparkline($data.data||"html",$data),$(this).data("compositeData")&&($spdata=$(this).data("compositeConfig"),$spdata.composite=!0,$spdata.minSpotColor=!1,$spdata.maxSpotColor=!1,$spdata.valueSpots={"0:":$spdata.spotColor},$(this).sparkline($(this).data("compositeData"),$spdata))}))},sparkResize;$(window).resize((function(e){clearTimeout(sparkResize),sparkResize=setTimeout((function(){sparkLine(!0)}),500)})),sparkLine(!1)})),$((function(){$(".widget-head").click((function(e){var t=$(this).children(".widget-collapse").children("i");$(this).next(".widget-container").slideToggle("slow"),$(t).hasClass("ico-minus")?($(t).removeClass("ico-minus"),$(t).addClass("ico-plus")):($(t).removeClass("ico-plus"),$(t).addClass("ico-minus")),e.preventDefault()}))}))}()})),DragNDrop=function(e,t){var i=this,n,r=null,s=null,e=e,t=t,a=200,o=20,l,u,c=!1,f,h;function d(){n=d3.layout.tree().children((function(e){return e.items})),i.listener=d3.behavior.drag().on("dragstart",p).on("drag",g).on("dragend",m)}function p(e){"Root"==e.type||e.isGroup||1==d3.event.sourceEvent.which&&(c=!0,l=n.nodes(e),d3.event.sourceEvent.stopPropagation())}function g(e){if("Root"!=e.type&&!e.isGroup){c&&v(e,f=this);var t=d3.mouse($("svg").get(0)),i;if(t[0]<o)h=!0,w(this,"left");else if(t[0]>$("svg").width()-o)h=!0,w(this,"right");else if(t[1]<o)h=!0,w(this,"up");else if(t[1]>$("svg").height()-o)h=!0,w(this,"down");else try{clearTimeout(h)}catch(e){}e.x0+=d3.event.dy,e.y0+=d3.event.dx,d3.select(this).attr("transform","translate("+e.y0+","+e.x0+")"),b()}}function m(e){if("Root"!=e.type&&!e.isGroup)if(f=this,r){var t=s.parent.items.indexOf(s);t>-1&&s.parent.items.splice(t,1),void 0!==r.items||void 0!==r._items?void 0!==r.items?r.items.push(s):r._items.push(s):(r.items=[],r.items.push(s)),y()}else y()}function v(t,i){if(s=t,d3.selectAll(".ghostCircle").classed("show",!0),d3.select(i).select(".ghostCircle").attr("pointer-events","none").classed("show",!1),d3.select(i).classed("activeDrag",!0),e.selectAll("g.node").sort((function(e,t){return e.id!=s.id?1:-1})),l.length>1){u=n.links(l);var r=e.selectAll("path.link").data(u,(function(e){return e.target.id})).remove(),a=e.selectAll("g.node").data(l,(function(e){return e.id})).filter((function(e,t){return e.id!=s.id})).remove()}var o=n.links(n.nodes(s.parent));e.selectAll("path.link").filter((function(e,t){return e.target.id==s.id})).remove(),c=null}function y(){r=null,d3.selectAll(".ghostCircle").classed("show",!1),d3.select(f).classed("activeDrag",!1),d3.select(f).select(".ghostCircle").attr("pointer-events",""),b(),null!==s&&($app.view.update(),s=null)}function b(){var t=[];null!==s&&null!==r&&(t=[{source:{x:r.y0,y:r.x0},target:{x:s.y0,y:s.x0}}]);var i=e.selectAll(".templink").data(t);i.enter().append("path").attr("class","templink").attr("d",d3.svg.diagonal()).attr("pointer-events","none"),i.attr("d",d3.svg.diagonal()),i.exit().remove()}function w(i,n){var r=a;h&&(clearTimeout(h),translateCoords=d3.transform(e.attr("transform")),"left"==n||"right"==n?(translateX="left"==n?translateCoords.translate[0]+r:translateCoords.translate[0]-r,translateY=translateCoords.translate[1]):"up"!=n&&"down"!=n||(translateX=translateCoords.translate[0],translateY="up"==n?translateCoords.translate[1]+r:translateCoords.translate[1]-r),scaleX=translateCoords.scale[0],scaleY=translateCoords.scale[1],scale=t.scale(),e.transition().attr("transform","translate("+translateX+","+translateY+")scale("+scale+")"),d3.select(i).select("g.node").attr("transform","translate("+translateX+","+translateY+")"),t.scale(t.scale()),t.translate([translateX,translateY]),h=setTimeout((function(){w(i,r,n)}),50))}i.overCircle=function(e){r=e,b()},i.outCircle=function(e){r=null,b()},d()},TreeView=function(e){var t=this,i=e.elementName;t._frozen=!1;var n=0,r=30,s=0,a=750,o=250,l=60,u=200,c,f=new Selection,h=null,d=$("#"+i).width(),p=$("#"+i).height(),g=80,m,v,y,b,w=d3.layout.tree().children((function(e){return e.itemsVisible})).size([p,d]),x=d3.svg.diagonal().projection((function(e){return[e.y,e.x]})),k={};function C(e){d3.select("#"+i).on("click",D).on("contextmenu",S),m=d3.behavior.zoom().scaleExtent([.1,3]).on("zoom",H).translate([g,p/2]).scale(1),t.svg=v=d3.select("#"+i).append("svg").attr("width",d).attr("height",p).attr("class","overlay").call(m).on("dblclick.zoom",null).on("mousewheel.zoom",null),y=v.append("g"),f.on("changed",t.update)}function M(e){f.clear(),L(e),e.defaultAction&&$act.fire(e.defaultAction)}function T(e){t.contextMenu.hide(),d3.event.stopPropagation(),$act.fireDefault()||(e.isGroup?(e.toggle(),t.update(e),t.pan([0,k[e.id].x-e.x])):L(e))}function D(e){t.contextMenu.hide(),f.clear()}function S(e){t.contextMenu.hide(),d3.event.preventDefault(),d3.event.stopPropagation(),f.clear()}function E(e){t.contextMenu.hide(),d3.event.preventDefault(),d3.event.stopPropagation(),e.selected||(f.clear(),L(e)),_.isEmpty(f.get())||t.contextMenu.show(e)}function A(e,t){return k.Root?e?(t||(t=e.parent),!k[e.id]&&e.origin?k[e.id]=k[e.origin]:(k[t.id]?k[e.id]={x:k[t.id].x,y:k[t.id].y}:"Root"!=t.type&&A(e,t.parent),k[e.id])):console.log("Specify item to init coords"):k.Root={x:0,y:g}}function I(e){return $util.truncate(e,r)}function P(e){return!_.isEmpty(e.itemsVisible)||e._items?-30:10}function z(e){return!_.isEmpty(e.itemsVisible)||e._items?"end":"start"}function N(){w.sort((function(e,t){return t.name.toLowerCase()<e.name.toLowerCase()?1:-1}))}function H(e){t.contextMenu.hide();var i="translate("+m.translate()+")scale("+m.scale()+")";e?y.transition().duration(a).attr("transform",i):y.attr("transform",i)}function O(e){scale=m.scale();var t=-e.x,i=-e.y;t=t*scale+d/2,i=i*scale+p/2,d3.select("g").transition().duration(a).attr("transform","translate("+t+","+i+")scale("+scale+")"),m.scale(scale),m.translate([t,i])}function L(e){e&&(e.selected?f.remove(e):f.add(e))}t.contextMenu=new ContextMenu({elementName:"node"}),t.setSize=function(e,i){e&&(d=e),i&&(p=i),t.svg.attr("height",p),t.svg.attr("width",d)},t.update=function(e){if(e||(e=c),e&&!t._frozen){if(!c&&"Root"==e.id){c=e;var i=!0}var n=[1],r=function(e,t){t.children=t.itemsVisible;var i=t.itemsVisible;i&&i.length>0&&(n.length<=e+1&&n.push(0),n[e+1]+=i.length,i.forEach((function(t){r(e+1,t)})))};r(0,c);var s=d3.max(n)*l,u=(w=w.size([s,d])).nodes(c);u.forEach((function(e){e.y=e.depth*o}));var f=y.selectAll("g.node").data(u,(function(e){return e.id})),h=f.enter().append("g").attr("id",(function(e){return e.id})).attr("class","node").classed("active",(function(e){return e.active})).classed("collapsed",(function(e){return 0==e.expanded})).classed("suspended",(function(e){return e.suspended})).classed("selected",(function(e){return e.selected})).attr("transform",(function(e){var t=A(e);return"translate("+t.y+","+t.x+")"})).on("dblclick",M).on("click",T).on("mouseover",(function(e){for(var t=e;;){var i=p(t);if(!i)break;i.pathSvg.classed("active",!0),t=i.data.source}})).on("mouseout",(function(){d3.selectAll("path.link.active").classed("active",!1)})).on("contextmenu",E);h.append("circle").attr("class","nodeCircle").attr("r",15),h.append("svg:image").attr("xlink:href",(function(e){return e.icon})).attr("x",(function(e){return e.iconRound?-15:-8})).attr("y",(function(e){return e.iconRound?-15:-8})).attr("width",(function(e){return e.iconRound?30:16})).attr("height",(function(e){return e.iconRound?30:16})),h.append("text").attr("x",P).attr("dy",".35em").attr("dx",".70em").attr("class","nodeText").attr("text-anchor",z).text((function(e){return I(e.name)})).style("fill-opacity",0),h.append("circle").attr("class","ghostCircle").attr("r",30).attr("opacity",.2).style("fill","red").attr("pointer-events","mouseover"),f.classed("faded",(function(e){return 0==e.visible})).classed("active",(function(e){return e.active})).classed("collapsed",(function(e){return 0==e.expanded})).classed("selected",(function(e){return e.selected})).classed("suspended",(function(e){return e.suspended})),f.select("image").attr("xlink:href",(function(e){return e.selected?"/res/image/svg/Selected.svg":e.icon})).attr("x",(function(e){return g(e)})).attr("y",(function(e){return g(e)})).attr("width",(function(e){return m(e)})).attr("height",(function(e){return m(e)})),f.select("text").attr("x",P).attr("text-anchor",z);var v=f.transition().duration(a).attr("transform",(function(e){return k[e.id]={x:e.x,y:e.y},"translate("+e.y+","+e.x+")"}));v.select("text").text((function(e){return I(e.name)})).style("fill-opacity",1),v.select("circle").attr("r",15),v.select("image").style("opacity",1);var b=f.exit().transition().duration(a).attr("transform",(function(t){return t.parent&&_.contains(t.parent.items,t)?"translate("+e.y+","+e.x+")":"translate("+t.y+","+t.x+")"})).remove();b.select("circle").attr("r",0),b.select("text").style("fill-opacity",0),b.select("image").style("opacity",0);var C=w.links(u),D=y.selectAll("path.link").data(C,(function(e){return e.target.id})).classed("suspended",(function(e){return e.target.suspended}));D.enter().insert("path","g").attr("class","link").classed("suspended",(function(e){return e.target.suspended})).attr("d",(function(t){var i={x:k[e.id].x,y:k[e.id].y};return x({source:i,target:i})})),D.transition().duration(a).attr("d",x),D.exit().transition().duration(a).attr("d",S).remove(),i&&t.pan("center")}function p(e){var t=null;return d3.selectAll("path.link").each((function(i){i.target.id==e.id&&(t={data:i,pathSvg:d3.select(this)})})),t}function g(e){return e&&!e.selected&&"Root"==e.id?-15:-8}function m(e){return e&&!e.selected&&"Root"==e.id?30:16}function S(t){if(_.contains(t.source.items,t.target)){var i={x:e.x,y:e.y};return x({source:i,target:i})}return x({source:{x:t.source.x,y:t.source.y},target:{x:t.target.x,y:t.target.y}})}},t.freeze=function(){t._frozen=!0},t.unfreeze=function(){t._frozen=!1},t.pan=function(e){var t=m.translate();if(_.isString(e)){var i;switch(e){case"down":t[1]-=u;break;case"up":t[1]+=u;break;case"right":t[0]-=u;break;case"left":t[0]+=u;break;case"center":t=[g,p/2-w.size()[0]/2]}}else{var n=e;t[0]+=n[0],t[1]+=n[1]}m.translate(t),H(!0)},t.transformScale=function(e){var t=m.scale();switch(e){case"zoom-in":t+=.1;break;case"zoom-out":t-=.1}m.scale(t),H(!0)},t.getSelection=function(){return f},C(e)};var App=function(){var e=this;function t(){c(),$app=e,$util=new Util,$act=new ActionMan,$item=new ItemMan,$gui=new Gui,e.view=$gui.getCurrentView(),$root=new Root,chrome.tabs.onCreated.addListener(i),chrome.tabs.onUpdated.addListener(n),chrome.tabs.onMoved.addListener(r),chrome.tabs.onActivated.addListener(s),chrome.tabs.onAttached.addListener(a),chrome.tabs.onRemoved.addListener(o),chrome.windows.onRemoved.addListener(u),chrome.windows.onCreated.addListener(l)}function i(t){if($item.query({browserId:t.windowId})){var i=new Tab(t);e.view.update(i.parent)}}function n(t,i,n){var r=$item.query({browserId:t});r.update(n),e.view.update(r)}function r(t,i){var n=$item.query({browserId:i.windowId}),r=$item.query({browserId:t});n.reposition(r,i.toIndex),e.view.update(r)}function s(t){var i=$item.query({browserId:t.windowId});if(i){var n=_.where(i.leaves,{active:!0})[0];n&&n.update({active:!1});var r=$item.query({browserId:t.tabId});r.update({active:!0}),e.view.update(r)}else setTimeout((function(){chrome.windows.get(t.windowId,(function(e){e&&s(t)}))}),100)}function a(t,i){var n=$item.query({browserId:t}),r;(r=i.newWindowId?$item.query({browserId:i.newWindowId}):n.parent)&&(r.addChild(n,i.newPosition),e.view.update(n))}function o(t,i){if(i.isWindowClosing);else{var n=$item.query({browserId:t});if(n){var r=n.destruct();e.view.update(r)}}}function l(t){chrome.windows.get(t.id,{populate:!0},(function(t){var i=new Window(t);$item.get("Root").addChild(i),e.view.update(i)}))}function u(t){var i=$item.query({browserId:t});i&&(i.destruct(),e.view.update(i))}function c(){chrome.storage.local.get("preferences",(function(t){e._preferences=t.preferences||{},e.trigger("loaded")}))}$stopMove=!1,e.getPreference=function(t){return e._preferences[t]},e.setPreference=function(t,i){e._preferences[t]=i,e.save()},e.save=function(){chrome.storage.local.set({preferences:e._preferences})},t()};_.extend(App.prototype,Backbone.Events),$(document).ready((function(){new App})),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-36129102-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",e.src="https://ssl.google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.matchMedia("(prefers-color-scheme: light)").matches?$("html").attr("data-theme","light"):$("html").attr("data-theme","dark");